"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["citation-js-csl"],{"./node_modules/@citation-js/plugin-csl/lib-mjs/index.js":function(Te,s,e){e.r(s);var t=e("./node_modules/@citation-js/core/lib-mjs/index.js"),i=JSON.parse(`{"en-US":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"en-US\\"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"true\\"/><date form=\\"text\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> <!-- sine nomine --><term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">personal communication</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">accessed</term><term name=\\"and\\">and</term><term name=\\"and others\\">and others</term><term name=\\"anonymous\\">anonymous</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">at</term><term name=\\"available at\\">available at</term><term name=\\"by\\">by</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">cited</term><term name=\\"edition\\"><single>edition</single><multiple>editions</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">forthcoming</term><term name=\\"from\\">from</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in press</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">letter</term><term name=\\"no date\\">no date</term><term name=\\"no date\\" form=\\"short\\">n.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">presented at the</term><term name=\\"reference\\"><single>reference</single><multiple>references</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">retrieved</term><term name=\\"scale\\">scale</term><term name=\\"version\\">version</term>\\n<!-- LONG ITEM TYPE FORMS --><term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">personal communication</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n<!-- SHORT ITEM TYPE FORMS --><term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n<!-- HISTORICAL ERA TERMS --><term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n<!-- PUNCTUATION --><term name=\\"open-quote\\">\u201C</term><term name=\\"close-quote\\">\u201D</term><term name=\\"open-inner-quote\\">\u2018</term><term name=\\"close-inner-quote\\">\u2019</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n<!-- ORDINALS --><term name=\\"ordinal\\">th</term><term name=\\"ordinal-01\\">st</term><term name=\\"ordinal-02\\">nd</term><term name=\\"ordinal-03\\">rd</term><term name=\\"ordinal-11\\">th</term><term name=\\"ordinal-12\\">th</term><term name=\\"ordinal-13\\">th</term>\\n<!-- LONG ORDINALS --><term name=\\"long-ordinal-01\\">first</term><term name=\\"long-ordinal-02\\">second</term><term name=\\"long-ordinal-03\\">third</term><term name=\\"long-ordinal-04\\">fourth</term><term name=\\"long-ordinal-05\\">fifth</term><term name=\\"long-ordinal-06\\">sixth</term><term name=\\"long-ordinal-07\\">seventh</term><term name=\\"long-ordinal-08\\">eighth</term><term name=\\"long-ordinal-09\\">ninth</term><term name=\\"long-ordinal-10\\">tenth</term>\\n<!-- LONG LOCATOR FORMS --><term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>book</single><multiple>books</multiple></term><term name=\\"chapter\\"><single>chapter</single><multiple>chapters</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>number</single><multiple>numbers</multiple></term><term name=\\"line\\"><single>line</single><multiple>lines</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraph</single><multiple>paragraphs</multiple></term><term name=\\"part\\"><single>part</single><multiple>parts</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verse</single><multiple>verses</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term>\\n<!-- SHORT LOCATOR FORMS --><term name=\\"appendix\\" form=\\"short\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\" form=\\"short\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\" form=\\"short\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\" form=\\"short\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\" form=\\"short\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\" form=\\"short\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\" form=\\"short\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\" form=\\"short\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\" form=\\"short\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\"><single>bk.</single><multiple>bks.</multiple></term><term name=\\"chapter\\" form=\\"short\\"><single>chap.</single><multiple>chaps.</multiple></term><term name=\\"column\\" form=\\"short\\"><single>col.</single><multiple>cols.</multiple></term><term name=\\"figure\\" form=\\"short\\"><single>fig.</single><multiple>figs.</multiple></term><term name=\\"folio\\" form=\\"short\\"><single>fol.</single><multiple>fols.</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>no.</single><multiple>nos.</multiple></term><term name=\\"line\\" form=\\"short\\"><single>l.</single><multiple>ll.</multiple></term><term name=\\"note\\" form=\\"short\\"><single>n.</single><multiple>nn.</multiple></term><term name=\\"opus\\" form=\\"short\\"><single>op.</single><multiple>opp.</multiple></term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\"><single>para.</single><multiple>paras.</multiple></term><term name=\\"part\\" form=\\"short\\"><single>pt.</single><multiple>pts.</multiple></term><term name=\\"section\\" form=\\"short\\"><single>sec.</single><multiple>secs.</multiple></term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n<!-- SYMBOL LOCATOR FORMS --><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xB6</single><multiple>\xB6\xB6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7\xA7</multiple></term>\\n<!-- LONG ROLE FORMS --><term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>director</single><multiple>directors</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>translator</single><multiple>translators</multiple></term><term name=\\"editortranslator\\"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>\\n<!-- SHORT ROLE FORMS --><term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ills.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>tran.</single><multiple>trans.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>\\n<!-- VERB ROLE FORMS --><term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">by</term><term name=\\"director\\" form=\\"verb\\">directed by</term><term name=\\"editor\\" form=\\"verb\\">edited by</term><term name=\\"editorial-director\\" form=\\"verb\\">edited by</term><term name=\\"illustrator\\" form=\\"verb\\">illustrated by</term><term name=\\"interviewer\\" form=\\"verb\\">interview by</term><term name=\\"recipient\\" form=\\"verb\\">to</term><term name=\\"reviewed-author\\" form=\\"verb\\">by</term><term name=\\"translator\\" form=\\"verb\\">translated by</term><term name=\\"editortranslator\\" form=\\"verb\\">edited &amp; translated by</term>\\n<!-- SHORT VERB ROLE FORMS --><term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">dir. by</term><term name=\\"editor\\" form=\\"verb-short\\">ed. by</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed. by</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. by</term><term name=\\"translator\\" form=\\"verb-short\\">trans. by</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. &amp; trans. by</term>\\n<!-- LONG MONTH FORMS --><term name=\\"month-01\\">January</term><term name=\\"month-02\\">February</term><term name=\\"month-03\\">March</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">May</term><term name=\\"month-06\\">June</term><term name=\\"month-07\\">July</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">October</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">December</term>\\n<!-- SHORT MONTH FORMS --><term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">Mar.</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">May</term><term name=\\"month-06\\" form=\\"short\\">Jun.</term><term name=\\"month-07\\" form=\\"short\\">Jul.</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Oct.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dec.</term>\\n<!-- SEASONS --><term name=\\"season-01\\">Spring</term><term name=\\"season-02\\">Summer</term><term name=\\"season-03\\">Autumn</term><term name=\\"season-04\\">Winter</term></terms>\\n</locale>\\n","nl-NL":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"nl-NL\\"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> <!-- sine nomine --><term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">persoonlijke communicatie</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">geraadpleegd</term><term name=\\"and\\">en</term><term name=\\"and others\\">en anderen</term><term name=\\"anonymous\\">anoniem</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">bij</term><term name=\\"available at\\">beschikbaar op</term><term name=\\"by\\">door</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">geciteerd</term><term name=\\"edition\\"><single>druk</single><multiple>drukken</multiple></term><term name=\\"edition\\" form=\\"short\\">dr.</term><term name=\\"et-al\\">e.a.</term><term name=\\"forthcoming\\">in voorbereiding</term><term name=\\"from\\">van</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in druk</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">brief</term><term name=\\"no date\\">zonder datum</term><term name=\\"no date\\" form=\\"short\\">z.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gepresenteerd bij</term><term name=\\"reference\\"><single>referentie</single><multiple>referenties</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">geraadpleegd</term><term name=\\"scale\\">schaal</term><term name=\\"version\\">versie</term>\\n<!-- LONG ITEM TYPE FORMS --><term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">persoonlijke communicatie</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n<!-- SHORT ITEM TYPE FORMS --><term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n<!-- HISTORICAL ERA TERMS --><term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n<!-- PUNCTUATION --><term name=\\"open-quote\\">\u2018</term><term name=\\"close-quote\\">\u2019</term><term name=\\"open-inner-quote\\">\u201C</term><term name=\\"close-inner-quote\\">\u201D</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n<!-- ORDINALS --><term name=\\"ordinal\\">ste</term><term name=\\"ordinal-00\\" match=\\"whole-number\\">de</term><term name=\\"ordinal-02\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-03\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-04\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-05\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-06\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-07\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-09\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-10\\">de</term><term name=\\"ordinal-11\\">de</term><term name=\\"ordinal-12\\">de</term><term name=\\"ordinal-13\\">de</term><term name=\\"ordinal-14\\">de</term><term name=\\"ordinal-15\\">de</term><term name=\\"ordinal-16\\">de</term><term name=\\"ordinal-17\\">de</term><term name=\\"ordinal-18\\">de</term><term name=\\"ordinal-19\\">de</term>\\n<!-- LONG ORDINALS --><term name=\\"long-ordinal-01\\">eerste</term><term name=\\"long-ordinal-02\\">tweede</term><term name=\\"long-ordinal-03\\">derde</term><term name=\\"long-ordinal-04\\">vierde</term><term name=\\"long-ordinal-05\\">vijfde</term><term name=\\"long-ordinal-06\\">zesde</term><term name=\\"long-ordinal-07\\">zevende</term><term name=\\"long-ordinal-08\\">achtste</term><term name=\\"long-ordinal-09\\">negende</term><term name=\\"long-ordinal-10\\">tiende</term>\\n<!-- LONG LOCATOR FORMS --><term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>boek</single><multiple>boeken</multiple></term><term name=\\"chapter\\"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figuur</single><multiple>figuren</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folio's</multiple></term><term name=\\"issue\\"><single>nummer</single><multiple>nummers</multiple></term><term name=\\"line\\"><single>regel</single><multiple>regels</multiple></term><term name=\\"note\\"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>pagina</single><multiple>pagina's</multiple></term><term name=\\"number-of-pages\\"><single>pagina</single><multiple>pagina's</multiple></term><term name=\\"paragraph\\"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name=\\"part\\"><single>deel</single><multiple>delen</multiple></term><term name=\\"section\\"><single>sectie</single><multiple>secties</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>vers</single><multiple>versen</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term>\\n<!-- SHORT LOCATOR FORMS --><term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">hfdst.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">nr.</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">par.</term><term name=\\"part\\" form=\\"short\\">deel</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n<!-- SYMBOL LOCATOR FORMS --><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xB6</single><multiple>\xB6\xB6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7\xA7</multiple></term>\\n<!-- LONG ROLE FORMS --><term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>regisseur</single><multiple>regisseurs</multiple></term><term name=\\"editor\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"editorial-director\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>vertaler</single><multiple>vertalers</multiple></term><term name=\\"editortranslator\\"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>\\n<!-- SHORT ROLE FORMS --><term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>reg.</single><multiple>reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>vert.</single><multiple>vert.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>\\n<!-- VERB ROLE FORMS --><term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">door</term><term name=\\"director\\" form=\\"verb\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb\\">onder redactie van</term><term name=\\"editorial-director\\" form=\\"verb\\">onder redactie van</term><term name=\\"illustrator\\" form=\\"verb\\">ge\xEFllustreerd door</term><term name=\\"interviewer\\" form=\\"verb\\">ge\xEFnterviewd door</term><term name=\\"recipient\\" form=\\"verb\\">ontvangen door</term><term name=\\"reviewed-author\\" form=\\"verb\\">door</term><term name=\\"translator\\" form=\\"verb\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb\\">bewerkt &amp; vertaald door</term>\\n<!-- SHORT VERB ROLE FORMS --><term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb-short\\">onder redactie van</term><term name=\\"editorial-director\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb-short\\">ge\xEFllustreerd door</term><term name=\\"translator\\" form=\\"verb-short\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb-short\\">bewerkt &amp; vertaald door</term>\\n<!-- LONG MONTH FORMS --><term name=\\"month-01\\">januari</term><term name=\\"month-02\\">februari</term><term name=\\"month-03\\">maart</term><term name=\\"month-04\\">april</term><term name=\\"month-05\\">mei</term><term name=\\"month-06\\">juni</term><term name=\\"month-07\\">juli</term><term name=\\"month-08\\">augustus</term><term name=\\"month-09\\">september</term><term name=\\"month-10\\">oktober</term><term name=\\"month-11\\">november</term><term name=\\"month-12\\">december</term>\\n<!-- SHORT MONTH FORMS --><term name=\\"month-01\\" form=\\"short\\">jan.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mrt.</term><term name=\\"month-04\\" form=\\"short\\">apr.</term><term name=\\"month-05\\" form=\\"short\\">mei</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">aug.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">okt.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dec.</term>\\n<!-- SEASONS --><term name=\\"season-01\\">lente</term><term name=\\"season-02\\">zomer</term><term name=\\"season-03\\">herst</term><term name=\\"season-04\\">winter</term></terms>\\n</locale>\\n","fr-FR":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"fr-FR\\"><info><translator><name>Gr\xE9goire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\" limit-day-ordinals-to-day-1=\\"true\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">publication en ligne anticip\xE9e</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">enregistrement audio</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">d\xE9sormais</term><term name=\\"loc-cit\\">loc.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"no-place\\">sans lieu</term><term name=\\"no-place\\" form=\\"short\\">s.&#160;l.</term><term name=\\"no-publisher\\">sans nom</term> <!-- sine nomine --><term name=\\"no-publisher\\" form=\\"short\\">s.&#160;n.</term><term name=\\"on\\">sur</term><term name=\\"op-cit\\">op.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"original-work-published\\">\xE9dition originale</term><term name=\\"personal-communication\\">communication personnelle</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">\xE9pisode de podcast</term><term name=\\"preprint\\">pr\xE9publication</term><term name=\\"radio-broadcast\\">\xE9mission de radio</term><term name=\\"radio-series\\">s\xE9rie radiophonique</term><term name=\\"radio-series-episode\\">\xE9pisode de s\xE9rie radiophonique</term><term name=\\"special-issue\\">num\xE9ro sp\xE9cial</term><term name=\\"special-section\\">section sp\xE9ciale</term><term name=\\"television-broadcast\\">\xE9mission de t\xE9l\xE9vision</term><term name=\\"television-series\\">s\xE9rie t\xE9l\xE9vis\xE9e</term><term name=\\"television-series-episode\\">\xE9pisode de s\xE9rie t\xE9l\xE9vis\xE9e</term><term name=\\"video\\">vid\xE9o</term><term name=\\"working-paper\\">document de travail</term><term name=\\"accessed\\">consult\xE9 le</term><term name=\\"and\\">et</term><term name=\\"and others\\">et autres</term><term name=\\"anonymous\\">anonyme</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">sur</term><term name=\\"available at\\">disponible sur</term><term name=\\"by\\">par</term><term name=\\"circa\\">vers</term><term name=\\"circa\\" form=\\"short\\">v.</term><term name=\\"cited\\">cit\xE9</term><term name=\\"edition\\" gender=\\"feminine\\"><single>\xE9dition</single><multiple>\xE9ditions</multiple></term><term name=\\"edition\\" form=\\"short\\">\xE9d.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">\xE0 para\xEEtre</term><term name=\\"from\\">\xE0 l'adresse</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">sous presse</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">entretien</term><term name=\\"letter\\">lettre</term><term name=\\"no date\\">sans date</term><term name=\\"no date\\" form=\\"short\\">s.&#160;d.</term><term name=\\"online\\">en ligne</term><term name=\\"presented at\\">pr\xE9sent\xE9 \xE0</term><term name=\\"reference\\"><single>r\xE9f\xE9rence</single><multiple>r\xE9f\xE9rences</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>r\xE9f.</single><multiple>r\xE9f.</multiple></term><term name=\\"retrieved\\">consult\xE9</term><term name=\\"scale\\">\xE9chelle</term><term name=\\"version\\">version</term>\\n<!-- LONG ITEM TYPE FORMS --><term name=\\"article\\">article</term><term name=\\"article-journal\\">article de revue</term><term name=\\"article-magazine\\">article de magazine</term><term name=\\"article-newspaper\\">article de presse</term><term name=\\"bill\\">projet de loi</term><term name=\\"book\\">livre</term><term name=\\"broadcast\\">\xE9mission</term><term name=\\"chapter\\">chapitre de livre</term><term name=\\"classic\\">classique</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">jeu de donn\xE9es</term><term name=\\"document\\">document</term><term name=\\"entry\\">entr\xE9e</term><term name=\\"entry-dictionary\\">entr\xE9e de dictionnaire</term><term name=\\"entry-encyclopedia\\">entr\xE9e d'encyclop\xE9die</term><term name=\\"event\\">\xE9v\xE9nement</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\">image</term><term name=\\"hearing\\">audience</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">affaire</term><term name=\\"legislation\\">acte juridique</term><term name=\\"manuscript\\">manuscrit</term><term name=\\"map\\">carte</term><term name=\\"motion_picture\\">enregistrement vid\xE9o</term><term name=\\"musical_score\\">partition</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">article de colloque</term><term name=\\"patent\\">brevet</term><term name=\\"performance\\">interpr\xE9tation</term><term name=\\"periodical\\">p\xE9riodique</term><term name=\\"personal_communication\\">communication personnelle</term><term name=\\"post\\">billet</term><term name=\\"post-weblog\\">billet de blog</term><term name=\\"regulation\\">r\xE8glement</term><term name=\\"report\\">rapport</term><term name=\\"review\\">recension</term><term name=\\"review-book\\">recension de livre</term><term name=\\"software\\">logiciel</term><term name=\\"song\\">chanson</term><term name=\\"speech\\">pr\xE9sentation</term><term name=\\"standard\\">norme</term><term name=\\"thesis\\">th\xE8se</term><term name=\\"treaty\\">trait\xE9</term><term name=\\"webpage\\">page web</term>\\n<!-- SHORT ITEM TYPE FORMS --><term name=\\"article-journal\\" form=\\"short\\">art. de revue</term><term name=\\"article-magazine\\" form=\\"short\\">art. de mag.</term><term name=\\"article-newspaper\\" form=\\"short\\">art. de presse</term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap. de liv.</term><term name=\\"document\\" form=\\"short\\">doc.</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">ms</term><term name=\\"motion_picture\\" form=\\"short\\">enr. vid\xE9o</term><term name=\\"report\\" form=\\"short\\">rap.</term><term name=\\"review\\" form=\\"short\\">recens.</term><term name=\\"review-book\\" form=\\"short\\">recens. de liv.</term><term name=\\"song\\" form=\\"short\\">enr. audio</term>\\n<!-- HISTORICAL ERA TERMS --><term name=\\"ad\\">apr. J.-C.</term><term name=\\"bc\\">av. J.-C.</term><term name=\\"bce\\">av. n. \xE8.</term><term name=\\"ce\\">n. \xE8.</term>\\n<!-- PUNCTUATION --><term name=\\"open-quote\\">\xAB&#160;</term><term name=\\"close-quote\\">&#160;\xBB</term><term name=\\"open-inner-quote\\">\u201C</term><term name=\\"close-inner-quote\\">\u201D</term><term name=\\"page-range-delimiter\\">&#8209;</term> <!-- non-breaking hyphen --><term name=\\"colon\\">&#160;:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">&#160;;</term>\\n<!-- ORDINALS --><term name=\\"ordinal\\">\u1D49</term><term name=\\"ordinal-01\\" gender-form=\\"feminine\\" match=\\"whole-number\\">\u02B3\u1D49</term><term name=\\"ordinal-01\\" gender-form=\\"masculine\\" match=\\"whole-number\\">\u1D49\u02B3</term>\\n<!-- LONG ORDINALS --><term name=\\"long-ordinal-01\\">premier</term><term name=\\"long-ordinal-02\\">deuxi\xE8me</term><term name=\\"long-ordinal-03\\">troisi\xE8me</term><term name=\\"long-ordinal-04\\">quatri\xE8me</term><term name=\\"long-ordinal-05\\">cinqui\xE8me</term><term name=\\"long-ordinal-06\\">sixi\xE8me</term><term name=\\"long-ordinal-07\\">septi\xE8me</term><term name=\\"long-ordinal-08\\">huiti\xE8me</term><term name=\\"long-ordinal-09\\">neuvi\xE8me</term><term name=\\"long-ordinal-10\\">dixi\xE8me</term>\\n<!-- LONG LOCATOR FORMS --><term name=\\"act\\"><single>acte</single><multiple>actes</multiple></term><term name=\\"appendix\\"><single>appendice</single><multiple>appendices</multiple></term><term name=\\"article-locator\\"><single>article</single><multiple>articles</multiple></term><term name=\\"canon\\"><single>canon</single><multiple>canons</multiple></term><term name=\\"elocation\\"><single>emplacement</single><multiple>emplacements</multiple></term><term name=\\"equation\\"><single>\xE9quation</single><multiple>\xE9quations</multiple></term><term name=\\"rule\\"><single>r\xE8gle</single><multiple>r\xE8gles</multiple></term><term name=\\"scene\\"><single>sc\xE8ne</single><multiple>sc\xE8nes</multiple></term><term name=\\"table\\"><single>tableau</single><multiple>tableaux</multiple></term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple></term><term name=\\"title-locator\\"><single>titre</single><multiple>titres</multiple></term><term name=\\"book\\"><single>livre</single><multiple>livres</multiple></term><term name=\\"chapter\\"><single>chapitre</single><multiple>chapitres</multiple></term><term name=\\"column\\"><single>colonne</single><multiple>colonnes</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\" gender=\\"masculine\\"><single>num\xE9ro</single><multiple>num\xE9ros</multiple></term><term name=\\"line\\"><single>ligne</single><multiple>lignes</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opus</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name=\\"part\\"><single>partie</single><multiple>parties</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verset</single><multiple>versets</multiple></term><term name=\\"volume\\" gender=\\"masculine\\"><single>volume</single><multiple>volumes</multiple></term>\\n<!-- SHORT LOCATOR FORMS --><term name=\\"appendix\\"><single>append.</single><multiple>append.</multiple></term><term name=\\"article-locator\\"><single>art.</single><multiple>art.</multiple></term><term name=\\"elocation\\"><single>emplact</single><multiple>emplact</multiple></term><term name=\\"equation\\"><single>eq.</single><multiple>eq.</multiple></term><term name=\\"rule\\"><single>r\xE8gle</single><multiple>r\xE8gles</multiple></term><term name=\\"scene\\"><single>sc.</single><multiple>sc.</multiple></term><term name=\\"table\\"><single>tab.</single><multiple>tab.</multiple></term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple></term><term name=\\"title-locator\\"><single>tit.</single><multiple>tit.</multiple></term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\"><single>f\u1D52</single><multiple>f\u1D52\u02E2</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>n\u1D52</single><multiple>n\u1D52\u02E2</multiple></term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">paragr.</term><term name=\\"part\\" form=\\"short\\">part.</term><term name=\\"section\\" form=\\"short\\">sect.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>v.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vol.</multiple></term>\\n<!-- SYMBOL LOCATOR FORMS --><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7</multiple></term>\\n<!-- LONG ROLE FORMS --><term name=\\"chair\\"><single>pr\xE9sident</single><multiple>pr\xE9sidents</multiple></term><term name=\\"compiler\\"><single>compilateur</single><multiple>compilateurs</multiple></term><term name=\\"contributor\\"><single>contributeur</single><multiple>contributeurs</multiple></term><term name=\\"curator\\"><single>commissaire</single><multiple>commissaires</multiple></term><term name=\\"executive-producer\\"><single>producteur ex\xE9cutif</single><multiple>producteurs ex\xE9cutifs</multiple></term><term name=\\"guest\\"><single>invit\xE9</single><multiple>invit\xE9s</multiple></term><term name=\\"host\\"><single>h\xF4te</single><multiple>h\xF4tes</multiple></term><term name=\\"narrator\\"><single>narrateur</single><multiple>narrateurs</multiple></term><term name=\\"organizer\\"><single>organisateur</single><multiple>organisateurs</multiple></term><term name=\\"performer\\"><single>interpr\xE8te</single><multiple>interpr\xE8tes</multiple></term><term name=\\"producer\\"><single>producteur</single><multiple>producteurs</multiple></term><term name=\\"script-writer\\"><single>sc\xE9nariste</single><multiple>sc\xE9naristes</multiple></term><term name=\\"series-creator\\"><single>cr\xE9ateur de s\xE9rie</single><multiple>cr\xE9ateurs de s\xE9rie</multiple></term><term name=\\"director\\"><single>r\xE9alisateur</single><multiple>r\xE9alisateurs</multiple></term><term name=\\"editor\\"><single>\xE9diteur</single><multiple>\xE9diteurs</multiple></term><term name=\\"editorial-director\\"><single>directeur</single><multiple>directeurs</multiple></term><term name=\\"illustrator\\"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name=\\"translator\\"><single>traducteur</single><multiple>traducteurs</multiple></term><term name=\\"editortranslator\\"><single>\xE9diteur et traducteur</single><multiple>\xE9diteurs et traducteurs</multiple></term>\\n<!-- SHORT ROLE FORMS --><term name=\\"compiler\\" form=\\"short\\"><single>compil.</single><multiple>compil.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contrib.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>commiss.</single><multiple>commiss.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>prod. ex\xE9.</single><multiple>prod. ex\xE9.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narr.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>org.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>interpr.</single><multiple>interpr.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prod.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>sc\xE9nar.</single><multiple>sc\xE9nar.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cr\xE9at.</single><multiple>cr\xE9at.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>r\xE9al.</single><multiple>r\xE9al.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>\xE9d.</single><multiple>\xE9d.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>dir.</single><multiple>dir.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trad.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>\xE9d. et trad.</single><multiple>\xE9d. et trad.</multiple></term>\\n<!-- VERB ROLE FORMS --><term name=\\"chair\\" form=\\"verb\\">pr\xE9sid\xE9 par</term><term name=\\"compiler\\" form=\\"verb\\">compil\xE9 par</term><term name=\\"contributor\\" form=\\"verb\\">avec</term><term name=\\"curator\\" form=\\"verb\\">organis\xE9 par</term><term name=\\"executive-producer\\" form=\\"verb\\">production ex\xE9cutive par</term><term name=\\"guest\\" form=\\"verb\\">avec pour invit\xE9</term><term name=\\"host\\" form=\\"verb\\">anim\xE9 par</term><term name=\\"narrator\\" form=\\"verb\\">lu par</term><term name=\\"organizer\\" form=\\"verb\\">organis\xE9 par</term><term name=\\"performer\\" form=\\"verb\\">interpr\xE9t\xE9 par</term><term name=\\"producer\\" form=\\"verb\\">produit par</term><term name=\\"script-writer\\" form=\\"verb\\">sc\xE9nario de</term><term name=\\"series-creator\\" form=\\"verb\\">cr\xE9\xE9 par</term><term name=\\"container-author\\" form=\\"verb\\">par</term><term name=\\"director\\" form=\\"verb\\">r\xE9alis\xE9 par</term><term name=\\"editor\\" form=\\"verb\\">\xE9dit\xE9 par</term><term name=\\"editorial-director\\" form=\\"verb\\">sous la direction de</term><term name=\\"illustrator\\" form=\\"verb\\">illustr\xE9 par</term><term name=\\"interviewer\\" form=\\"verb\\">entretien r\xE9alis\xE9 par</term><term name=\\"recipient\\" form=\\"verb\\">\xE0</term><term name=\\"reviewed-author\\" form=\\"verb\\">par</term><term name=\\"translator\\" form=\\"verb\\">traduit par</term><term name=\\"editortranslator\\" form=\\"verb\\">\xE9dit\xE9 et traduit par</term>\\n<!-- SHORT VERB ROLE FORMS --><term name=\\"compiler\\" form=\\"verb-short\\">compil. par</term><term name=\\"contributor\\" form=\\"verb-short\\">ac</term><term name=\\"curator\\" form=\\"verb-short\\">org. par</term><term name=\\"executive-producer\\" form=\\"verb-short\\">prod. ex\xE9. par</term><term name=\\"guest\\" form=\\"verb-short\\">ac pr inv.</term><term name=\\"host\\" form=\\"verb-short\\">anim. par</term><term name=\\"narrator\\" form=\\"verb-short\\">lu par</term><term name=\\"organizer\\" form=\\"verb-short\\">org. par</term><term name=\\"performer\\" form=\\"verb-short\\">interpr. par</term><term name=\\"producer\\" form=\\"verb-short\\">prod. par</term><term name=\\"script-writer\\" form=\\"verb-short\\">sc\xE9nar. de</term><term name=\\"series-creator\\" form=\\"verb-short\\">cr\xE9\xE9 par</term><term name=\\"director\\" form=\\"verb-short\\">r\xE9al. par</term><term name=\\"editor\\" form=\\"verb-short\\">\xE9d. par</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ss la dir. de</term><term name=\\"illustrator\\" form=\\"verb-short\\">ill. par</term><term name=\\"translator\\" form=\\"verb-short\\">trad. par</term><term name=\\"editortranslator\\" form=\\"verb-short\\">\xE9d. et trad. par</term>\\n<!-- LONG MONTH FORMS --><term name=\\"month-01\\" gender=\\"masculine\\">janvier</term><term name=\\"month-02\\" gender=\\"masculine\\">f\xE9vrier</term><term name=\\"month-03\\" gender=\\"masculine\\">mars</term><term name=\\"month-04\\" gender=\\"masculine\\">avril</term><term name=\\"month-05\\" gender=\\"masculine\\">mai</term><term name=\\"month-06\\" gender=\\"masculine\\">juin</term><term name=\\"month-07\\" gender=\\"masculine\\">juillet</term><term name=\\"month-08\\" gender=\\"masculine\\">ao\xFBt</term><term name=\\"month-09\\" gender=\\"masculine\\">septembre</term><term name=\\"month-10\\" gender=\\"masculine\\">octobre</term><term name=\\"month-11\\" gender=\\"masculine\\">novembre</term><term name=\\"month-12\\" gender=\\"masculine\\">d\xE9cembre</term>\\n<!-- SHORT MONTH FORMS --><term name=\\"month-01\\" form=\\"short\\">janv.</term><term name=\\"month-02\\" form=\\"short\\">f\xE9vr.</term><term name=\\"month-03\\" form=\\"short\\">mars</term><term name=\\"month-04\\" form=\\"short\\">avr.</term><term name=\\"month-05\\" form=\\"short\\">mai</term><term name=\\"month-06\\" form=\\"short\\">juin</term><term name=\\"month-07\\" form=\\"short\\">juill.</term><term name=\\"month-08\\" form=\\"short\\">ao\xFBt</term><term name=\\"month-09\\" form=\\"short\\">sept.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">d\xE9c.</term>\\n<!-- SEASONS --><term name=\\"season-01\\">printemps</term><term name=\\"season-02\\">\xE9t\xE9</term><term name=\\"season-03\\">automne</term><term name=\\"season-04\\">hiver</term></terms>\\n</locale>\\n","de-DE":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"de-DE\\"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" form=\\"ordinal\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> <!-- sine nomine --><term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">pers\xF6nliche Kommunikation</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">zugegriffen</term><term name=\\"and\\">und</term><term name=\\"and others\\">und andere</term><term name=\\"anonymous\\">ohne Autor</term><term name=\\"anonymous\\" form=\\"short\\">o.&#160;A.</term><term name=\\"at\\">auf</term><term name=\\"available at\\">verf\xFCgbar unter</term><term name=\\"by\\">von</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"cited\\">zitiert</term><term name=\\"edition\\"><single>Auflage</single><multiple>Auflagen</multiple></term><term name=\\"edition\\" form=\\"short\\">Aufl.</term><term name=\\"et-al\\">u.&#160;a.</term><term name=\\"forthcoming\\">i.&#160;E.</term><term name=\\"from\\">von</term><term name=\\"ibid\\">ebd.</term><term name=\\"in\\">in</term><term name=\\"in press\\">im Druck</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">Interview</term><term name=\\"letter\\">Brief</term><term name=\\"no date\\">ohne Datum</term><term name=\\"no date\\" form=\\"short\\">o.&#160;J.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gehalten auf der</term><term name=\\"reference\\"><single>Referenz</single><multiple>Referenzen</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>Ref.</single><multiple>Ref.</multiple></term><term name=\\"retrieved\\">abgerufen</term><term name=\\"scale\\">Ma\xDFstab</term><term name=\\"version\\">Version</term>\\n<!-- LONG ITEM TYPE FORMS --><term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">pers\xF6nliche Kommunikation</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n<!-- SHORT ITEM TYPE FORMS --><term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n<!-- HISTORICAL ERA TERMS --><term name=\\"ad\\">&#160;n.&#160;Chr.</term><term name=\\"bc\\">&#160;v.&#160;Chr.</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n<!-- PUNCTUATION --><term name=\\"open-quote\\">\u201E</term><term name=\\"close-quote\\">\u201C</term><term name=\\"open-inner-quote\\">\u201A</term><term name=\\"close-inner-quote\\">\u2018</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n<!-- ORDINALS --><term name=\\"ordinal\\">.</term>\\n<!-- LONG ORDINALS --><term name=\\"long-ordinal-01\\">erster</term><term name=\\"long-ordinal-02\\">zweiter</term><term name=\\"long-ordinal-03\\">dritter</term><term name=\\"long-ordinal-04\\">vierter</term><term name=\\"long-ordinal-05\\">f\xFCnfter</term><term name=\\"long-ordinal-06\\">sechster</term><term name=\\"long-ordinal-07\\">siebter</term><term name=\\"long-ordinal-08\\">achter</term><term name=\\"long-ordinal-09\\">neunter</term><term name=\\"long-ordinal-10\\">zehnter</term>\\n<!-- LONG LOCATOR FORMS --><term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>Buch</single><multiple>B\xFCcher</multiple></term><term name=\\"chapter\\"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name=\\"column\\"><single>Spalte</single><multiple>Spalten</multiple></term><term name=\\"figure\\"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name=\\"folio\\"><single>Blatt</single><multiple>Bl\xE4tter</multiple></term><term name=\\"issue\\"><single>Nummer</single><multiple>Nummern</multiple></term><term name=\\"line\\"><single>Zeile</single><multiple>Zeilen</multiple></term><term name=\\"note\\"><single>Note</single><multiple>Noten</multiple></term><term name=\\"opus\\"><single>Opus</single><multiple>Opera</multiple></term><term name=\\"page\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"number-of-pages\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"paragraph\\"><single>Absatz</single><multiple>Abs\xE4tze</multiple></term><term name=\\"part\\"><single>Teil</single><multiple>Teile</multiple></term><term name=\\"section\\"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>Vers</single><multiple>Verse</multiple></term><term name=\\"volume\\"><single>Band</single><multiple>B\xE4nde</multiple></term>\\n<!-- SHORT LOCATOR FORMS --><term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">B.</term><term name=\\"chapter\\" form=\\"short\\">Kap.</term><term name=\\"column\\" form=\\"short\\">Sp.</term><term name=\\"figure\\" form=\\"short\\">Abb.</term><term name=\\"folio\\" form=\\"short\\">Fol.</term><term name=\\"issue\\" form=\\"short\\">Nr.</term><term name=\\"line\\" form=\\"short\\">Z.</term><term name=\\"note\\" form=\\"short\\">N.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">Abs.</term><term name=\\"part\\" form=\\"short\\">Teil</term><term name=\\"section\\" form=\\"short\\">Abschn.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>V.</single><multiple>V.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>Bd.</single><multiple>Bde.</multiple></term>\\n<!-- SYMBOL LOCATOR FORMS --><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xB6</single><multiple>\xB6\xB6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7\xA7</multiple></term>\\n<!-- LONG ROLE FORMS --><term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name=\\"editor\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"collection-editor\\"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name=\\"editorial-director\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"illustrator\\"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name=\\"translator\\"><single>\xDCbersetzer</single><multiple>\xDCbersetzer</multiple></term><term name=\\"editortranslator\\"><single>Herausgeber&#160;&amp; \xDCbersetzer</single><multiple>Herausgeber&#160;&amp; \xDCbersetzer</multiple></term>\\n<!-- SHORT ROLE FORMS --><term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>Reg.</single><multiple>Reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>Ill.</single><multiple>Ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>\xDCbers.</single><multiple>\xDCbers.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>Hrsg.&#160;&amp; \xDCbers.</single><multiple>Hrsg.&#160;&amp; \xDCbers.</multiple></term>\\n<!-- VERB ROLE FORMS --><term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">von</term><term name=\\"director\\" form=\\"verb\\">Regie von</term><term name=\\"editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"collection-editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"editorial-director\\" form=\\"verb\\">herausgegeben von</term><term name=\\"illustrator\\" form=\\"verb\\">illustriert von</term><term name=\\"interviewer\\" form=\\"verb\\">interviewt von</term><term name=\\"recipient\\" form=\\"verb\\">an</term><term name=\\"reviewed-author\\" form=\\"verb\\">von</term><term name=\\"translator\\" form=\\"verb\\">\xFCbersetzt von</term><term name=\\"editortranslator\\" form=\\"verb\\">herausgegeben und \xFCbersetzt von</term>\\n<!-- SHORT VERB ROLE FORMS --><term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">Reg.</term><term name=\\"editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"collection-editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"editorial-director\\" form=\\"verb-short\\">hg. von</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. von</term><term name=\\"translator\\" form=\\"verb-short\\">\xFCbers. von</term><term name=\\"editortranslator\\" form=\\"verb-short\\">hg.&#160;&amp; \xFCbers. von</term>\\n<!-- LONG MONTH FORMS --><term name=\\"month-01\\">Januar</term><term name=\\"month-02\\">Februar</term><term name=\\"month-03\\">M\xE4rz</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">Mai</term><term name=\\"month-06\\">Juni</term><term name=\\"month-07\\">Juli</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">Oktober</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">Dezember</term>\\n<!-- SHORT MONTH FORMS --><term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">M\xE4rz</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">Mai</term><term name=\\"month-06\\" form=\\"short\\">Juni</term><term name=\\"month-07\\" form=\\"short\\">Juli</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Okt.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dez.</term>\\n<!-- SEASONS --><term name=\\"season-01\\">Fr\xFChjahr</term><term name=\\"season-02\\">Sommer</term><term name=\\"season-03\\">Herbst</term><term name=\\"season-04\\">Winter</term></terms>\\n</locale>\\n","es-ES":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"es-ES\\"><info><translator><name>javimat</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" de \\"/><date-part name=\\"month\\" suffix=\\" de \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> <!-- sine nomine --><term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">comunicaci\xF3n personal</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">accedido</term><term name=\\"and\\">y</term><term name=\\"and others\\">y otros</term><term name=\\"anonymous\\">an\xF3nimo</term><term name=\\"anonymous\\" form=\\"short\\">an\xF3n.</term><term name=\\"at\\">en</term><term name=\\"available at\\">disponible en</term><term name=\\"by\\">de</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">citado</term><term name=\\"edition\\"><single>edici\xF3n</single><multiple>ediciones</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et&#160;al.</term><term name=\\"forthcoming\\">previsto</term><term name=\\"from\\">a partir de</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">en</term><term name=\\"in press\\">en imprenta</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">entrevista</term><term name=\\"letter\\">carta</term><term name=\\"no date\\">sin fecha</term><term name=\\"no date\\" form=\\"short\\">s.&#160;f.</term><term name=\\"online\\">en l\xEDnea</term><term name=\\"presented at\\">presentado en</term><term name=\\"reference\\"><single>referencia</single><multiple>referencias</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">recuperado</term><term name=\\"scale\\">escala</term><term name=\\"version\\">versi\xF3n</term>\\n<!-- LONG ITEM TYPE FORMS --><term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">comunicaci\xF3n personal</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n<!-- SHORT ITEM TYPE FORMS --><term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term><!-- figure is in the list of locator terms --><term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n<!-- HISTORICAL ERA TERMS --><term name=\\"ad\\">d.&#160;C.</term><term name=\\"bc\\">a.&#160;C.</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n<!-- PUNCTUATION --><term name=\\"open-quote\\">\xAB</term><term name=\\"close-quote\\">\xBB</term><term name=\\"open-inner-quote\\">\u201C</term><term name=\\"close-inner-quote\\">\u201D</term><term name=\\"page-range-delimiter\\">-</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n<!-- ORDINALS --><term name=\\"ordinal\\">.\xAA</term>\\n<!-- LONG ORDINALS --><term name=\\"long-ordinal-01\\">primera</term><term name=\\"long-ordinal-02\\">segunda</term><term name=\\"long-ordinal-03\\">tercera</term><term name=\\"long-ordinal-04\\">cuarta</term><term name=\\"long-ordinal-05\\">quinta</term><term name=\\"long-ordinal-06\\">sexta</term><term name=\\"long-ordinal-07\\">s\xE9ptima</term><term name=\\"long-ordinal-08\\">octava</term><term name=\\"long-ordinal-09\\">novena</term><term name=\\"long-ordinal-10\\">d\xE9cima</term>\\n<!-- LONG LOCATOR FORMS --><term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>libro</single><multiple>libros</multiple></term><term name=\\"chapter\\"><single>cap\xEDtulo</single><multiple>cap\xEDtulos</multiple></term><term name=\\"column\\"><single>columna</single><multiple>columnas</multiple></term><term name=\\"figure\\"><single>figura</single><multiple>figuras</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>n\xFAmero</single><multiple>n\xFAmeros</multiple></term><term name=\\"line\\"><single>l\xEDnea</single><multiple>l\xEDneas</multiple></term><term name=\\"note\\"><single>nota</single><multiple>notas</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>p\xE1gina</single><multiple>p\xE1ginas</multiple></term><term name=\\"number-of-pages\\"><single>p\xE1gina</single><multiple>p\xE1ginas</multiple></term><term name=\\"paragraph\\"><single>p\xE1rrafo</single><multiple>p\xE1rrafos</multiple></term><term name=\\"part\\"><single>parte</single><multiple>partes</multiple></term><term name=\\"section\\"><single>secci\xF3n</single><multiple>secciones</multiple></term><term name=\\"sub-verbo\\"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name=\\"verse\\"><single>verso</single><multiple>versos</multiple></term><term name=\\"volume\\"><single>volumen</single><multiple>vol\xFAmenes</multiple></term>\\n<!-- SHORT LOCATOR FORMS --><term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> <!-- generally blank --><single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">lib.</term><term name=\\"chapter\\" form=\\"short\\">cap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">n.\xBA</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">p\xE1rr.</term><term name=\\"part\\" form=\\"short\\">pt.</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n<!-- SYMBOL LOCATOR FORMS --><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xA7</single><multiple>\xA7</multiple></term>\\n<!-- LONG ROLE FORMS --><term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>director</single><multiple>directores</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"illustrator\\"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name=\\"translator\\"><single>traductor</single><multiple>traductores</multiple></term><term name=\\"editortranslator\\"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>\\n<!-- SHORT ROLE FORMS --><term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ilust.</single><multiple>ilusts.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trads.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>\\n<!-- VERB ROLE FORMS --><term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">de</term><term name=\\"director\\" form=\\"verb\\">dirigido por</term><term name=\\"editor\\" form=\\"verb\\">editado por</term><term name=\\"editorial-director\\" form=\\"verb\\">editado por</term><term name=\\"illustrator\\" form=\\"verb\\">ilustrado por</term><term name=\\"interviewer\\" form=\\"verb\\">entrevistado por</term><term name=\\"recipient\\" form=\\"verb\\">a</term><term name=\\"reviewed-author\\" form=\\"verb\\">por</term><term name=\\"translator\\" form=\\"verb\\">traducido por</term><term name=\\"editortranslator\\" form=\\"verb\\">editado y traducido por</term>\\n<!-- SHORT VERB ROLE FORMS --><term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">dir.</term><term name=\\"editor\\" form=\\"verb-short\\">ed.</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed.</term><term name=\\"illustrator\\" form=\\"verb-short\\">ilust.</term><term name=\\"translator\\" form=\\"verb-short\\">trad.</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. y trad.</term>\\n<!-- LONG MONTH FORMS --><term name=\\"month-01\\">enero</term><term name=\\"month-02\\">febrero</term><term name=\\"month-03\\">marzo</term><term name=\\"month-04\\">abril</term><term name=\\"month-05\\">mayo</term><term name=\\"month-06\\">junio</term><term name=\\"month-07\\">julio</term><term name=\\"month-08\\">agosto</term><term name=\\"month-09\\">septiembre</term><term name=\\"month-10\\">octubre</term><term name=\\"month-11\\">noviembre</term><term name=\\"month-12\\">diciembre</term>\\n<!-- SHORT MONTH FORMS --><term name=\\"month-01\\" form=\\"short\\">ene.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mar.</term><term name=\\"month-04\\" form=\\"short\\">abr.</term><term name=\\"month-05\\" form=\\"short\\">may</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">ago.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dic.</term>\\n<!-- SEASONS --><term name=\\"season-01\\">primavera</term><term name=\\"season-02\\">verano</term><term name=\\"season-03\\">oto\xF1o</term><term name=\\"season-04\\">invierno</term></terms>\\n</locale>\\n"}`);const r=new t.util.Register(i),a=_=>r.has(_)?r.get(_):r.get("en-US");var n=null,o=JSON.parse(`{"apa":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"never\\" page-range-format=\\"expanded\\"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href=\\"http://www.zotero.org/styles/apa\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/apa-6th-edition\\" rel=\\"template\\"/><link href=\\"https://apastyle.apa.org/style-grammar-guidelines/references/examples\\" rel=\\"documentation\\"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format=\\"author-date\\"/><category field=\\"psychology\\"/><category field=\\"generic-base\\"/><updated>2022-01-31T14:43:56+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><terms><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"translator\\" form=\\"short\\">trans.</term><term name=\\"interviewer\\" form=\\"short\\"><single>interviewer</single><multiple>interviewers</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"bc\\"> B.C.E.</term><term name=\\"ad\\"> C.E.</term><term name=\\"letter\\">personal communication</term><term name=\\"letter\\" form=\\"short\\">letter</term><term name=\\"issue\\" form=\\"long\\"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang=\\"af\\"><terms><term name=\\"letter\\">persoonlike kommunikasie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"ar\\"><terms><term name=\\"letter\\">\u0627\u062A\u0635\u0627\u0644 \u0634\u062E\u0635\u064A</term><term name=\\"letter\\" form=\\"short\\">\u062E\u0637\u0627\u0628</term></terms></locale><locale xml:lang=\\"bg\\"><terms><term name=\\"letter\\">\u043B\u0438\u0447\u043D\u0430 \u043A\u043E\u043C\u0443\u043D\u0438\u043A\u0430\u0446\u0438\u044F</term><term name=\\"letter\\" form=\\"short\\">\u043F\u0438\u0441\u043C\u043E</term></terms></locale><locale xml:lang=\\"ca\\"><terms><term name=\\"letter\\">comunicaci\xF3 personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"cs\\"><terms><term name=\\"letter\\">osobn\xED komunikace</term><term name=\\"letter\\" form=\\"short\\">dopis</term></terms></locale><locale xml:lang=\\"cy\\"><terms><term name=\\"letter\\">cyfathrebu personol</term><term name=\\"letter\\" form=\\"short\\">llythyr</term></terms></locale><locale xml:lang=\\"da\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"de\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">pers\xF6nliche Kommunikation</term><term name=\\"letter\\" form=\\"short\\">Brief</term></terms></locale><locale xml:lang=\\"el\\"><terms><term name=\\"letter\\">\u03C0\u03C1\u03BF\u03C3\u03C9\u03C0\u03B9\u03BA\u03AE \u03B5\u03C0\u03B9\u03BA\u03BF\u03B9\u03BD\u03C9\u03BD\u03AF\u03B1</term><term name=\\"letter\\" form=\\"short\\">\u03B5\u03C0\u03B9\u03C3\u03C4\u03BF\u03BB\u03AE</term></terms></locale><locale xml:lang=\\"es\\"><terms><term name=\\"from\\">de</term><term name=\\"letter\\">comunicaci\xF3n personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"et\\"><terms><term name=\\"letter\\">isiklik suhtlus</term><term name=\\"letter\\" form=\\"short\\">kiri</term></terms></locale><locale xml:lang=\\"eu\\"><terms><term name=\\"letter\\">komunikazio pertsonala</term><term name=\\"letter\\" form=\\"short\\">gutuna</term></terms></locale><locale xml:lang=\\"fa\\"><terms><term name=\\"letter\\">\u0627\u0631\u062A\u0628\u0627\u0637 \u0634\u062E\u0635\u06CC</term><term name=\\"letter\\" form=\\"short\\">\u0646\u0627\u0645\u0647</term></terms></locale><locale xml:lang=\\"fi\\"><terms><term name=\\"letter\\">henkil\xF6kohtainen viestint\xE4</term><term name=\\"letter\\" form=\\"short\\">kirje</term></terms></locale><locale xml:lang=\\"fr\\"><terms><term name=\\"letter\\">communication personnelle</term><term name=\\"letter\\" form=\\"short\\">lettre</term><term name=\\"editor\\" form=\\"short\\"><single>\xE9d.</single><multiple>\xE9ds.</multiple></term></terms></locale><locale xml:lang=\\"he\\"><terms><term name=\\"letter\\">\u05EA\u05E7\u05E9\u05D5\u05E8\u05EA \u05D0\u05D9\u05E9\u05D9\u05EA</term><term name=\\"letter\\" form=\\"short\\">\u05DE\u05DB\u05EA\u05D1</term></terms></locale><locale xml:lang=\\"hr\\"><terms><term name=\\"letter\\">osobna komunikacija</term><term name=\\"letter\\" form=\\"short\\">pismo</term></terms></locale><locale xml:lang=\\"hu\\"><terms><term name=\\"letter\\">szem\xE9lyes kommunik\xE1ci\xF3</term><term name=\\"letter\\" form=\\"short\\">lev\xE9l</term></terms></locale><locale xml:lang=\\"id\\"><terms><term name=\\"letter\\">komunikasi pribadi</term><term name=\\"letter\\" form=\\"short\\">surat</term></terms></locale><locale xml:lang=\\"is\\"><terms><term name=\\"letter\\">pers\xF3nuleg samskipti</term><term name=\\"letter\\" form=\\"short\\">br\xE9f</term></terms></locale><locale xml:lang=\\"it\\"><terms><term name=\\"letter\\">comunicazione personale</term><term name=\\"letter\\" form=\\"short\\">lettera</term></terms></locale><locale xml:lang=\\"ja\\"><terms><term name=\\"letter\\">\u500B\u4EBA\u7684\u306A\u3084\u308A\u53D6\u308A</term><term name=\\"letter\\" form=\\"short\\">\u624B\u7D19</term></terms></locale><locale xml:lang=\\"ko\\"><terms><term name=\\"letter\\">\uAC1C\uC778 \uC11C\uC2E0</term><term name=\\"letter\\" form=\\"short\\">\uD3B8\uC9C0</term></terms></locale><locale xml:lang=\\"la\\"><terms><term name=\\"letter\\"/><term name=\\"letter\\" form=\\"short\\">epistula</term></terms></locale><locale xml:lang=\\"lt\\"><terms><term name=\\"letter\\">communicationis personalis</term><term name=\\"letter\\" form=\\"short\\"/></terms></locale><locale xml:lang=\\"lv\\"><terms><term name=\\"letter\\">person\u012Bga komunik\u0101cija</term><term name=\\"letter\\" form=\\"short\\">v\u0113stule</term></terms></locale><locale xml:lang=\\"mn\\"><terms><term name=\\"letter\\">\u0445\u0443\u0432\u0438\u0439\u043D \u0445\u0430\u0440\u0438\u043B\u0446\u0430\u0430 \u0445\u043E\u043B\u0431\u043E\u043E</term><term name=\\"letter\\" form=\\"short\\">\u0437\u0430\u0445\u0438\u0430</term></terms></locale><locale xml:lang=\\"nb\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"nl\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">persoonlijke communicatie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"nn\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"pl\\"><terms><term name=\\"letter\\">osobista komunikacja</term><term name=\\"letter\\" form=\\"short\\">list</term></terms></locale><locale xml:lang=\\"pt\\"><terms><term name=\\"letter\\">comunica\xE7\xE3o pessoal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"ro\\"><terms><term name=\\"letter\\">comunicare personal\u0103</term><term name=\\"letter\\" form=\\"short\\">scrisoare</term></terms></locale><locale xml:lang=\\"ru\\"><terms><term name=\\"letter\\">\u043B\u0438\u0447\u043D\u0430\u044F \u043F\u0435\u0440\u0435\u043F\u0438\u0441\u043A\u0430</term><term name=\\"letter\\" form=\\"short\\">\u043F\u0438\u0441\u044C\u043C\u043E</term></terms></locale><locale xml:lang=\\"sk\\"><terms><term name=\\"letter\\">osobn\xE1 komunik\xE1cia</term><term name=\\"letter\\" form=\\"short\\">list</term></terms></locale><locale xml:lang=\\"sl\\"><terms><term name=\\"letter\\">osebna komunikacija</term><term name=\\"letter\\" form=\\"short\\">pismo</term></terms></locale><locale xml:lang=\\"sr\\"><terms><term name=\\"letter\\">\u043B\u0438\u0447\u043D\u0430 \u043A\u043E\u043C\u0443\u043D\u0438\u043A\u0430\u0446\u0438\u0458\u0430</term><term name=\\"letter\\" form=\\"short\\">\u043F\u0438\u0441\u043C\u043E</term></terms></locale><locale xml:lang=\\"sv\\"><terms><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"th\\"><terms><term name=\\"letter\\">\u0E01\u0E32\u0E23\u0E2A\u0E37\u0E48\u0E2D\u0E2A\u0E32\u0E23\u0E2A\u0E48\u0E27\u0E19\u0E1A\u0E38\u0E04\u0E04\u0E25</term><term name=\\"letter\\" form=\\"short\\">\u0E08\u0E14\u0E2B\u0E21\u0E32\u0E22</term></terms></locale><locale xml:lang=\\"tr\\"><terms><term name=\\"letter\\">ki\u015Fisel ileti\u015Fim</term><term name=\\"letter\\" form=\\"short\\">mektup</term></terms></locale><locale xml:lang=\\"uk\\"><terms><term name=\\"letter\\">\u043E\u0441\u043E\u0431\u0438\u0441\u0442\u0435 \u0441\u043F\u0456\u043B\u043A\u0443\u0432\u0430\u043D\u043D\u044F</term><term name=\\"letter\\" form=\\"short\\">\u043B\u0438\u0441\u0442</term></terms></locale><locale xml:lang=\\"vi\\"><terms><term name=\\"letter\\">giao ti\u1EBFp c\xE1 nh\xE2n</term><term name=\\"letter\\" form=\\"short\\">th\u01B0</term></terms></locale><locale xml:lang=\\"zh-CN\\"><terms><term name=\\"letter\\">\u7684\u79C1\u4EBA\u4EA4\u6D41</term><term name=\\"letter\\" form=\\"short\\">\u4FE1\u51FD</term></terms></locale><locale xml:lang=\\"zh-TW\\"><terms><term name=\\"letter\\">\u79C1\u4EBA\u901A\u8A0A</term><term name=\\"letter\\" form=\\"short\\">\u4FE1\u51FD</term></terms></locale><!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--><!-- APA references contain four parts: author, date, title, source --><macro name=\\"author-bib\\"><names variable=\\"composer\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></if></choose></if></choose><!-- Test for editortranslator and put that first as that becomes available --><names variable=\\"editor\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"editorial-director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"collection-editor\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></substitute></names></macro><macro name=\\"author-intext\\"><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><group delimiter=\\", \\"><names variable=\\"author\\"><name and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names><!-- Replace with term=\\"personal-communication\\" if that becomes available --><text term=\\"letter\\"/></group></if><else><names variable=\\"author\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names></else></choose></else-if><else><names variable=\\"composer\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"/><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if></choose></if></choose><names variable=\\"editor\\"/><names variable=\\"editorial-director\\"/><text macro=\\"title-intext\\"/></substitute></names></else></choose></macro><macro name=\\"date-bib\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/><choose><if type=\\"article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage\\" match=\\"any\\"><!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if><else-if type=\\"paper-conference\\"><!-- Capture 'speech' stored as 'paper-conference' --><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if></choose></else-if><!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --></choose></if><else-if variable=\\"status\\"><group><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></group></group></macro><macro name=\\"date-sort-group\\"><!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --><choose><if variable=\\"issued\\"><text value=\\"1\\"/></if><else-if variable=\\"status\\"><text value=\\"2\\"/></else-if><else><text value=\\"0\\"/></else></choose></macro><macro name=\\"date-sort-date\\"><date variable=\\"issued\\" form=\\"numeric\\"/></macro><macro name=\\"date-intext\\"><choose><if variable=\\"issued\\"><group delimiter=\\"/\\"><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --><date variable=\\"issued\\" form=\\"text\\"/></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose><text variable=\\"year-suffix\\"/></group></group></group></if><else-if variable=\\"status\\"><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></macro><!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --><macro name=\\"title-and-descriptions\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/><text macro=\\"bracketed\\"/></group></if><else><group delimiter=\\" \\"><text macro=\\"bracketed\\"/><text macro=\\"parenthetical\\"/></group></else></choose></macro><macro name=\\"title\\"><choose><if type=\\"post webpage\\" match=\\"any\\"><!-- Webpages are always italicized --><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if variable=\\"container-title\\" match=\\"any\\"><!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --><text variable=\\"title\\"/></else-if><else><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></else-if><else><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></else></choose></else></choose></macro><macro name=\\"title-intext\\"><choose><if variable=\\"title\\" match=\\"none\\"><text macro=\\"bracketed-intext\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"bill\\"><!-- If a bill has no number or container-title, assume it is a hearing; italic --><choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else-if variable=\\"title\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\"><!-- Replace with label variable=\\"number\\" as that becomes available --><text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group></else></choose></else-if><else-if type=\\"legal_case\\" match=\\"any\\"><!-- Cases are italicized --><text variable=\\"title\\" font-style=\\"italic\\"/></else-if><else-if type=\\"legislation treaty\\" match=\\"any\\"><!-- Legislation and treaties not italicized or quoted --><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else-if type=\\"post webpage\\" match=\\"any\\"><!-- Webpages are always italicized --><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else-if><else-if variable=\\"container-title\\" match=\\"any\\"><!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --><text variable=\\"title\\" form=\\"short\\" quotes=\\"true\\" text-case=\\"title\\"/></else-if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"parenthetical\\"><!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --><group prefix=\\"(\\" suffix=\\")\\"><choose><if type=\\"patent\\"><!-- authority: U.S. ; genre: patent ; number: 123,445 --><group delimiter=\\" \\"><text variable=\\"authority\\" form=\\"short\\"/><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><!-- This should be localized --><text value=\\"patent\\" text-case=\\"capitalize-first\\"/></else></choose><group delimiter=\\" \\"><!-- Replace with label variable=\\"number\\" if that becomes available --><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></group></if><else-if type=\\"post webpage\\" match=\\"any\\"><!-- For post webpage, container-title is treated as publisher --><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else-if><else-if variable=\\"container-title\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"any\\"><!-- For audiovisual media, number information comes after title, not container-title --><text macro=\\"number\\"/></if></choose></group></else-if><else><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else></choose></group></macro><macro name=\\"parenthetical-container\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\"><group delimiter=\\"; \\"><text macro=\\"database-location\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"none\\"><!-- For audiovisual media, number information comes after title, not container-title --><text macro=\\"number\\"/></if></choose><text macro=\\"locators-booklike\\"/></group></group></if></choose></macro><macro name=\\"bracketed\\"><!-- [Descriptive information] --><!-- If there is a number, genre is already printed in macro=\\"number\\" --><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\"><!-- Reviewed item --><group delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\"><!-- Assume that genre is entered as 'Review of the book' or similar --><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><!-- Replace with term=\\"review\\" as that becomes available --><text value=\\"Review of\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><!-- Replace with term=\\"review\\" as that becomes available --><text value=\\"Review of\\"/></else></choose></else></choose><text macro=\\"reviewed-title\\"/></group><names variable=\\"reviewed-author\\"><label form=\\"verb-short\\" suffix=\\" \\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else-if type=\\"thesis\\"><!-- Thesis type and institution --><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><choose><if variable=\\"archive DOI URL\\" match=\\"any\\"><!-- Include the university in brackets if thesis is published --><text variable=\\"publisher\\"/></if></choose></group></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><!-- Interview information --><choose><if variable=\\"title\\"><text macro=\\"format\\"/></if><else-if variable=\\"genre\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><group delimiter=\\" \\"><text term=\\"author\\" form=\\"verb\\"/><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group></group></group></else-if><else-if variable=\\"interviewer\\"><group delimiter=\\"; \\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else><text macro=\\"format\\"/></else></choose></else-if><else-if type=\\"personal_communication\\"><!-- Letter information --><choose><if variable=\\"recipient\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else><text macro=\\"format\\"/></else></choose></else-if><else-if variable=\\"composer\\" type=\\"song\\" match=\\"all\\"><!-- Performer of classical music works --><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\" \\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><!-- Replace prefix with performer label as that becomes available --><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/><!-- Replace prefix with performer label as that becomes available --><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if><else><!-- Replace prefix with performer label as that becomes available --><names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></if><else><group delimiter=\\" \\"><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/><!-- Replace prefix with performer label as that becomes available --><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else><!-- Replace prefix with performer label as that becomes available --><names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></else></choose><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></else-if><else-if variable=\\"container-title\\" match=\\"none\\"><!-- Other description --><text macro=\\"format\\"/></else-if><else><!-- For conference presentations, chapters in reports, software, place bracketed after the container title --><choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"any\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\"><choose><if variable=\\"version\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></else-if><else-if type=\\"report\\" match=\\"none\\"><text macro=\\"format\\"/></else-if></choose></else></choose></group></macro><macro name=\\"bracketed-intext\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\"><!-- This should be localized --><text macro=\\"reviewed-title-intext\\" prefix=\\"Review of \\"/></if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><substitute><text macro=\\"format-intext\\"/></substitute></names></else-if><else-if type=\\"personal_communication\\"><!-- Letter information --><choose><if variable=\\"recipient\\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group></if><else><text macro=\\"format-intext\\"/></else></choose></else-if><else><text macro=\\"format-intext\\"/></else></choose></group></macro><macro name=\\"bracketed-container\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if type=\\"paper-conference speech\\" match=\\"any\\"><!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><!-- For entries in mobile app reference works, place bracketed after the container-title --><text macro=\\"format\\"/></else-if><else-if type=\\"report\\"><!-- For chapters in reports, place bracketed after the container title --><text macro=\\"format\\"/></else-if></choose></group></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"secondary-contributors-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text macro=\\"secondary-contributors-booklike\\"/></if><else><text macro=\\"secondary-contributors-periodical\\"/></else></choose></else-if><else><text macro=\\"secondary-contributors-booklike\\"/></else></choose></macro><macro name=\\"secondary-contributors-periodical\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><names variable=\\"translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></macro><macro name=\\"secondary-contributors-booklike\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><!-- When editortranslator becomes available, add a test: variable=\\"editortranslator\\" match=\\"none\\"; then print translator --><choose><if type=\\"post webpage\\" match=\\"none\\"><!-- Webpages treat container-title like publisher --><choose><if variable=\\"container-title\\" match=\\"none\\"><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></if></choose></if><else><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></else></choose></group></macro><macro name=\\"database-location\\"><choose><if variable=\\"archive-place\\" match=\\"none\\"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- Add archive_collection as that becomes available --><text variable=\\"archive_location\\"/></if></choose></macro><macro name=\\"number\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"title\\"/><choose><if is-numeric=\\"number\\"><!-- Replace with label variable=\\"number\\" if that becomes available --><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></if><else><text variable=\\"number\\"/></else></choose></group><choose><if type=\\"thesis\\"><choose><!-- Include the university in brackets if thesis is published --><if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></if></choose></group></if></choose></macro><macro name=\\"locators-booklike\\"><choose><if type=\\"article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage\\" match=\\"any\\"/><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></if></choose></else-if><else><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></else></choose></macro><macro name=\\"version\\"><choose><if is-numeric=\\"version\\"><group delimiter=\\" \\"><!-- replace with label variable=\\"version\\" if that becomes available --><text term=\\"version\\" text-case=\\"capitalize-first\\"/><text variable=\\"version\\"/></group></if><else><text variable=\\"version\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><label variable=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"volume-booklike\\"><group delimiter=\\", \\"><!-- Report series [ex. 52] --><choose><if type=\\"report\\"><group delimiter=\\" \\"><text variable=\\"collection-title\\" text-case=\\"title\\"/><text variable=\\"collection-number\\"/></group></if></choose><choose><if variable=\\"volume\\" match=\\"any\\"><choose><!-- Non-numeric volumes are already printed as part of the book title --><if is-numeric=\\"volume\\" match=\\"none\\"/><else><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><number variable=\\"volume\\" form=\\"numeric\\"/></group></else></choose></if><else><group><!-- Replace with label variable=\\"number-of-volumes\\" if that becomes available --><text term=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><text term=\\"page-range-delimiter\\" prefix=\\"1\\"/><number variable=\\"number-of-volumes\\" form=\\"numeric\\"/></group></else></choose><group delimiter=\\" \\"><label variable=\\"issue\\" text-case=\\"capitalize-first\\"/><text variable=\\"issue\\"/></group><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></group></macro><macro name=\\"reviewed-title\\"><choose><if variable=\\"reviewed-title\\"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable=\\"reviewed-title\\" font-style=\\"italic\\"/></if><else><!-- Assume title is title of reviewed work --><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></macro><macro name=\\"reviewed-title-intext\\"><choose><if variable=\\"reviewed-title\\"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable=\\"reviewed-title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else><!-- Assume title is title of reviewed work --><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"format\\"><choose><if variable=\\"genre medium\\" match=\\"any\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><!-- Replace with type=\\"software\\" and term=\\"software\\" as that becomes available --><text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"format-intext\\"><choose><if variable=\\"genre\\" match=\\"any\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><!-- Replace with type=\\"software\\" and term=\\"software\\" as that becomes available --><text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><!-- APA 'source' element contains four parts:container, event, publisher, access --><macro name=\\"container\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><!-- Periodical items --><text macro=\\"container-periodical\\"/></if><else-if type=\\"paper-conference\\"><!-- Determine if paper-conference is a periodical or booklike --><choose><if variable=\\"editor editorial-director collection-editor container-author\\" match=\\"any\\"><text macro=\\"container-booklike\\"/></if><else><text macro=\\"container-periodical\\"/></else></choose></else-if><else-if type=\\"post webpage\\" match=\\"none\\"><!-- post and webpage treat container-title like publisher --><text macro=\\"container-booklike\\"/></else-if></choose></macro><macro name=\\"container-periodical\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"container-title\\" font-style=\\"italic\\" text-case=\\"title\\"/><choose><if variable=\\"volume\\"><group><text variable=\\"volume\\" font-style=\\"italic\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group></if><else><text variable=\\"issue\\" font-style=\\"italic\\"/></else></choose><choose><if variable=\\"page\\"><text variable=\\"page\\"/></if><else><!-- Ex. 6: Journal article with article number or eLocator --><!-- This should be localized --><text variable=\\"number\\" prefix=\\"Article \\"/></else></choose></group><choose><if variable=\\"issued\\"><choose><if variable=\\"issue page volume\\" match=\\"none\\"><text variable=\\"status\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></macro><macro name=\\"container-booklike\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/><group delimiter=\\", \\"><names variable=\\"editor translator\\" delimiter=\\", &amp; \\"><!-- Change to editortranslator and move editor to substitute as that becomes available --><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" text-case=\\"title\\" prefix=\\" (\\" suffix=\\")\\"/><substitute><names variable=\\"editorial-director\\"/><names variable=\\"collection-editor\\"/><names variable=\\"container-author\\"/></substitute></names><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"container-title\\"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></group><text macro=\\"parenthetical-container\\"/><text macro=\\"bracketed-container\\"/></group></if></choose></macro><macro name=\\"publisher\\"><group delimiter=\\"; \\"><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"none\\"><text variable=\\"publisher\\"/></if></choose></if><else-if type=\\"post webpage\\" match=\\"any\\"><!-- For websites, treat container title like publisher --><group delimiter=\\"; \\"><text variable=\\"container-title\\" text-case=\\"title\\"/><text variable=\\"publisher\\"/></group></else-if><else-if type=\\"paper-conference\\"><!-- For paper-conference, don't print publisher if in a journal-like proceedings --><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></else-if><else-if type=\\"article-journal article-magazine article-newspaper post-weblog\\" match=\\"none\\"><text variable=\\"publisher\\"/></else-if></choose><group delimiter=\\", \\"><choose><if variable=\\"archive-place\\"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro=\\"description\\". --><!-- Split \\"archive_location\\" into \\"archive_collection\\" and \\"archive_location\\" as that becomes available --><!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--><text variable=\\"archive_location\\"/></if></choose><text variable=\\"archive\\"/><text variable=\\"archive-place\\"/></group></group></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\" match=\\"any\\"><text variable=\\"DOI\\" prefix=\\"https://doi.org/\\"/></if><else-if variable=\\"URL\\"><group delimiter=\\" \\"><choose><if variable=\\"issued status\\" match=\\"none\\"><group delimiter=\\" \\"><text term=\\"retrieved\\" text-case=\\"capitalize-first\\"/><date variable=\\"accessed\\" form=\\"text\\" suffix=\\",\\"/><text term=\\"from\\"/></group></if></choose><text variable=\\"URL\\"/></group></else-if></choose></macro><macro name=\\"event\\"><choose><if variable=\\"event\\"><!-- To prevent Zotero from printing event-place due to its double-mapping of all 'place' toboth publisher-place and event-place. Remove this 'choose' when that is changed. --><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><!-- Don't print event info if published in a proceedings --><group delimiter=\\", \\"><text variable=\\"event\\"/><text variable=\\"event-place\\"/></group></if></choose></if></choose></macro><!-- After 'source', APA also prints publication history (original publication, reprint info, retraction info) --><macro name=\\"publication-history\\"><choose><if type=\\"patent\\" match=\\"none\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if variable=\\"references\\"><!-- This provides the option for more elaborate description of publication history, such as full \\"reprinted\\" references(examples 11, 43, 44) or retracted references --><text variable=\\"references\\"/></if><else><group delimiter=\\" \\"><text value=\\"Original work published\\"/><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group></else></choose></group></if><else><text variable=\\"references\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></macro><!-- Legal citations have their own rules --><macro name=\\"legal-cites\\"><choose><if type=\\"legal_case\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></if><else-if type=\\"bill\\"><!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --><group delimiter=\\". \\"><group delimiter=\\", \\"><choose><if variable=\\"number container-title\\" match=\\"none\\"><!-- If no number or container-title, then assume it is a hearing --><text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><choose><if variable=\\"number container-title\\" match=\\"none\\"><!-- If no number or container-title, then assume it is a hearing --><names variable=\\"author\\" prefix=\\"(testimony of \\" suffix=\\")\\"><name and=\\"symbol\\" delimiter=\\", \\"/></names></if><else><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"legislation\\"><!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"treaty\\"><!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --><group delimiter=\\", \\"><text variable=\\"title\\" text-case=\\"title\\"/><names variable=\\"author\\"><name initialize-with=\\".\\" form=\\"short\\" delimiter=\\"-\\"/></names><text macro=\\"date-legal\\"/><text macro=\\"container-legal\\"/><text macro=\\"access\\"/></group></else-if></choose></macro><macro name=\\"date-legal\\"><choose><if type=\\"legal_case\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><text variable=\\"authority\\"/><choose><if variable=\\"container-title\\" match=\\"any\\"><!-- Print only year for cases published in reporters--><date variable=\\"issued\\" form=\\"numeric\\" date-parts=\\"year\\"/></if><else><date variable=\\"issued\\" form=\\"text\\"/></else></choose></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><group delimiter=\\" \\"><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date><text term=\\"and\\" form=\\"symbol\\"/></group><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"treaty\\"><date variable=\\"issued\\" form=\\"text\\"/></else-if></choose></macro><macro name=\\"container-legal\\"><!-- Expect legal item container-titles to be stored in short form --><choose><if type=\\"legal_case\\"><group delimiter=\\" \\"><choose><if variable=\\"container-title\\"><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><group delimiter=\\" \\"><!-- Change to label variable=\\"section\\" as that becomes available --><text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><text value=\\"___\\"/></else></choose></group></if><else><group delimiter=\\" \\"><choose><if is-numeric=\\"number\\"><!-- Replace with label variable=\\"number\\" if that becomes available --><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"number\\"/></group></else></choose></group></if><else-if type=\\"bill\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\"><!-- Replace with label variable=\\"number\\" as that becomes available --><text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group><text variable=\\"authority\\"/><text variable=\\"chapter-number\\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></else-if><else-if type=\\"legislation\\"><choose><if variable=\\"number\\"><!--There's a public law number--><group delimiter=\\", \\"><text variable=\\"number\\" prefix=\\"Pub. L. No. \\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></if><else><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"section\\"><group delimiter=\\" \\"><!-- Change to label variable=\\"section\\" as that becomes available --><text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group></if><else><text variable=\\"page-first\\"/></else></choose></group></else></choose></else-if><else-if type=\\"treaty\\"><group delimiter=\\" \\"><number variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><group delimiter=\\" \\"><!-- Replace with label variable=\\"number\\" if that becomes available --><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></else></choose></group></else-if></choose></macro><macro name=\\"citation-locator\\"><group delimiter=\\" \\"><choose><if locator=\\"chapter\\"><label variable=\\"locator\\" text-case=\\"capitalize-first\\"/></if><else><label variable=\\"locator\\" form=\\"short\\"/></else></choose><text variable=\\"locator\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\" givenname-disambiguation-rule=\\"primary-name-with-initials\\"><sort><key macro=\\"author-bib\\" names-min=\\"3\\" names-use-first=\\"1\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><text macro=\\"author-intext\\"/><text macro=\\"date-intext\\"/><text macro=\\"citation-locator\\"/></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"21\\" et-al-use-first=\\"19\\" et-al-use-last=\\"true\\" entry-spacing=\\"0\\" line-spacing=\\"2\\"><sort><key macro=\\"author-bib\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/><key macro=\\"title\\"/></sort><layout><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><!-- Legal items have different orders and delimiters --><choose><if variable=\\"DOI URL\\" match=\\"any\\"><text macro=\\"legal-cites\\"/></if><else><text macro=\\"legal-cites\\" suffix=\\".\\"/></else></choose></if><else><group delimiter=\\" \\"><group delimiter=\\". \\" suffix=\\".\\"><text macro=\\"author-bib\\"/><text macro=\\"date-bib\\"/><text macro=\\"title-and-descriptions\\"/><text macro=\\"container\\"/><text macro=\\"event\\"/><text macro=\\"publisher\\"/></group><text macro=\\"access\\"/><text macro=\\"publication-history\\"/></group></else></choose></layout></bibliography>\\n</style>\\n","vancouver":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" initialize-with-hyphen=\\"false\\" page-range-format=\\"minimal\\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\\"http://www.zotero.org/styles/vancouver\\" rel=\\"self\\"/><link href=\\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\\" rel=\\"documentation\\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\\"numeric\\"/><category field=\\"medicine\\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><terms><term name=\\"collection-editor\\" form=\\"long\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"presented at\\">presented at</term><term name=\\"available at\\">available from</term><term name=\\"section\\" form=\\"short\\">sect.</term></terms></locale><locale xml:lang=\\"fr\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"day\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"year\\"/></date></locale><macro name=\\"author\\"><names variable=\\"author\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/><substitute><names variable=\\"editor\\"/></substitute></names></macro><macro name=\\"editor\\"><names variable=\\"editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names></macro><macro name=\\"chapter-marker\\"><choose><if type=\\"chapter paper-conference entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/></if></choose></macro><macro name=\\"publisher\\"><choose><!--discard publisher info for articles--><if type=\\"article-journal article-magazine article-newspaper\\" match=\\"none\\"><group delimiter=\\": \\" suffix=\\";\\"><choose><if type=\\"thesis\\"><text variable=\\"publisher-place\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"speech\\"/><else><text variable=\\"publisher-place\\"/></else></choose><text variable=\\"publisher\\"/></group></if></choose></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><group delimiter=\\": \\"><text term=\\"available at\\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/></group></if></choose></macro><macro name=\\"accessed-date\\"><choose><if variable=\\"URL\\"><group prefix=\\"[\\" suffix=\\"]\\" delimiter=\\" \\"><text term=\\"cited\\" text-case=\\"lowercase\\"/><date variable=\\"accessed\\" form=\\"text\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"any\\"><group suffix=\\".\\" delimiter=\\" \\"><choose><if type=\\"article-journal review review-book\\" match=\\"any\\"><text variable=\\"container-title\\" form=\\"short\\" strip-periods=\\"true\\"/></if><else><text variable=\\"container-title\\" strip-periods=\\"true\\"/></else></choose><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\"[\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose></group><text macro=\\"edition\\" prefix=\\" \\"/></if><!--add event-name and event-place once they become available--><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><group delimiter=\\". \\"><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"section\\"/></group></group><text variable=\\"number\\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\": \\" suffix=\\";\\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><text term=\\"presented at\\"/></group><text variable=\\"event\\"/></group></else-if><else><group delimiter=\\", \\" suffix=\\".\\"><choose><if variable=\\"collection-title\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose><text variable=\\"container-title\\"/></group></else></choose></macro><macro name=\\"title\\"><text variable=\\"title\\"/><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"none\\"><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\" [\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose><text macro=\\"edition\\" prefix=\\". \\"/></if></choose><choose><if type=\\"thesis\\"><text variable=\\"genre\\" prefix=\\" [\\" suffix=\\"]\\"/></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"date\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><group suffix=\\";\\" delimiter=\\" \\"><date variable=\\"issued\\" form=\\"text\\"/><text macro=\\"accessed-date\\"/></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"report\\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></else-if><else-if type=\\"patent\\"><group suffix=\\".\\"><group delimiter=\\", \\"><text variable=\\"number\\"/><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><text macro=\\"accessed-date\\"/></group><text variable=\\"event-place\\"/></group></else-if><else><group suffix=\\".\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else></choose></macro><macro name=\\"pages\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><text variable=\\"page\\" prefix=\\":\\"/></if><else-if type=\\"book\\" match=\\"any\\"><text variable=\\"number-of-pages\\" prefix=\\" \\"/><choose><if is-numeric=\\"number-of-pages\\"><label variable=\\"number-of-pages\\" form=\\"short\\" prefix=\\" \\" plural=\\"never\\"/></if></choose></else-if><else><group prefix=\\" \\" delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" plural=\\"never\\"/><text variable=\\"page\\"/></group></else></choose></macro><macro name=\\"journal-location\\"><choose><if type=\\"article-journal article-magazine review review-book\\" match=\\"any\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"collection-details\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"none\\"><choose><if variable=\\"collection-title\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><names variable=\\"collection-editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names><group delimiter=\\"; \\"><text variable=\\"collection-title\\"/><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\"/><text variable=\\"volume\\"/></group></group></group></if></choose></if></choose></macro><macro name=\\"report-details\\"><choose><if type=\\"report\\"><text variable=\\"number\\" prefix=\\"Report No.: \\"/></if></choose></macro><citation collapse=\\"citation-number\\"><sort><key variable=\\"citation-number\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\",\\"><text variable=\\"citation-number\\"/></layout></citation><bibliography et-al-min=\\"7\\" et-al-use-first=\\"6\\" second-field-align=\\"flush\\"><layout><text variable=\\"citation-number\\" suffix=\\". \\"/><group delimiter=\\". \\" suffix=\\". \\"><text macro=\\"author\\"/><text macro=\\"title\\"/></group><group delimiter=\\" \\" suffix=\\". \\"><group delimiter=\\": \\"><text macro=\\"chapter-marker\\"/><group delimiter=\\" \\"><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group><text macro=\\"publisher\\"/><group><text macro=\\"date\\"/><text macro=\\"journal-location\\"/><text macro=\\"pages\\"/></group></group><text macro=\\"collection-details\\" suffix=\\". \\"/><text macro=\\"report-details\\" suffix=\\". \\"/><text macro=\\"access\\"/></layout></bibliography>\\n</style>\\n","harvard1":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" default-locale=\\"en-GB\\"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href=\\"http://www.zotero.org/styles/harvard-cite-them-right\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/harvard-cite-them-right-10th-edition\\" rel=\\"template\\"/><link href=\\"http://www.citethemrightonline.com/\\" rel=\\"documentation\\"/><author><name>Patrick O'Brien</name></author><category citation-format=\\"author-date\\"/><category field=\\"generic-base\\"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en-GB\\"><terms><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds</multiple></term><term name=\\"editortranslator\\" form=\\"verb\\">edited and translated by</term><term name=\\"edition\\" form=\\"short\\">edn.</term></terms></locale><macro name=\\"editor\\"><choose><if type=\\"chapter paper-conference\\" match=\\"any\\"><names variable=\\"container-author\\" delimiter=\\", \\" suffix=\\", \\"><name and=\\"text\\" initialize-with=\\". \\" delimiter=\\", \\" sort-separator=\\", \\" name-as-sort-order=\\"all\\"/></names><choose><if variable=\\"container-author\\" match=\\"none\\"><names variable=\\"editor translator\\" delimiter=\\", \\"><name and=\\"text\\" initialize-with=\\".\\" name-as-sort-order=\\"all\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\"/></names></if></choose></if></choose></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"chapter paper-conference\\" match=\\"none\\"><names variable=\\"editor translator\\" delimiter=\\". \\"><label form=\\"verb\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><name and=\\"text\\" initialize-with=\\".\\"/></names></if><else-if variable=\\"container-author\\" match=\\"any\\"><names variable=\\"editor translator\\" delimiter=\\". \\"><label form=\\"verb\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><name and=\\"text\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if></choose></macro><macro name=\\"author\\"><names variable=\\"author\\"><name and=\\"text\\" delimiter-precedes-last=\\"never\\" initialize-with=\\".\\" name-as-sort-order=\\"all\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\"/><et-al font-style=\\"italic\\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><choose><if type=\\"article-newspaper article-magazine\\" match=\\"any\\"><text variable=\\"container-title\\" text-case=\\"title\\" font-style=\\"italic\\"/></if><else><text macro=\\"title\\"/></else></choose></substitute></names></macro><macro name=\\"author-short\\"><names variable=\\"author\\"><name form=\\"short\\" and=\\"text\\" delimiter=\\", \\" delimiter-precedes-last=\\"never\\" initialize-with=\\". \\"/><et-al font-style=\\"italic\\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><choose><if type=\\"article-newspaper article-magazine\\" match=\\"any\\"><text variable=\\"container-title\\" text-case=\\"title\\" font-style=\\"italic\\"/></if><else><text macro=\\"title\\"/></else></choose></substitute></names></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\"><text variable=\\"DOI\\" prefix=\\"doi:\\"/></if><else-if variable=\\"URL\\"><text term=\\"available at\\" suffix=\\": \\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/><group prefix=\\" (\\" delimiter=\\": \\" suffix=\\")\\"><text term=\\"accessed\\" text-case=\\"capitalize-first\\"/><date form=\\"text\\" variable=\\"accessed\\"><date-part name=\\"day\\"/><date-part name=\\"month\\"/><date-part name=\\"year\\"/></date></group></else-if></choose></macro><macro name=\\"number-volumes\\"><choose><if variable=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><text variable=\\"number-of-volumes\\"/><label variable=\\"volume\\" form=\\"short\\" strip-periods=\\"true\\"/></group></if></choose></macro><macro name=\\"title\\"><choose><if type=\\"bill book legal_case legislation motion_picture report song thesis webpage graphic\\" match=\\"any\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><group delimiter=\\" \\"><text variable=\\"title\\" font-style=\\"italic\\"/><text variable=\\"medium\\" prefix=\\"[\\" suffix=\\"]\\"/></group><text macro=\\"number-volumes\\"/></group><text macro=\\"edition\\"/></group></if><else><text variable=\\"title\\" form=\\"long\\" quotes=\\"true\\"/></else></choose></macro><macro name=\\"publisher\\"><choose><if type=\\"thesis\\"><group delimiter=\\". \\"><text variable=\\"genre\\"/><text variable=\\"publisher\\"/></group></if><else-if type=\\"report\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><text variable=\\"number\\"/></group><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></group></else-if><else-if type=\\"article-journal article-newspaper article-magazine\\" match=\\"none\\"><group delimiter=\\" \\"><group delimiter=\\", \\"><choose><if type=\\"speech\\" variable=\\"event\\" match=\\"any\\"><text variable=\\"event\\" font-style=\\"italic\\"/></if></choose><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></group><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\", \\"><text variable=\\"collection-title\\"/><text variable=\\"collection-number\\"/></group></group></else-if></choose></macro><macro name=\\"year-date\\"><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/></if><else><text term=\\"no date\\"/><text variable=\\"year-suffix\\" prefix=\\" \\"/></else></choose></macro><macro name=\\"locator\\"><choose><if type=\\"article-journal\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"published-date\\"><choose><if type=\\"article-newspaper article-magazine post-weblog speech\\" match=\\"any\\"><date variable=\\"issued\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" form=\\"long\\"/></date></if></choose></macro><macro name=\\"pages\\"><choose><if type=\\"chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report\\" match=\\"any\\"><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\"/><text variable=\\"page\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if variable=\\"container-title\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text variable=\\"container-title\\" font-style=\\"italic\\"/><choose><if type=\\"article article-journal\\" match=\\"any\\"><choose><if match=\\"none\\" variable=\\"page volume\\"><text value=\\"Preprint\\" prefix=\\"[\\" suffix=\\"]\\"/></if></choose></if></choose></group><text macro=\\"edition\\"/></group></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\" strip-periods=\\"true\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"container-prefix\\"><choose><if type=\\"chapter paper-conference\\" match=\\"any\\"><text term=\\"in\\"/></if></choose></macro><citation et-al-min=\\"4\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\"><sort><key macro=\\"year-date\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\", \\"><text macro=\\"author-short\\"/><text macro=\\"year-date\\"/></group><group><label variable=\\"locator\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"locator\\"/></group></group></layout></citation><bibliography and=\\"text\\" et-al-min=\\"4\\" et-al-use-first=\\"1\\"><sort><key macro=\\"author\\"/><key macro=\\"year-date\\"/><key variable=\\"title\\"/></sort><layout suffix=\\".\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text macro=\\"author\\"/><text macro=\\"year-date\\" prefix=\\"(\\" suffix=\\")\\"/><group delimiter=\\", \\"><text macro=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-prefix\\"/><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group></group><text macro=\\"secondary-contributors\\"/><text macro=\\"publisher\\"/></group><group delimiter=\\", \\" prefix=\\", \\"><text macro=\\"locator\\"/><text macro=\\"published-date\\"/><text macro=\\"pages\\"/></group><text macro=\\"access\\" prefix=\\". \\"/></layout></bibliography>\\n</style>\\n"}`);const l=new t.util.Register(o),m=_=>l.has(_)?l.get(_):l.get("apa");var p=null,f=e("./node_modules/citeproc/citeproc_commonjs.js"),h=e.n(f);const u=Symbol.for("proxied"),d=function(_){const w=function(D,E){if(D.sys.wrapBibliographyEntry){const[C,U]=D.sys.wrapBibliographyEntry(this.system_id);E=[C,E,U].join("")}return _.call(this,D,E)};return w[u]=!0,w};for(const _ in h().Output.Formats){const w=h().Output.Formats[_]["@bibliography/entry"];!w||w[u]||(h().Output.Formats[_]["@bibliography/entry"]=d(w))}function v(_){if(r.has(_))return r.get(_);const w=_.replace("-","_");return r.has(w)?r.get(w):{}}const c={},S=function(_,w,D,E,C){const U=`${_}|${w}`;let q;return c[U]instanceof h().Engine?(q=c[U],q.sys.retrieveItem=E,q.sys.wrapBibliographyEntry=void 0,q.updateItems([])):q=c[U]=new(h()).Engine({retrieveLocale:C,retrieveItem:E},D,w,!0),q};var y=function(_,w,D,E){if(!h().Output.Formats[E]||!h().Output.Formats[E]["@bibliography/entry"])throw new TypeError(`Cannot find format '${E}'`);const C=_.reduce((j,M)=>(j[M.id]=M,j),{}),U=l.get(l.has(w)?w:"apa");D=r.has(D)?D:void 0;const z=S(w,D,U,function(j){if(Object.prototype.hasOwnProperty.call(C,j))return C[j];throw new Error(`Cannot find entry with id '${j}'`)},v);return z.setOutputFormat(E),z};const x=(_,w,D)=>_.replace(/^\s*<[a-z]+/i,`$& data-${w}="${D}"`),b=(_,w)=>x(_,"csl-entry-id",w),A=(_,w)=>typeof w=="function"?w(_):w||"";function O(_,w={}){const{template:D="apa",lang:E,format:C="text",nosort:U=!1}=w,q=w.entry?[].concat(w.entry):_.map(({id:B})=>B);_=t.util.downgradeCsl(_);const z=y(_,D,E,C),j=z.updateItems(q,U);if(w.append||w.prepend){const B=_.reduce((F,G)=>(F[G.id]=G,F),{});z.sys.wrapBibliographyEntry=function(F){const G=B[F];return[A(G,w.prepend),A(G,w.append)]}}const M=z.makeBibliography(),[{bibstart:R,bibend:L},P]=M,X=P.map((B,F)=>b(B,j[F]));return w.asEntryArray?X.map((B,F)=>[j[F],B]):R+X.join("")+L}function I(_){return typeof _=="object"?_:{id:_}}function T(_){return _.citationItems?_:{citationItems:[].concat(_).map(I),properties:{noteIndex:0}}}function k(_){return _?_.map(T):[]}function N(_,w={}){const{template:D="apa",lang:E,format:C="text"}=w,U=_.map(({id:P})=>P),q=w.entry?w.entry:U;_=t.util.downgradeCsl(_);const z=y(_,D,E,C),j=k(w.citationsPre),M=T(q),R=k(w.citationsPost);return z.rebuildProcessorState([...j,M,...R],C,[])[j.length][2]}t.plugins.add("@csl",{output:{bibliography:O,citation:N},config:{engine:y,locales:r,templates:l}})},"./node_modules/citeproc/citeproc_commonjs.js":function(Te){var s={PROCESSOR_VERSION:"1.4.61",error:function(e){throw typeof Error=="undefined"?new Error("citeproc-js error: "+e):"citeproc-js error: "+e},debug:function(e){typeof console=="undefined"?dump("CSL: "+e+`
`):console.log("citeproc-js warning: "+e)},toLocaleUpperCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleUpperCase(t)}catch(i){e=e.toUpperCase()}return e},toLocaleLowerCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleLowerCase(t)}catch(i){e=e.toLowerCase()}return e},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(e){e.opt.xclass==="note"?(this.depth=0,this.update=function(i){for(var i=i||"",r=i.split(/([\(\)])/),a=1,n=r.length;a<n;a+=2)r[a]==="("?(this.depth%2===1&&(r[a]="["),this.depth+=1):r[a]===")"&&(this.depth%2===0&&(r[a]="]"),this.depth-=1);var o=r.join("");return o}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(e,t,i){var r=null;if(e.opt.availableAbbrevDomains&&t&&t!=="default"){var a=e.locale[e.opt.lang].opts["jurisdiction-preference"],n=null;if(e.locale[i]&&(n=e.locale[i].opts["jurisdiction-preference"]),n){for(var o=n.length-1;o>-1;o--)if(e.opt.availableAbbrevDomains[t].indexOf(n[o])>-1){r=n[o];break}}if(!r&&a){for(var o=a.length-1;o>-1;o--)if(e.opt.availableAbbrevDomains[t].indexOf(a[o])>-1){r=a[o];break}}}return r},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(e){if(this.opt.development_extensions.locator_date_and_revision&&e.locator){e.locator=""+e.locator;var t=e.locator.indexOf("|");if(t>-1){var i=e.locator;e.locator=i.slice(0,t),i=i.slice(t+1);var r=i.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(e["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),i=i.slice(r[1].length)),e["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return e.locator&&(e.locator=(""+e.locator).replace(/\s+$/,"")),e},normalizeLocaleStr:function(e){if(e){var t=e.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(e,t,i){if(typeof e.note=="string"){for(var r=[],a=e.note.split(`
`),n=0,o=a.length;n<o;n++){var l=a[n],r=[],m=l.match(s.NOTE_FIELDS_REGEXP);if(m){for(var p=l.split(s.NOTE_FIELDS_REGEXP),f=0,h=p.length-1;f<h;f++)r.push(p[f]),r.push(m[f]);r.push(p[p.length-1]);for(var f=1,h=r.length;f<h&&!(r[f-1].trim()&&(n>0||f>1)&&!r[f-1].match(s.NOTE_FIELD_REGEXP));f+=2)r[f]=`
`+r[f].slice(2,-1).trim()+`
`;a[n]=r.join("")}}a=a.join(`
`).split(`
`);for(var u=0,d={},n=0,o=a.length;n<o;n++){var l=a[n],v=l.match(s.NOTE_FIELD_REGEXP);if(l.trim()){if(!v){if(n===0)continue;u=n;break}}else continue;var c=v[1],S=v[2].replace(/^\s+/,"").replace(/\s+$/,"");if(c==="type")e.type=S,a[n]="";else if(s.DATE_VARIABLES.indexOf(c.replace(/^alt-/,""))>-1)(!e[c]||i)&&(e[c]=s.DateParser.parseDateToArray(S),(!t||t[c]&&this.isDateString(S))&&(a[n]=""));else if(!e[c]){if(s.NAME_VARIABLES.indexOf(c.replace(/^alt-/,""))>-1){d[c]||(d[c]=[]);var g=S.split(/\s*\|\|\s*/);if(g.length===1)d[c].push({literal:g[0]});else if(g.length===2){var y={family:g[0],given:g[1]};s.parseParticles(y),d[c].push(y)}}else e[c]=S;(!t||t[c])&&(a[n]="")}}for(var c in d)e[c]=d[c];if(t){a[u].trim()&&(a[u]=`
`+a[u]);for(var n=u-1;n>-1;n--)a[n].trim()||(a=a.slice(0,n).concat(a.slice(n+1)))}e.note=a.join(`
`).trim()}},checkPrefixSpaceAppend:function(e,n){n||(n="");var i="",r=n.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),a=r.slice(-1);(r.match(s.ENDSWITH_ROMANESQUE_REGEXP)||s.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(a)>-1||a.match(/[\)\],0-9]/))&&(i=" ");var n=(n+i).replace(/\s+/g," ");return n},checkIgnorePredecessor:function(e,t){var i=!1,r=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),a=r.slice(-1);return s.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(a)>-1&&t.trim().indexOf(" ")>-1?(e.tmp.term_predecessor=!1,!0):!1},checkSuffixSpacePrepend:function(e,t){return t?((t.match(s.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(e){for(var t=["title","short","main","sub","subjoin"],i={},r=0,a=t.length;r<a;r++)i[t[r]]=e+"title"+(t[r]==="title"?"":"-"+t[r]);return i},demoteNoiseWords:function(e,t,i){var r=e.locale[e.opt.lang].opts["leading-noise-words"];if(t&&i){t=t.split(/\s+/),t.reverse();for(var a=[],n=t.length-1;n>-1&&r.indexOf(t[n].toLowerCase())>-1;n+=-1)a.push(t.pop());t.reverse();var o=t.join(" "),l=a.join(" ");i==="drop"||!l?t=o:i==="demote"&&(t=[o,l].join(", "))}return t},extractTitleAndSubtitle:function(e,t){var i=t?"\u202F":"",r=[""];this.opt.development_extensions.split_container_title&&r.push("container-");for(var a=0,n=r.length;a<n;a++){var o=r[a],l=s.TITLE_FIELD_SPLITS(o),m=[!1];if(e.multi)for(var p in e.multi._keys[l.short])m.push(p);for(var f=0,h=m.length;f<h;f++){var p=m[f],u={};p?(e.multi._keys[l.title]&&(u[l.title]=e.multi._keys[l.title][p]),e.multi._keys[l.short]&&(u[l.short]=e.multi._keys[l.short][p])):(u[l.title]=e[l.title],u[l.short]=e[l.short]),u[l.main]=u[l.title],u[l.sub]=!1;var d=u[l.short];if(u[l.title]){if(d&&d.toLowerCase()===u[l.title].toLowerCase())u[l.main]=u[l.title],u[l.subjoin]="",u[l.sub]="";else if(d){var v=u[l.title].slice(d.replace(/[\?\!]+$/,"").length),c=u[l.title].replace(v.replace(/^[\?\!]+/,""),"").trim(),S=s.TITLE_SPLIT_REGEXP.matchfirst.exec(v);if(S&&c.toLowerCase()===d.toLowerCase())u[l.main]=c,u[l.subjoin]=S[1].replace(/[\?\!]+(\s*)$/,"$1"),u[l.sub]=v.replace(s.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(u[l.short]=u[l.main]);else{var g=s.TITLE_SPLIT(u[l.title]);g.length==3?(u[l.main]=g[0],u[l.subjoin]=g[1],u[l.sub]=g[2]):(u[l.main]=u[l.title],u[l.subjoin]="",u[l.sub]="")}}else{var g=s.TITLE_SPLIT(u[l.title]);if(g.length==3){if(u[l.main]=g[0],u[l.subjoin]=g[1],u[l.sub]=g[2],this.opt.development_extensions.implicit_short_title&&e.type!=="legal_case"&&!e[l.short]&&!u[l.main].match(/^[\-\.[0-9]+$/)){var y=u[l.subjoin].trim();["?","!"].indexOf(y)===-1&&(y=""),u[l.short]=u[l.main]+y}}else u[l.main]=u[l.title],u[l.subjoin]="",u[l.sub]=""}if(u[l.subjoin]&&u[l.subjoin].match(/([\?\!])/)){var S=u[l.subjoin].match(/(\s*)$/);u[l.main]=u[l.main]+i+u[l.subjoin].trim(),u[l.subjoin]=S[1]}}if(u[l.subjoin]&&(u[l.subjoin].indexOf(":")>-1&&(u[l.subjoin]=i+": "),(u[l.subjoin].indexOf("-")>-1||u[l.subjoin].indexOf("\u2014")>-1)&&(u[l.subjoin]="\u2014")),p)for(var x in u)e.multi._keys[x]||(e.multi._keys[x]={}),e.multi._keys[x][p]=u[x];else for(var x in u)e[x]=u[x]}}},titlecaseSentenceOrNormal:function(e,t,i,r,a){var n=s.TITLE_FIELD_SPLITS(i),o={};if(r&&t.multi?(t.multi._keys[n.title]&&(o[n.title]=t.multi._keys[n.title][r]),t.multi._keys[n.main]&&(o[n.main]=t.multi._keys[n.main][r]),t.multi._keys[n.sub]&&(o[n.sub]=t.multi._keys[n.sub][r]),t.multi._keys[n.subjoin]&&(o[n.subjoin]=t.multi._keys[n.subjoin][r])):(o[n.title]=t[n.title],o[n.main]=t[n.main],o[n.sub]=t[n.sub],o[n.subjoin]=t[n.subjoin]),o[n.main]&&o[n.sub]){var l=o[n.main],m=o[n.subjoin],p=o[n.sub];return a?(l=s.Output.Formatters.sentence(e,l),p=s.Output.Formatters.sentence(e,p)):e.opt.development_extensions.uppercase_subtitles&&(p=s.Output.Formatters["capitalize-first"](e,p)),[l,m,p].join("")}else if(o[n.title]){if(a)return s.Output.Formatters.sentence(e,o[n.title]);if(e.opt.development_extensions.uppercase_subtitles){for(var f=s.TITLE_SPLIT(o[n.title]),h=0,u=f.length;h<u;h+=2)f[h]=s.Output.Formatters["capitalize-first"](e,f[h]);for(var h=1,u=f.length-1;h<u;h+=2){var d=f[h].match(/([:\?\!] )/);if(d){var v=e.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr"?"\u202F":"";f[h]=v+d[1]}(f[h].indexOf("-")>-1||f[h].indexOf("\u2014")>-1)&&(f[h]="\u2014")}return o[n.title]=f.join(""),o[n.title]}else return o[n.title]}else return""},getSafeEscape:function(e){if(["bibliography","citation"].indexOf(e.tmp.area)>-1){var t=[];return e.opt.development_extensions.thin_non_breaking_space_html_hack&&e.opt.mode==="html"&&t.push(function(i){return i.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),t.length?function(i){for(var r=0,a=t.length;r<a;r+=1)i=t[r](i);return s.Output.Formats[e.opt.mode].text_escape(i)}:s.Output.Formats[e.opt.mode].text_escape}else return function(i){return i}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-\xE0-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokm\xE5l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{\u00AA:"a","\xB2":"2","\xB3":"3","\xB9":"1",\u00BA:"o",\u02B0:"h",\u02B1:"\u0266",\u02B2:"j",\u02B3:"r",\u02B4:"\u0279",\u02B5:"\u027B",\u02B6:"\u0281",\u02B7:"w",\u02B8:"y",\u02E0:"\u0263",\u02E1:"l",\u02E2:"s",\u02E3:"x",\u02E4:"\u0295","\u1D2C":"A","\u1D2D":"\xC6","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D32":"\u018E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3D":"\u0222","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u1D42":"W","\u1D43":"a","\u1D44":"\u0250","\u1D45":"\u0251","\u1D46":"\u1D02","\u1D47":"b","\u1D48":"d","\u1D49":"e","\u1D4A":"\u0259","\u1D4B":"\u025B","\u1D4C":"\u025C","\u1D4D":"g","\u1D4F":"k","\u1D50":"m","\u1D51":"\u014B","\u1D52":"o","\u1D53":"\u0254","\u1D54":"\u1D16","\u1D55":"\u1D17","\u1D56":"p","\u1D57":"t","\u1D58":"u","\u1D59":"\u1D1D","\u1D5A":"\u026F","\u1D5B":"v","\u1D5C":"\u1D25","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03C6","\u1D61":"\u03C7","\u2070":"0","\u2071":"i","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u207A":"+","\u207B":"\u2212","\u207C":"=","\u207D":"(","\u207E":")",\u207F:"n","\u2120":"SM","\u2122":"TM","\u3192":"\u4E00","\u3193":"\u4E8C","\u3194":"\u4E09","\u3195":"\u56DB","\u3196":"\u4E0A","\u3197":"\u4E2D","\u3198":"\u4E0B","\u3199":"\u7532","\u319A":"\u4E59","\u319B":"\u4E19","\u319C":"\u4E01","\u319D":"\u5929","\u319E":"\u5730","\u319F":"\u4EBA",\u02C0:"\u0294",\u02C1:"\u0295",\u06E5:"\u0648",\u06E6:"\u064A"},SUPERSCRIPTS_REGEXP:new RegExp("[\xAA\xB2\xB3\xB9\xBA\u02B0\u02B1\u02B2\u02B3\u02B4\u02B5\u02B6\u02B7\u02B8\u02E0\u02E1\u02E2\u02E3\u02E4\u1D2C\u1D2D\u1D2E\u1D30\u1D31\u1D32\u1D33\u1D34\u1D35\u1D36\u1D37\u1D38\u1D39\u1D3A\u1D3C\u1D3D\u1D3E\u1D3F\u1D40\u1D41\u1D42\u1D43\u1D44\u1D45\u1D46\u1D47\u1D48\u1D49\u1D4A\u1D4B\u1D4C\u1D4D\u1D4F\u1D50\u1D51\u1D52\u1D53\u1D54\u1D55\u1D56\u1D57\u1D58\u1D59\u1D5A\u1D5B\u1D5C\u1D5D\u1D5E\u1D5F\u1D60\u1D61\u2070\u2071\u2074\u2075\u2076\u2077\u2078\u2079\u207A\u207B\u207C\u207D\u207E\u207F\u2120\u2122\u3192\u3193\u3194\u3195\u3196\u3197\u3198\u3199\u319A\u319B\u319C\u319D\u319E\u319F\u02C0\u02C1\u06E5\u06E6]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(e,t,i,r,a){if(e.opt.use_context_condition){var n=e.tmp.group_context.tip;n.condition?(n.condition.termtxt||(n.condition.termtxt=t,n.condition.valueTerm=i),!n.value_seen&&n.condition.test==="comma-safe-numbers-only"&&a&&(n.value_seen=!0,a.match(/^[0-9]/)||(e.tmp.just_did_number=!1))):r&&r.decorations.filter(o=>o[0]==="@vertical-align").length>0||r&&r.strings.suffix?e.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(e,t){if(e.opt.use_context_condition){var i,r=t.condition.test==="comma-safe-numbers-only";if(t.condition.test==="empty-label")i=!t.condition.termtxt;else if(t.condition.test==="empty-label-no-decor")i=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var a=t.condition.termtxt,n=!1;t.condition.termtxt&&(n=t.condition.termtxt.slice(0,1).match(s.ALL_ROMANESQUE_REGEXP));var o=e.tmp.just_did_number;o?t.condition.valueTerm?i=!r:a?n?i=!r:["always","after-number"].indexOf(e.opt.require_comma_on_symbol)>-1?i=!0:i=!1:i=!0:t.condition.valueTerm?i=!1:a?n?i=!r:e.opt.require_comma_on_symbol==="always"?i=!0:i=!1:i=!1}if(i)var l=!1;else var l=!0;return t.condition.not&&(l=!l),l}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var e=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*\u2014\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+e.join("|")+")","g"),matchfirst:new RegExp("^("+e.join("|")+")"),split:new RegExp("(?:"+e.join("|")+")")}}(),TITLE_SPLIT:function(e){if(!e)return e;for(var t=e.match(s.TITLE_SPLIT_REGEXP.match),i=e.split(s.TITLE_SPLIT_REGEXP.split),r=i.length-2;r>-1;r--)i[r]=i[r].trim(),i[r]&&i[r].slice(-1).toLowerCase()!==i[r].slice(-1)?(i[r]=i[r]+t[r]+i[r+1],i=i.slice(0,r+1).concat(i.slice(r+2))):i=i.slice(0,r+1).concat([t[r]]).concat(i.slice(r+1));return i},GET_COURT_CLASS:function(e,t,i){var r="",a=null,n=t.jurisdiction?t.jurisdiction.split(":")[0]:null,o="court_condition_classes";return i&&(o="court_key_classes"),n&&t.authority&&(typeof t.authority=="string"?a=t.authority:t.authority[0]&&t.authority[0].literal&&(a=t.authority[0].literal)),a&&(this.lang&&e.locale[this.lang].opts[o]&&e.locale[this.lang].opts[o][n]&&e.locale[this.lang].opts[o][n][a]?r=e.locale[this.lang].opts[o][n][a]:e.locale[e.opt["default-locale"][0]].opts[o]&&e.locale[e.opt["default-locale"][0]].opts[o][n]&&e.locale[e.opt["default-locale"][0]].opts[o][n][a]&&(r=e.locale[e.opt["default-locale"][0]].opts[o][n][a])),r},SET_COURT_CLASSES:function(e,t,i,r){for(var a=i.getNodesByName(r,"court-class"),n=0,o=i.numberofnodes(a);n<o;n+=1){var l=a[n],m=i.attributes(l),p=m["@name"],f=m["@country"],h=m["@courts"],u="court_key_classes";if(e.registry&&(u="court_condition_classes"),p&&f&&h){h=h.trim().split(/\s+/),e.locale[t].opts[u]||(e.locale[t].opts[u]={}),e.locale[t].opts[u][f]||(e.locale[t].opts[u][f]={});for(var d=0,v=h.length;d<v;d++)e.locale[t].opts[u][f][h[d]]=p}}},INIT_JURISDICTION_MACROS:function(e,t,i,r){if(t["best-jurisdiction"])return!0;if(!e.sys.retrieveStyleModule||!s.MODULE_MACROS[r]||!t.jurisdiction)return!1;var l=e.getJurisdictionList(t.jurisdiction);if(!e.opt.jurisdictions_seen[l[0]]){var a=e.retrieveAllStyleModules(l);for(var n in a){var o=e.loadStyleModule(n,a[n]);o&&(a[o]||(Object.assign(a,e.retrieveAllStyleModules([o])),e.loadStyleModule(o,a[o],!0)))}}var l=e.getJurisdictionList(t.jurisdiction);e.opt.parallel.enable&&(e.parallel||(e.parallel=new s.Parallel(e)));for(var m=0,p=l.length;m<p;m++){var n=l[m];if(i&&e.juris[n]&&!i["best-jurisdiction"]&&e.juris[n].types.locator&&(t["best-jurisdiction"]=n),e.juris[n]&&e.juris[n].types[t.type])return t["best-jurisdiction"]=n,!0}return!1}};s.XmlJSON=function(e){this.dataObj=e,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},s.XmlJSON.prototype.clean=function(e){return e},s.XmlJSON.prototype.getStyleId=function(e,t){var i="id";t&&(i="title");for(var r="",a=e.children,n=0,o=a.length;n<o;n++)if(a[n].name==="info")for(var l=a[n].children,m=0,p=l.length;m<p;m++)l[m].name===i&&(r=l[m].children[0]);return r},s.XmlJSON.prototype.children=function(e){return e&&e.children.length?e.children.slice():!1},s.XmlJSON.prototype.nodename=function(e){return e?e.name:null},s.XmlJSON.prototype.attributes=function(e){var t={};for(var i in e.attrs)t["@"+i]=e.attrs[i];return t},s.XmlJSON.prototype.content=function(e){var t="";if(!e||!e.children)return t;for(var i=0,r=e.children.length;i<r;i+=1)typeof e.children[i]=="string"&&(t+=e.children[i]);return t},s.XmlJSON.prototype.namespace={},s.XmlJSON.prototype.numberofnodes=function(e){return e&&typeof e.length=="number"?e.length:0},s.XmlJSON.prototype.getAttributeValue=function(e,t,i){var r="";return i&&(t=i+":"+t),e&&e.attrs&&(e.attrs[t]?r=e.attrs[t]:r=""),r},s.XmlJSON.prototype.getNodeValue=function(e,t){var i="";if(t)for(var r=0,a=e.children.length;r<a;r+=1)e.children[r].name===t&&(e.children[r].children.length?i=e.children[r]:i="");else e&&(i=e);return i&&i.children&&i.children.length==1&&typeof i.children[0]=="string"&&(i=i.children[0]),i},s.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,i,r,a){var n,o,l,m,p;r.slice(0,1)==="@"&&(r=r.slice(1));for(var f=0,h=e.children.length;f<h;f+=1)e.children[f].name===t&&e.children[f].attrs.name===i&&(e.children[f].attrs[r]=a)},s.XmlJSON.prototype.deleteNodeByNameAttribute=function(e,t){var i,r;for(i=0,r=e.children.length;i<r;i+=1)!e.children[i]||typeof e.children[i]=="string"||e.children[i].attrs.name==t&&(e.children=e.children.slice(0,i).concat(e.children.slice(i+1)))},s.XmlJSON.prototype.deleteAttribute=function(e,t){var i,r;typeof e.attrs[t]!="undefined"&&e.attrs.pop(t)},s.XmlJSON.prototype.setAttribute=function(e,t,i){return e.attrs[t]=i,!1},s.XmlJSON.prototype.nodeCopy=function(e,t){if(!t)var t={};if(typeof t=="object"&&typeof t.length=="undefined")for(var i in e)typeof e[i]=="string"?t[i]=e[i]:typeof e[i]=="object"&&(typeof e[i].length=="undefined"?t[i]=this.nodeCopy(e[i],{}):t[i]=this.nodeCopy(e[i],[]));else for(var r=0,a=e.length;r<a;r+=1)typeof e[r]=="string"?t[r]=e[r]:t[r]=this.nodeCopy(e[r],{});return t},s.XmlJSON.prototype.getNodesByName=function(e,t,i,r){var a,n,o,l;if(!r)var r=[];if(!e||!e.children)return r;t===e.name&&(i?i===e.attrs.name&&r.push(e):r.push(e));for(var m=0,p=e.children.length;m<p;m+=1)typeof e.children[m]=="object"&&this.getNodesByName(e.children[m],t,i,r);return r},s.XmlJSON.prototype.nodeNameIs=function(e,t){return typeof e=="undefined"?!1:t==e.name},s.XmlJSON.prototype.makeXml=function(e){return typeof e=="string"&&(e.slice(0,1)==="<"?e=this.jsonStringWalker.walkToObject(e):e=JSON.parse(e)),e},s.XmlJSON.prototype.insertChildNodeAfter=function(e,t,i,r){for(var a=0,n=e.children.length;a<n;a+=1)if(t===e.children[a]){e.children=e.children.slice(0,a).concat([r]).concat(e.children.slice(a+1));break}return e},s.XmlJSON.prototype.insertPublisherAndPlace=function(e){if(e.name==="group"){for(var t=!0,i=["publisher","publisher-place"],r=0,a=e.children.length;r<a;r+=1){var n=i.indexOf(e.children[r].attrs.variable),o=e.children[r].name==="text";if(o&&n>-1&&!e.children[r].attrs.prefix&&!e.children[r].attrs.suffix)i=i.slice(0,n).concat(i.slice(n+1));else{t=!1;break}}t&&!i.length&&(e.attrs["has-publisher-and-publisher-place"]=!0)}for(var r=0,a=e.children.length;r<a;r+=1)typeof e.children[r]=="object"&&this.insertPublisherAndPlace(e.children[r])},s.XmlJSON.prototype.isChildOfSubstitute=function(e){if(e.length>0){var t=e.slice(),i=t.pop();return i==="substitute"?!0:this.isChildOfSubstitute(t)}return!1},s.XmlJSON.prototype.addMissingNameNodes=function(e,t){if(t||(t=[]),e.name==="names"&&!this.isChildOfSubstitute(t)){for(var i=!0,r=0,a=e.children.length;r<a;r++)if(e.children[r].name==="name"){i=!1;break}i&&(e.children=[{name:"name",attrs:{},children:[]}].concat(e.children))}t.push(e.name);for(var r=0,a=e.children.length;r<a;r+=1)typeof e.children[r]=="object"&&this.addMissingNameNodes(e.children[r],t);t.pop()},s.XmlJSON.prototype.addInstitutionNodes=function(e){var t,i,r,a,n,o,l,m,p;if(e.name==="names"){for(var f={},h=-1,u=0,d=e.children.length;u<d;u+=1){if(e.children[u].name=="name"){for(var v in e.children[u].attrs)f[v]=e.children[u].attrs[v];f.delimiter=e.children[u].attrs.delimiter,f.and=e.children[u].attrs.and,h=u;for(var c=0,S=e.children[u].children.length;c<S;c+=1)if(e.children[u].children[c].attrs.name==="family")for(var v in e.children[u].children[c].attrs)f[v]=e.children[u].children[c].attrs[v]}if(e.children[u].name=="institution"){h=-1;break}}if(h>-1){for(var r=this.nodeCopy(this.institution),u=0,d=s.INSTITUTION_KEYS.length;u<d;u+=1){var g=s.INSTITUTION_KEYS[u];typeof f[g]!="undefined"&&(r.children[0].attrs[g]=f[g]),f.delimiter&&(r.attrs.delimiter=f.delimiter),f.and&&(r.attrs.and=f.and)}e.children=e.children.slice(0,h+1).concat([r]).concat(e.children.slice(h+1))}}for(var u=0,d=e.children.length;u<d;u+=1)typeof e.children[u]!="string"&&this.addInstitutionNodes(e.children[u])},s.XmlJSON.prototype.flagDateMacros=function(e){for(var t=0,i=e.children.length;t<i;t+=1)e.children[t].name==="macro"&&this.inspectDateMacros(e.children[t])&&(e.children[t].attrs["macro-has-date"]="true")},s.XmlJSON.prototype.inspectDateMacros=function(e){if(!e||!e.children)return!1;if(e.name==="date")return!0;for(var t=0,i=e.children.length;t<i;t+=1)if(this.inspectDateMacros(e.children[t]))return!0;return!1},s.stripXmlProcessingInstruction=function(e){return e&&(e=e.replace(/^<\?[^?]+\?>/,""),e=e.replace(/<!--[^>]+-->/g,""),e=e.replace(/^\s+/g,""),e=e.replace(/\s+$/g,""),e)},s.parseXml=function(e){var t=0,i={children:[]},r=[i.children];function a(y){y=y.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var x=y.split("><"),b=null,A=0,O=x.length;A<O;A++)A>0&&(x[A]="<"+x[A]),A<x.length-1&&(x[A]=x[A]+">"),typeof b!="number"&&(x[A].slice(0,7)==="<style "||x[A].slice(0,8)=="<locale ")&&(b=A);x=x.slice(b);for(var A=x.length-2;A>-1;A--)if(x[A].slice(1).indexOf("<")===-1){var I=x[A].slice(0,5);x[A].slice(-2)!=="/>"&&(I==="<term"?x[A+1].slice(0,6)==="</term"&&(x[A]=x[A]+x[A+1],x=x.slice(0,A+1).concat(x.slice(A+2))):["<sing","<mult"].indexOf(I)>-1&&x[A].slice(-2)!=="/>"&&x[A+1].slice(0,1)==="<"&&(x[A]=x[A]+x[A+1],x=x.slice(0,A+1).concat(x.slice(A+2))))}return x}function n(y){return y.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(x,b){var A=parseInt(b,10);return String.fromCharCode(A)}).replace(/&#x([a-f0-9]{1,6});/gi,function(x,b){var A=parseInt(b,16);return String.fromCharCode(A)})}function o(y){var x=y.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(x)for(var b=0,A=x.length;b<A;b++)x[b]=x[b].replace(/=.*/,"");return x}function l(y,x){var b=RegExp("^.*[	 ]+"+x+`=("(?:[^"]*)"|'(?:[^']*)').*$`),A=y.match(b);return A?A[1].slice(1,-1):null}function m(y){var x=RegExp("^<([^	 />]+)"),b=y.match(x);return b?b[1]:null}function p(y){var x={};x.name=m(y),x.attrs={};var b=o(y);if(b)for(var A=0,O=b.length;A<O;A++){var I={name:b[A],value:l(y,b[A])};x.attrs[I.name]=n(I.value)}return x.children=[],x}function f(y){var x=y.match(/^.*>([^<]*)<.*$/);return n(x[1])}function h(y){r.slice(-1)[0].push(y)}function u(y){r.push(y.children)}function d(y){var x;if(y.slice(1).indexOf("<")>-1){var b=y.slice(0,y.indexOf(">")+1);x=p(b),x.children=[f(y)],h(x)}else y.slice(-2)==="/>"?(x=p(y),m(y)==="term"&&x.children.push(""),h(x)):y.slice(0,2)==="</"?r.pop():(x=p(y),h(x),u(x))}for(var v=a(e),c=0,S=v.length;c<S;c++){var g=v[c];d(g)}return i.children[0]},s.XmlDOM=function(e){this.dataObj=e,typeof DOMParser=="undefined"?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(n,o){if(typeof ActiveXObject!="undefined"){var l=new ActiveXObject("MSXML.DomDocument");return l.async=!1,l.loadXML(n),l}else if(typeof XMLHttpRequest!="undefined"){var l=new XMLHttpRequest;return o||(o="text/xml"),l.open("GET","data:"+o+";charset=utf-8,"+encodeURIComponent(n),!1),l.overrideMimeType&&l.overrideMimeType(o),l.send(null),l.responseXML}else if(typeof marknote!="undefined"){var m=new marknote.Parser;return m.parse(n)}},this.hasAttributes=function(n){var o;return n.attributes&&n.attributes.length?o=!0:o=!1,o}):this.hasAttributes=function(n){var o;return n.attributes&&n.attributes.length?o=!0:o=!1,o},this.importNode=function(n,o){var l;return typeof n.importNode=="undefined"?l=this._importNode(n,o,!0):l=n.importNode(o,!0),l},this._importNode=function(n,o,l){switch(o.nodeType){case 1:var m=n.createElement(o.nodeName);if(o.attributes&&o.attributes.length>0)for(var p=0,f=o.attributes.length;p<f;)m.setAttribute(o.attributes[p].nodeName,o.getAttribute(o.attributes[p++].nodeName));if(l&&o.childNodes&&o.childNodes.length>0)for(var p=0,f=o.childNodes.length;p<f;)m.appendChild(this._importNode(n,o.childNodes[p++],l));return m;case 3:case 4:case 8:}},this.parser=new DOMParser;var t='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',i=this.parser.parseFromString(t,"text/xml"),r=i.getElementsByTagName("institution");this.institution=r.item(0);var a=i.getElementsByTagName("institution-part");this.institutionpart=a.item(0),this.ns="http://purl.org/net/xbiblio/csl"},s.XmlDOM.prototype.clean=function(e){return e=e.replace(/<\?[^?]+\?>/g,""),e=e.replace(/<![^>]+>/g,""),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,""),e=e.replace(/^\n*/,""),e},s.XmlDOM.prototype.getStyleId=function(e,t){var i="",r="id";t&&(r="title");var a=e.getElementsByTagName(r);return a&&a.length&&(a=a.item(0)),a&&(i=a.textContent),i||(i=a.innerText),i||(i=a.innerHTML),i},s.XmlDOM.prototype.children=function(e){var t,i,r,a;if(e){for(a=[],t=e.childNodes,i=0,r=t.length;i<r;i+=1)t[i].nodeName!="#text"&&a.push(t[i]);return a}else return[]},s.XmlDOM.prototype.nodename=function(e){var t=e.nodeName;return t},s.XmlDOM.prototype.attributes=function(e){var t,i,r,a,n,o,l;if(t=new Object,e&&this.hasAttributes(e))for(i=e.attributes,o=0,l=i.length;o<l;o+=1)r=i[o],t["@"+r.name]=r.value;return t},s.XmlDOM.prototype.content=function(e){var t;return typeof e.textContent!="undefined"?t=e.textContent:typeof e.innerText!="undefined"?t=e.innerText:t=e.txt,t},s.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},s.XmlDOM.prototype.numberofnodes=function(e){return e?e.length:0},s.XmlDOM.prototype.getAttributeName=function(e){var t=e.name;return t},s.XmlDOM.prototype.getAttributeValue=function(e,t,i){var r="";return i&&(t=i+":"+t),e&&this.hasAttributes(e)&&e.getAttribute(t)&&(r=e.getAttribute(t)),r},s.XmlDOM.prototype.getNodeValue=function(e,t){var i=null;if(t){var r=e.getElementsByTagName(t);r.length>0&&(typeof r[0].textContent!="undefined"?i=r[0].textContent:typeof r[0].innerText!="undefined"?i=r[0].innerText:i=r[0].text)}return i===null&&e&&e.childNodes&&(e.childNodes.length==0||e.childNodes.length==1&&e.firstChild.nodeName=="#text")&&(typeof e.textContent!="undefined"?i=e.textContent:typeof e.innerText!="undefined"?i=e.innerText:i=e.text),i===null&&(i=e),i},s.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,i,r,a){var n,o,l,m,p;for(r.slice(0,1)==="@"&&(r=r.slice(1)),m=e.getElementsByTagName(t),n=0,o=m.length;n<o;n+=1)p=m[n],p.getAttribute("name")==i&&p.setAttribute(r,a)},s.XmlDOM.prototype.deleteNodeByNameAttribute=function(e,t){var i,r,a,n;for(n=e.childNodes,i=0,r=n.length;i<r;i+=1)a=n[i],!(!a||a.nodeType==a.TEXT_NODE)&&this.hasAttributes(a)&&a.getAttribute("name")==t&&e.removeChild(n[i])},s.XmlDOM.prototype.deleteAttribute=function(e,t){e.removeAttribute(t)},s.XmlDOM.prototype.setAttribute=function(e,t,i){return e.ownerDocument||(e=e.firstChild),["function","unknown"].indexOf(typeof e.setAttribute)>-1&&e.setAttribute(t,i),!1},s.XmlDOM.prototype.nodeCopy=function(e){var t=e.cloneNode(!0);return t},s.XmlDOM.prototype.getNodesByName=function(e,t,i){var r,a,n,o,l;for(r=[],a=e.getElementsByTagName(t),o=0,l=a.length;o<l;o+=1)n=a.item(o),!(i&&!(this.hasAttributes(n)&&n.getAttribute("name")==i))&&r.push(n);return r},s.XmlDOM.prototype.nodeNameIs=function(e,t){return t==e.nodeName},s.XmlDOM.prototype.makeXml=function(e){var t,i;e||(e="<docco><bogus/></docco>"),e=e.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var r=this.parser.parseFromString(e,"application/xml");return r.firstChild},s.XmlDOM.prototype.insertChildNodeAfter=function(e,t,i,r){var a,n;return a=this.importNode(t.ownerDocument,r),e.replaceChild(a,t),e},s.XmlDOM.prototype.insertPublisherAndPlace=function(e){for(var t=e.getElementsByTagName("group"),i=0,r=t.length;i<r;i+=1){for(var a=t.item(i),n=[],o=0,l=a.childNodes.length;o<l;o+=1)a.childNodes.item(o).nodeType!==1&&n.push(o);if(a.childNodes.length-n.length===2){for(var m=[],o=0,l=2;o<l;o+=1)if(!(n.indexOf(o)>-1)){for(var p=a.childNodes.item(o),f=[],h=0,u=p.childNodes.length;h<u;h+=1)p.childNodes.item(h).nodeType!==1&&f.push(h);if(p.childNodes.length-f.length===0&&(m.push(p.getAttribute("variable")),p.getAttribute("suffix")||p.getAttribute("prefix"))){m=[];break}}m.indexOf("publisher")>-1&&m.indexOf("publisher-place")>-1&&a.setAttribute("has-publisher-and-publisher-place",!0)}}},s.XmlDOM.prototype.isChildOfSubstitute=function(e){return e.parentNode?e.parentNode.tagName.toLowerCase()==="substitute"?!0:this.isChildOfSubstitute(e.parentNode):!1},s.XmlDOM.prototype.addMissingNameNodes=function(e){for(var t=e.getElementsByTagName("names"),i=0,r=t.length;i<r;i+=1){var a=t.item(i),n=a.getElementsByTagName("name");if((!n||n.length===0)&&!this.isChildOfSubstitute(a)){var o=a.ownerDocument,l=o.createElement("name");a.appendChild(l)}}},s.XmlDOM.prototype.addInstitutionNodes=function(e){var t,i,r,a,n,o,l,m,p,f;for(t=e.getElementsByTagName("names"),p=0,f=t.length;p<f;p+=1)if(i=t.item(p),o=i.getElementsByTagName("name"),o.length!=0&&(r=i.getElementsByTagName("institution"),r.length==0)){a=this.importNode(e.ownerDocument,this.institution),n=a.getElementsByTagName("institution-part").item(0),l=o.item(0),i.insertBefore(a,l.nextSibling);for(var h=0,u=s.INSTITUTION_KEYS.length;h<u;h+=1){var d=s.INSTITUTION_KEYS[h],v=l.getAttribute(d);v&&n.setAttribute(d,v)}for(var c=l.getElementsByTagName("name-part"),h=0,u=c.length;h<u;h+=1)if(c[h].getAttribute("name")==="family")for(var S=0,g=s.INSTITUTION_KEYS.length;S<g;S+=1){var d=s.INSTITUTION_KEYS[S],v=c[h].getAttribute(d);v&&n.setAttribute(d,v)}}},s.XmlDOM.prototype.flagDateMacros=function(e){var t,i,r,a,n=e.getElementsByTagName("macro");for(t=0,i=n.length;t<i;t+=1)r=n.item(t),a=r.getElementsByTagName("date"),a.length&&r.setAttribute("macro-has-date","true")},s.setupXml=function(e){var t={},i=null;return typeof e!="undefined"?typeof e=="string"?(e=e.replace("^\uFEFF","").replace(/^\s+/,""),e.slice(0,1)==="<"?t=s.parseXml(e):t=JSON.parse(e),i=new s.XmlJSON(t)):typeof e.getAttribute!="undefined"?i=new s.XmlDOM(e):typeof e.toXMLString!="undefined"?i=new s.XmlE4X(e):i=new s.XmlJSON(e):s.error("unable to parse XML input"),i||s.error("citeproc-js error: unable to parse CSL style or locale object"),i},s.getSortCompare=function(e){if(s.stringCompare)return s.stringCompare;var t=this,i,r={sensitivity:"base",ignorePunctuation:!0,numeric:!0};e||(e="en-US"),i=function(m,p){return s.toLocaleLowerCase.call(t,m).localeCompare(s.toLocaleLowerCase.call(t,p),e,r)};var a=function(m){return m.replace(/^[\[\]\'\"]*/g,"")},n=function(){return i("[x","x")?function(m,p){return i(a(m),a(p))}:!1},o=n(),l=function(m,p){return o?o(m,p):i(m,p)};return l},s.ambigConfigDiff=function(e,t){var i,r,a,n;if(e.names.length!==t.names.length)return 1;for(i=0,r=e.names.length;i<r;i+=1){if(e.names[i]!==t.names[i])return 1;for(a=0,n=e.givens[i];a<n;a+=1)if(e.givens[i][a]!==t.givens[i][a])return 1}return e.disambiguate!=t.disambiguate||e.year_suffix!==t.year_suffix?1:0},s.cloneAmbigConfig=function(e,t){var i,r,a,n,o,l={};for(l.names=[],l.givens=[],l.year_suffix=!1,l.disambiguate=!1,i=0,r=e.names.length;i<r;i+=1)o=e.names[i],l.names[i]=o;for(i=0,r=e.givens.length;i<r;i+=1){for(o=[],a=0,n=e.givens[i].length;a<n;a+=1)o.push(e.givens[i][a]);l.givens.push(o)}return t?(l.year_suffix=t.year_suffix,l.disambiguate=t.disambiguate):(l.year_suffix=e.year_suffix,l.disambiguate=e.disambiguate),l},s.getAmbigConfig=function(){var e,t;e=this.tmp.disambig_request,e||(e=this.tmp.disambig_settings);var t=s.cloneAmbigConfig(e);return t},s.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},s.getMinVal=function(){return this.tmp["et-al-min"]},s.tokenExec=function(e,t,i){var r,a,n,o;o=!1,r=e.next,a=!1;var l=function(f){return f?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)};e.test&&(r=l.call(this,e.test(t,i)));for(var m=0,p=e.execs.length;m<p;m++)n=e.execs[m],a=n.call(e,this,t,i),a&&(r=a);return o&&s.debug(e.name+" ("+e.tokentype+") ---> done"),r},s.expandMacro=function(e,t){var i,r,a,n;i=e.postponed_macro;var o=e.strings.sort_direction;e=new s.Token("group",s.START);var l=!1,m=!1;r=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i),r.length&&(m=this.cslXml.getAttributeValue(r[0],"cslid"),l=this.cslXml.getAttributeValue(r[0],"macro-has-date")),l&&(i=i+"@"+this.build.current_default_locale,n=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!0)},e.execs.push(n)),this.build.macro_stack.indexOf(i)>-1?s.error('CSL processor error: call to macro "'+i+'" would cause an infinite loop'):this.build.macro_stack.push(i),e.cslid=m,s.MODULE_MACROS[i]&&(e.juris=i,this.opt.update_mode=s.POSITION),s.Node.group.build.call(e,this,t,!0),this.cslXml.getNodeValue(r)||s.error('CSL style error: undefined macro "'+i+'"');var p=s.getMacroTarget.call(this,i);if(p&&(s.buildMacro.call(this,p,r),s.configureMacro.call(this,p)),!this.build.extension){var n=function(u){return function(d,v,c){for(var S=0;S<d.macros[u].length;)S=s.tokenExec.call(d,d.macros[u][S],v,c)}}(i),f=new s.Token("text",s.SINGLETON);f.execs.push(n),t.push(f)}a=new s.Token("group",s.END),a.strings.sort_direction=o,l&&(n=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!1)},a.execs.push(n)),e.juris&&(a.juris=i),s.Node.group.build.call(a,this,t,!0),this.build.macro_stack.pop()},s.getMacroTarget=function(e){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[e]||(t=[],this.macros[e]=t),t},s.buildMacro=function(e,t){var i=s.makeBuilder(this,e),r;typeof t.length=="undefined"?r=t:r=t[0],i(r)},s.configureMacro=function(e){this.build.extension||this.configureTokenList(e)},s.XmlToToken=function(e,t,i,r){var a,n,o,l,m,p,f,h;if(a=e.cslXml.nodename(this),!(e.build.skip&&e.build.skip!==a)){if(!a){n=e.cslXml.content(this),n&&(e.build.text=n);return}if(s.Node[e.cslXml.nodename(this)]||s.error('Undefined node name "'+a+'".'),o=[],l=e.cslXml.attributes(this),m=s.setDecorations.call(this,e,l),p=new s.Token(a,t),t!==s.END||a==="if"||a==="else-if"||a==="layout"){for(var f in l)if(l.hasOwnProperty(f)){if(t===s.END&&f!=="@language"&&f!=="@locale")continue;if(l.hasOwnProperty(f))if(s.Attributes[f])try{s.Attributes[f].call(p,e,""+l[f])}catch(d){s.error(f+" attribute: "+d)}else s.debug('warning: undefined attribute "'+f+'" in style')}p.decorations=m,s.DATE_VARIABLES.indexOf(l["@variable"])>-1&&r.push(p.variables)}else t===s.END&&l["@variable"]&&(p.hasVariable=!0,s.DATE_VARIABLES.indexOf(l["@variable"])>-1&&(p.variables=r.pop()));i?h=i:h=e[e.build.area].tokens,s.Node[a].build.call(p,e,h,!0)}},s.DateParser=function(){for(var e=[["\u660E\u6CBB",1867],["\u5927\u6B63",1911],["\u662D\u548C",1925],["\u5E73\u6210",1988]],t={},i=0,r=e.length;i<r;i++){var a=e[i][0],n=e[i][1];t[a]=n}for(var o=[],l={},i=0,r=e.length;i<r;i++){var m=e[i],n=m[0];o.push(n),l[m[0]]=m[1]}var p=o.join("|"),f=new RegExp("(?:"+p+")(?:[0-9]+)"),h=new RegExp("(?:"+p+")(?:[0-9]+)","g"),u=/(\u6708|\u5E74)/g,d=/\u65E5/g,v=/\u301c/g,c="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",S="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",g="[?0-9]{1,3}",y="[%%DATED%%]",x="[?~]",b="[^-/~?0-9]+",A="("+S+"|"+c+"|"+g+"|"+y+"|"+x+"|"+b+")",O=new RegExp(A.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),I=new RegExp(A.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),T=new RegExp(A.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),k="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=k.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var N=0,_=this.monthStrings.length;N<_;N++)this.monthSets.push([this.monthStrings[N]]);this.monthAbbrevs=[];for(var N=0,_=this.monthSets.length;N<_;N++){this.monthAbbrevs.push([]);for(var w=0,D=this.monthSets[N].length;w<D;w++)this.monthAbbrevs[N].push(this.monthSets[N][0].slice(0,3))}this.monthRexes=[];for(var N=0,_=this.monthAbbrevs.length;N<_;N++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[N].join("|")+")"))},this.addDateParserMonths=function(N){if(typeof N=="string"&&(N=N.split(/\s+/)),N.length!==12&&N.length!==16){s.debug("month [+season] list of "+N.length+", expected 12 or 16. Ignoring.");return}for(var _=0,w=N.length;_<w;_++){for(var D=null,E=!1,C=3,U={},q=0,z=this.monthAbbrevs.length;q<z;q++){if(U[q]={},q===_){for(var j=0,M=this.monthAbbrevs[_].length;j<M;j++)if(this.monthAbbrevs[_][j]===N[_].slice(0,this.monthAbbrevs[_][j].length)){E=!0;break}}else for(var j=0,M=this.monthAbbrevs[q].length;j<M;j++)if(D=this.monthAbbrevs[q][j].length,this.monthAbbrevs[q][j]===N[_].slice(0,D)){for(;this.monthSets[q][j].slice(0,D)===N[_].slice(0,D);)if(D>N[_].length||D>this.monthSets[q][j].length){s.debug("unable to disambiguate month string in date parser: "+N[_]);break}else D+=1;C=D,U[q][j]=D}for(var R in U)for(var L in U[R])D=U[R][L],R=parseInt(R,10),L=parseInt(L,10),this.monthAbbrevs[R][L]=this.monthSets[R][L].slice(0,D)}E||(this.monthSets[_].push(N[_]),this.monthAbbrevs[_].push(N[_].slice(0,C)))}this.monthRexes=[],this.monthRexStrs=[];for(var _=0,w=this.monthAbbrevs.length;_<w;_++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[_].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[_].join("|")+")");if(this.monthAbbrevs.length===18)for(var _=12,w=14;_<w;_++)this.monthRexes[_+4]=new RegExp("^(?:"+this.monthAbbrevs[_].join("|")+")"),this.monthRexStrs[_+4]="^(?:"+this.monthAbbrevs[_].join("|")+")"},this.convertDateObjectToArray=function(N){N["date-parts"]=[],N["date-parts"].push([]);for(var _=0,w,D=0,E=3;D<E&&(w=["year","month","day"][D],!!N[w]);D++)_+=1,N["date-parts"][0].push(N[w]),delete N[w];N["date-parts"].push([]);for(var D=0,E=_;D<E&&(w=["year_end","month_end","day_end"][D],!!N[w]);D++)N["date-parts"][1].push(N[w]),delete N[w];return N["date-parts"][0].length!==N["date-parts"][1].length&&N["date-parts"].pop(),N},this.convertDateObjectToString=function(N){for(var _=[],w=0,D=3;w<D&&N[s.DATE_PARTS_ALL[w]];w+=1)_.push(N[s.DATE_PARTS_ALL[w]]);return _.join("-")},this._parseNumericDate=function(N,_,w,D){w||(w="");for(var E=D.split(_),C=0,U=E.length;C<U;C++)if(E[C].length===4){N["year"+w]=E[C].replace(/^0*/,""),C?E=E.slice(0,C):E=E.slice(1);break}for(var C=0,U=E.length;C<U;C++)E[C]=parseInt(E[C],10);if(E.length===1||E.length===2&&!E[1]){var q=E[0];q&&(N["month"+w]=""+E[0])}else if(E.length===2)if(E[this.monthGuess]>12){var q=E[this.dayGuess],z=E[this.monthGuess];q&&(N["month"+w]=""+q,z&&(N["day"+w]=""+z))}else{var q=E[this.monthGuess],z=E[this.dayGuess];q&&(N["month"+w]=""+q,z&&(N["day"+w]=""+z))}},this.parseDateToObject=function(N){var _=N,w=-1,D=-1,E=!1,C;if(N){if(N=N.replace(/^(.*[0-9])T[0-9].*/,"$1"),N.slice(0,1)==="-"&&(E=!0,N=N.slice(1)),N.match(/^[0-9]{1,3}$/))for(;N.length<4;)N="0"+N;N=""+N,N=N.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var U=N.match(u);if(U){N=N.replace(/\s+/g,""),N=N.replace(d,""),N=N.replace(u,"-"),N=N.replace(v,"/"),N=N.replace(/\-\//g,"/"),N=N.replace(/-$/g,"");var q=N.split(f);C=[];var z=N.match(h);if(z){for(var j=[],M=0,R=z.length;M<R;M++)j=j.concat(z[M].match(/([^0-9]+)([0-9]+)/).slice(1));for(var M=0,R=q.length;M<R;M++)if(C.push(q[M]),M!==R-1){var L=M*2;C.push(j[L]),C.push(j[L+1])}}else C=q;for(var M=1,R=C.length;M<R;M+=3)C[M+1]=l[C[M]]+parseInt(C[M+1],10),C[M]="";N=C.join(""),N=N.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),N=N.replace(/\.\s*$/,""),N=N.replace(/\.(?! )/,""),w=N.indexOf("/"),D=N.indexOf("-")}}N=N.replace(/([A-Za-z])\./g,"$1");var P="",X="",B={},F,G;if(N.slice(0,1)==='"'&&N.slice(-1)==='"')return B.literal=N.slice(1,-1),B;if(w>-1&&D>-1){var V=N.split("/");V.length>3?(F="-",N=N.replace(/\_/g,"-"),G="/",C=N.split(T)):(F="/",N=N.replace(/\_/g,"/"),G="-",C=N.split(I))}else N=N.replace(/\//g,"-"),N=N.replace(/\_/g,"-"),F="-",G="-",C=N.split(O);for(var $=[],M=0,R=C.length;M<R;M++){var U=C[M].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);U&&$.push(U[1])}var Q=$.indexOf(F),Y=[],W=!1;Q>-1?(Y.push([0,Q]),Y.push([Q+1,$.length]),W=!0):Y.push([0,$.length]);for(var H="",M=0,R=Y.length;M<R;M++){var ee=Y[M],J=$.slice(ee[0],ee[1]);e:for(var te=0,se=J.length;te<se;te++){var K=J[te];if(K.indexOf(G)>-1){this._parseNumericDate(B,G,H,K);continue}if(K.match(/[0-9]{4}/)){B["year"+H]=K.replace(/^0*/,"");continue}(K==="~"||K==="?"||K==="c"||K.match(/^cir/))&&(B.circa=!0);for(var ie=0,ce=this.monthRexes.length;ie<ce;ie++)if(K.toLocaleLowerCase().match(this.monthRexes[ie])){B["month"+H]=""+(parseInt(ie,10)+1);continue e}if(K.match(/^[0-9]+$/)&&(P=K),K.toLocaleLowerCase().match(/^bc/)&&P){B["year"+H]=""+P*-1,P="";continue}if(K.toLocaleLowerCase().match(/^ad/)&&P){B["year"+H]=""+P,P="";continue}if(K.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)&&!B["season"+H]){X=K;continue}}P&&(B["day"+H]=P,P=""),X&&!B["season"+H]&&(B["season"+H]=X.trim(),X=""),H="_end"}if(W)for(var te=0,se=s.DATE_PARTS_ALL.length;te<se;te++){var Z=s.DATE_PARTS_ALL[te];B[Z]&&!B[Z+"_end"]?B[Z+"_end"]=B[Z]:!B[Z]&&B[Z+"_end"]&&(B[Z]=B[Z+"_end"])}(!B.year||B.year&&B.day&&!B.month)&&(B={literal:_});for(var me=["year","month","day","year_end","month_end","day_end"],M=0,R=me.length;M<R;M++){var pe=me[M];typeof B[pe]=="string"&&B[pe].match(/^[0-9]+$/)&&(B[pe]=parseInt(B[pe],10))}return E&&Object.keys(B).indexOf("year")>-1&&(B.year=B.year*-1),B},this.parseDateToArray=function(N){return this.convertDateObjectToArray(this.parseDateToObject(N))},this.parseDateToString=function(N){return this.convertDateObjectToString(this.parseDateToObject(N))},this.parse=function(N){return this.parseDateToObject(N)},this.setOrderMonthDay(),this.resetDateParserMonths()},s.DateParser=new s.DateParser,s.Engine=function(e,t,i,r){var a,n;this.processor_version=s.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=e,typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(h){"use strict";if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(h),d=1;d<arguments.length;d++){var v=arguments[d];if(v!=null)for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(u[c]=v[c])}return u},writable:!0,configurable:!0}),e.variableWrapper&&(s.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(s.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),s.retrieveStyleModule&&(this.sys.retrieveStyleModule=s.retrieveStyleModule),s.getAbbreviation&&(this.sys.getAbbreviation=s.getAbbreviation),this.sys.stringCompare&&(s.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=s.AbbreviationSegments,this.transform=new s.Transform(this),this.setParseNames=function(f){this.opt["parse-names"]=f},this.opt=new s.Engine.Opt,this.tmp=new s.Engine.Tmp,this.build=new s.Engine.Build,this.fun=new s.Engine.Fun(this),this.configure=new s.Engine.Configure,this.citation_sort=new s.Engine.CitationSort,this.bibliography_sort=new s.Engine.BibliographySort,this.citation=new s.Engine.Citation(this),this.bibliography=new s.Engine.Bibliography,this.intext=new s.Engine.InText,this.output=new s.Output.Queue(this),this.dateput=new s.Output.Queue(this),this.cslXml=s.setupXml(t);for(var o in s.SYS_OPTIONS){var l=s.SYS_OPTIONS[o];typeof this.sys[l]=="boolean"&&(this.opt.development_extensions[l]=this.sys[l])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(f,h){var u=this.cslXml.children(f);this.cslXml.setAttribute(f,"cslid",this.build.cslNodeId),this.opt.nodenames.push(h),this.build.cslNodeId+=1;for(var d=0,v=this.cslXml.numberofnodes(u);d<v;d+=1)h=this.cslXml.nodename(u[d]),h&&this.setCslNodeIds(u[d],h)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),a=this.cslXml.attributes(this.cslXml.dataObj),typeof a["@sort-separator"]=="undefined"&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),this.opt.version.slice(0,4)==="1.1m"&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),i&&(i=i.replace("_","-"),i=s.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=s.normalizeLocaleStr(this.opt["default-locale"][0])),i&&r&&(this.opt["default-locale"]=[i]),i&&!r&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),this.opt["default-locale"].length===0&&(i||(i="en-US"),this.opt["default-locale"].push("en-US")),i||(i=this.opt["default-locale"][0]),n=s.localeResolve(i),this.opt.lang=n.best,this.opt["default-locale"][0]=n.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(n);function m(h){var h=h.slice(),u=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+h.join("|")+")(?=[!?:]*\\s+|-|$))","g");return u}this.locale[this.opt.lang].opts["skip-words-regexp"]=m(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new s.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new s.Registry(this),this.macros={},this.build.area="citation";var p=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(p,this[this.build.area].tokens),this.build.area="bibliography";var p=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(p,this[this.build.area].tokens),this.build.area="intext";var p=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(p,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new s.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new s.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=s.DateParser,this.fun.flipflopper=new s.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=s.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=s.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},s.Engine.prototype.setCloseQuotesArray=function(){var e;e=[],e.push(this.getTerm("close-quote")),e.push(this.getTerm("close-inner-quote")),e.push('"'),e.push("'"),this.opt.close_quotes_array=e},s.makeBuilder=function(e,t){var i=[],r=[];function a(m){r.push(m),s.XmlToToken.call(m,e,s.START,t,i)}function n(){var m=r.pop();s.XmlToToken.call(m,e,s.END,t,i)}function o(m){s.XmlToToken.call(m,e,s.SINGLETON,t,i)}function l(m,p,f){f||(f=[]),m||(m=[]),typeof m.length=="undefined"&&(m=[m]);for(var h=0;h<m.length;h++){var u=m[h];e.cslXml.nodename(u)!==null&&(p&&e.cslXml.nodename(u)==="date"&&(s.Util.fixDateNode.call(e,p,h,u),u=e.cslXml.children(p)[h]),e.cslXml.numberofnodes(e.cslXml.children(u))?(a(u),l(e.cslXml.children(u),u,f),n()):o(u))}}return l},s.Engine.prototype.buildTokenLists=function(e,t){if(this.cslXml.getNodeValue(e)){var i=s.makeBuilder(this,t),r;typeof e.length=="undefined"?r=e:r=e[0],i(r)}},s.Engine.prototype.setStyleAttributes=function(){var i,e,t,i={};i.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj);for(t in e)e.hasOwnProperty(t)&&s.Attributes[t].call(i,this,e[t])},s.Engine.prototype.getTerm=function(e,t,i,r,a,n){e&&e.match(/[A-Z]/)&&e===e.toUpperCase()&&(s.debug("Warning: term key is in uppercase form: "+e),e=e.toLowerCase());var o;n?o=this.opt["default-locale"][0]:o=this.opt.lang;var l=s.Engine.getField(s.LOOSE,this.locale[o].terms,e,t,i,r);return!l&&e==="range-delimiter"&&(l="\u2013"),typeof l=="undefined"&&(a===s.STRICT?s.error('Error in getTerm: term "'+e+'" does not exist.'):a===s.TOLERANT&&(l="")),l&&(this.tmp.cite_renders_content=!0),l},s.Engine.prototype.getDate=function(e,t){var i;return t?i=this.opt["default-locale"]:i=this.opt.lang,this.locale[i].dates[e]?this.locale[i].dates[e]:!1},s.Engine.prototype.getOpt=function(e){return typeof this.locale[this.opt.lang].opts[e]!="undefined"?this.locale[this.opt.lang].opts[e]:!1},s.Engine.prototype.getVariable=function(e,t,i,r){return s.Engine.getField(s.LOOSE,e,t,i,r)},s.Engine.prototype.getDateNum=function(e,t){return typeof e=="undefined"?0:e[t]},s.Engine.getField=function(e,t,i,r,a,n){var o,l,m,p,f,h;if(o="",typeof t[i]=="undefined")if(e===s.STRICT)s.error('Error in getField: term "'+i+'" does not exist.');else return;for(n&&t[i][n]?h=t[i][n]:h=t[i],l=[],r==="symbol"?l=["symbol","short"]:r==="verb-short"?l=["verb-short","verb"]:r!=="long"&&(l=[r]),l=l.concat(["long"]),f=l.length,p=0;p<f;p+=1)if(m=l[p],typeof h=="string"||typeof h=="number")o=h;else if(typeof h[m]!="undefined"){typeof h[m]=="string"||typeof h[m]=="number"?o=h[m]:typeof a=="number"?o=h[m][a]:o=h[m][0];break}return o},s.Engine.prototype.configureTokenLists=function(){var e,t,i;for(i=s.AREAS.length,t=0;t<i;t+=1){e=s.AREAS[t];var r=this[e].tokens;this.configureTokenList(r)}return this.version=s.version,this.state},s.Engine.prototype.configureTokenList=function(e){var t,i,r,a,n,o,l,m;for(t=["year","month","day"],l=e.length-1,n=l;n>-1;n+=-1){if(i=e[n],i.name==="date"&&s.END===i.tokentype&&(r=[]),i.name==="date-part"&&i.strings.name)for(m=t.length,o=0;o<m;o+=1)a=t[o],a===i.strings.name&&r.push(i.strings.name);i.name==="date"&&s.START===i.tokentype&&(r.reverse(),i.dateparts=r),i.next=n+1,i.name&&s.Node[i.name].configure&&s.Node[i.name].configure.call(i,this,n)}},s.Engine.prototype.refetchItems=function(e){for(var t=[],i=0,r=e.length;i<r;i+=1)t.push(this.refetchItem(""+e[i]));return t},s.ITERATION=0,s.Engine.prototype.retrieveItem=function(e){var t,i,r;if(!this.tmp.loadedItemIDs[e])this.tmp.loadedItemIDs[e]=!0;else return this.registry.refhash[e];if(this.opt.development_extensions.normalize_lang_keys_to_lowercase&&typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase=="boolean"){for(var r=0,a=this.opt["default-locale"].length;r<a;r+=1)this.opt["default-locale"][r]=this.opt["default-locale"][r].toLowerCase();for(var r=0,a=this.opt["locale-translit"].length;r<a;r+=1)this.opt["locale-translit"][r]=this.opt["locale-translit"][r].toLowerCase();for(var r=0,a=this.opt["locale-translat"].length;r<a;r+=1)this.opt["locale-translat"][r]=this.opt["locale-translat"][r].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(s.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+e))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var n in t.multi._keys)for(var o in t.multi._keys[n])o!==o.toLowerCase()&&(t.multi._keys[n][o.toLowerCase()]=t.multi._keys[n][o],delete t.multi._keys[n][o]);if(t.multi.main)for(var n in t.multi.main)t.multi.main[n]=t.multi.main[n].toLowerCase()}for(var r=0,a=s.NAME_VARIABLES.length;r>a;r+=1){var l=s.NAME_VARIABLES[r];if(t[l]&&t[l].multi)for(var m=0,p=t[l].length;m<p;m+=1){var f=t[l][m];if(f.multi){if(f.multi._key)for(var o in f.multi._key)o!==o.toLowerCase()&&(f.multi._key[o.toLowerCase()]=f.multi._key[o],delete f.multi._key[o]);f.multi.main&&(f.multi.main=f.multi.main.toLowerCase())}}}}if(t.language&&t.language.match(/[><]/)){var i=t.language.match(/(.*?)([<>])(.*)/);i[2]==="<"?(t["language-name"]=i[1],t["language-name-original"]=i[3]):(t["language-name"]=i[3],t["language-name-original"]=i[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"])}if(t.page){t["page-first"]=t.page;var h=""+t.page,i=h.split(/\s*(?:&|, |-|\u2013)\s*/);i[0].slice(-1)!=="\\"&&(t["page-first"]=i[0])}this.opt.development_extensions.field_hack&&t.note&&s.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var o in t)if(s.DATE_VARIABLES.indexOf(o.replace(/^alt-/,""))>-1){var u=t[o];u&&(this.opt.development_extensions.raw_date_parsing&&u.raw&&(!u["date-parts"]||u["date-parts"].length===0)&&(u=this.fun.dateparser.parseDateToObject(u.raw)),t[o]=this.dateParseArray(u))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){for(var d,v=["type","title","jurisdiction","genre","volume","container-title"],c=[],r=0,a=v.length;r<a;r+=1)d=v[r],t[d]&&c.push(t[d]);v=["original-date","issued"];for(var r=0,a=v.length;r<a;r+=1)if(d=v[r],t[d]&&t[d].year){var S=t[d].year;c.push(S);break}t.legislation_id=c.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){for(var d,v=["type","container-title","publisher","edition"],g=[],r=0,a=v.length;r<a;r+=1)d=v[r],t[d]&&g.push(t[d]);t.container_id=g.join("::")}if(this.opt.development_extensions.force_jurisdiction&&typeof t.authority=="string"&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority)){t.authority[0].multi._key={};for(var o in t.multi._keys.authority)t.authority[0].multi._key[o]={literal:t.multi._keys.authority[o]}}if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var y=this.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr";s.extractTitleAndSubtitle.call(this,t,y)}var x=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;this.opt.development_extensions.force_jurisdiction&&x&&(t.jurisdiction||(t.jurisdiction="us"));var b;if(!x&&t.title&&this.sys.getAbbreviation){var A=!1;t.jurisdiction||(A=!0),this.sys.normalizeAbbrevsKey?b=this.sys.normalizeAbbrevsKey("title",t.title):b=t.title;var O=this.transform.loadAbbreviation(t.jurisdiction,"title",b,t.language);this.transform.abbrevs[O].title&&this.transform.abbrevs[O].title[b]&&(t["title-short"]=this.transform.abbrevs[O].title[b])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){this.sys.normalizeAbbrevsKey?b=this.sys.normalizeAbbrevsKey(t["container-title"]):b=t["container-title"];var O=this.transform.loadAbbreviation(t.jurisdiction,"container-title",b,t.language);this.transform.abbrevs[O]["container-title"]&&this.transform.abbrevs[O]["container-title"][b]&&(t["container-title-short"]=this.transform.abbrevs[O]["container-title"][b])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[e]){if(JSON.stringify(this.registry.refhash[e])!=JSON.stringify(t)){for(var o in this.registry.refhash[e])delete this.registry.refhash[e][o];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[e],t)}}else this.registry.refhash[e]=t;return this.registry.refhash[e]},s.Engine.prototype.refetchItem=function(e){return this.registry.refhash[e]},s.Engine.prototype.setOpt=function(e,t,i){e.name==="style"||e.name==="cslstyle"?(this.opt.inheritedAttributes[t]=i,this.citation.opt.inheritedAttributes[t]=i,this.bibliography.opt.inheritedAttributes[t]=i):["citation","bibliography"].indexOf(e.name)>-1?this[e.name].opt.inheritedAttributes[t]=i:e.strings[t]=i},s.Engine.prototype.inheritOpt=function(e,t,i,r){if(typeof e.strings[t]!="undefined")return e.strings[t];var a=this[this.tmp.root].opt.inheritedAttributes[i||t];return typeof a!="undefined"?a:r},s.Engine.prototype.remapSectionVariable=function(e){for(var t=0,i=e.length;t<i;t+=1){var r=e[t][0],a=e[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)>-1){if(a.locator){a.locator=a.locator.trim();var n=a.locator.match(s.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);n||(a.label?a.locator=s.STATUTE_SUBDIV_STRINGS_REVERSE[a.label]+" "+a.locator:a.locator="p. "+a.locator)}var o=null;if(r.section){r.section=r.section.trim();var n=r.section.match(s.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);n?o=n[0].trim():(r.section="sec. "+r.section,o="sec.")}if(r.section)if(!a.locator)a.locator=r.section;else{var n=a.locator.match(/^([^ ]*)\s*(.*)/),l=" ";n?(n[1]==="p."&&o!=="p."&&(a.locator=n[2]),["[","(",".",",",";",":","?"].indexOf(a.locator.slice(0,1))>-1&&(l="")):l="",a.locator=r.section+l+a.locator}a.label=""}}},s.Engine.prototype.setNumberLabels=function(e){if(e.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+e.number;t=t.split("\\").join("");var i=t.split(/\s+/)[0],r=s.STATUTE_SUBDIV_STRINGS[i];if(r){var a=t.split(s.STATUTE_SUBDIV_PLAIN_REGEX);if(a.length>1){for(var n=[],o=1,l=a.length;o<l;o+=1)n.push(a[o].replace(/\s*$/,"").replace(/^\s*/,""));t=n.join(" ")}else t=a[0];this.tmp.shadow_numbers.number.label=r,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}},s.substituteOne=function(e){return function(t,i){return i?e.replace("%%STRING%%",i):""}},s.substituteTwo=function(e){return function(t){var i=e.replace("%%PARAM%%",t);return function(r,a){return a?i.replace("%%STRING%%",a):""}}},s.Mode=function(e){var t,i,r,a,n,o;t={},i=s.Output.Formats[e];for(r in i){if(r.slice(0,1)!=="@"){t[r]=i[r];continue}a=!1,n=i[r],o=r.split("/"),typeof n=="string"&&n.indexOf("%%STRING%%")>-1?n.indexOf("%%PARAM%%")>-1?a=s.substituteTwo(n):a=s.substituteOne(n):typeof n=="boolean"&&!n?a=s.Output.Formatters.passthrough:typeof n=="function"?a=n:s.error("Bad "+e+" config entry for "+r+": "+n),o.length===1?t[o[0]]=a:o.length===2&&(t[o[0]]||(t[o[0]]={}),t[o[0]][o[1]]=a)}return t},s.setDecorations=function(e,t){var i,r,a;i=[];for(a in s.FORMAT_KEY_SEQUENCE){var r=s.FORMAT_KEY_SEQUENCE[a];t[r]&&(i.push([r,t[r]]),delete t[r])}return i},s.Doppeler=function(e,t){var i=new RegExp("("+e+")","g"),r=new RegExp(e,"g");this.split=function(a){t&&(a=t(a));var n=a.match(i);if(!n)return{tags:[],strings:[a]};for(var o=a.split(r),l=n.length-1;l>-1;l--){typeof n[l]=="number"&&(n[l]="");var m=n[l];m==="'"&&o[l+1].length>0&&(o[l+1]=n[l]+o[l+1],n[l]="")}return{tags:n,strings:o,origStrings:o.slice()}},this.join=function(a){for(var n=a.strings.slice(-1),o=a.tags.length-1;o>-1;o--)n.push(a.tags[o]),n.push(a.strings[o]);return n.reverse(),n.join("")}},s.Engine.prototype.normalDecorIsOrphan=function(e,t){if(t[1]==="normal"){var i=!1,r;this.tmp.area==="citation"?r=[this.citation.opt.layout_decorations].concat(e.alldecor):r=e.alldecor;for(var a=r.length-1;a>-1;a+=-1)for(var n=r[a].length-1;n>-1;n+=-1)r[a][n][0]===t[0]&&r[a][n][1]!=="normal"&&(i=!0);if(!i)return!0}return!1},s.Engine.prototype.getCitationLabel=function(e){var t="",i=this.getTrigraphParams(),r=i[0],a=this.getTerm("reference","short",0);typeof a=="undefined"&&(a="reference"),a=a.replace(".",""),a=a.slice(0,1).toUpperCase()+a.slice(1);for(var n=0,o=s.NAME_VARIABLES.length;n<o;n+=1){var l=s.NAME_VARIABLES[n];if(e[l]){var m=e[l];m.length>i.length?r=i[i.length-1]:r=i[m.length-1];for(var p=0,f=m.length;p<f&&p!==r.authors.length;p+=1){var h=this.nameOutput.getName(m[p],"locale-translit",!0),u=h.name;u&&u.family?(a=u.family,a=a.replace(/^([ \'\u2019a-z]+\s+)/,"")):u&&u.literal&&(a=u.literal);var d=a.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(d&&(a=a.slice(d[1].length)),a=a.replace(s.ROMANESQUE_NOT_REGEXP,""),!a)break;a=a.slice(0,r.authors[p]),a.length>1?a=a.slice(0,1).toUpperCase()+a.slice(1).toLowerCase():a.length===1&&(a=a.toUpperCase()),t+=a}break}}if(!t&&e.title){for(var v=this.locale[this.opt.lang].opts["skip-words"],c=e.title.split(/\s+/),n=c.length-1;n>-1;n--)v.indexOf(c[n])>-1&&(c=c.slice(0,n).concat(c.slice(n+1)));var S=c.join("");S=S.slice(0,i[0].authors[0]),S.length>1?S=S.slice(0,1).toUpperCase()+S.slice(1).toLowerCase():S.length===1&&(S=S.toUpperCase()),t=S}var g="0000";return e.issued&&e.issued.year&&(g=""+e.issued.year),g=g.slice(r.year*-1),t=t+g,t},s.Engine.prototype.getTrigraphParams=function(){var e=[],t=this.opt.trigraph.split(":");(!this.opt.trigraph||this.opt.trigraph.slice(0,1)!=="A")&&s.error("Bad trigraph definition: "+this.opt.trigraph);for(var i=0,r=t.length;i<r;i+=1){for(var a=t[i],n={authors:[],year:0},o=0,l=a.length;o<l;o+=1)switch(a.slice(o,o+1)){case"A":n.authors.push(1);break;case"a":n.authors[n.authors.length-1]+=1;break;case"0":n.year+=1;break;default:s.error("Invalid character in trigraph definition: "+this.opt.trigraph)}e.push(n)}return e},s.Engine.prototype.setOutputFormat=function(e){this.opt.mode=e,this.fun.decorate=s.Mode(e),this.output[e]||(this.output[e]={},this.output[e].tmp={})},s.Engine.prototype.getSortFunc=function(){return function(e,t){return e=e.split("-"),t=t.split("-"),e.length<t.length?1:e.length>t.length?-1:(e=e.slice(-1)[0],t=t.slice(-1)[0],e.length<t.length?1:e.length>t.length?-1:0)}},s.Engine.prototype.setLangTagsForCslSort=function(e){var t,i;if(e)for(this.opt["locale-sort"]=[],t=0,i=e.length;t<i;t+=1)this.opt["locale-sort"].push(e[t]);this.opt["locale-sort"].sort(this.getSortFunc())},s.Engine.prototype.setLangTagsForCslTransliteration=function(e){var t,i;if(this.opt["locale-translit"]=[],e)for(t=0,i=e.length;t<i;t+=1)this.opt["locale-translit"].push(e[t]);this.opt["locale-translit"].sort(this.getSortFunc())},s.Engine.prototype.setLangTagsForCslTranslation=function(e){var t,i;if(this.opt["locale-translat"]=[],e)for(t=0,i=e.length;t<i;t+=1)this.opt["locale-translat"].push(e[t]);this.opt["locale-translat"].sort(this.getSortFunc())},s.Engine.prototype.setLangPrefsForCites=function(e,t){var i=this.opt["cite-lang-prefs"];t||(t=function(d){return d.toLowerCase()});for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],a=0,n=r.length;a<n;a+=1){var o=t(r[a]),l=r[a].toLowerCase();if(e[o]){for(var m=[];e[o].length>1;)m.push(e[o].pop());var p={orig:1,translit:2,translat:3};for(m.length===2&&p[m[0]]<p[m[1]]&&m.reverse();m.length;)e[o].push(m.pop());for(var f=i[l];f.length;)f.pop();for(var h=0,u=e[o].length;h<u;h+=1)f.push(e[o][h])}}},s.Engine.prototype.setLangPrefsForCiteAffixes=function(e){if(e&&e.length===48){for(var t=this.opt.citeAffixes,i=0,r=["persons","institutions","titles","journals","publishers","places"],a=["translit","orig","translit","translat"],n,o=0,l=r.length;o<l;o+=1)for(var m=0,p=a.length;m<p;m+=1)n="",i%8===4?!t[r[o]]["locale-"+a[m]].prefix&&!t[r[o]]["locale-"+a[m]].suffix&&(n=e[i]?e[i]:"",t[r[o]]["locale-"+a[m]].prefix=n,n=e[i]?e[i+1]:"",t[r[o]]["locale-"+a[m]].suffix=n):(n=e[i]?e[i]:"",t[r[o]]["locale-"+a[m]].prefix=n,n=e[i]?e[i+1]:"",t[r[o]]["locale-"+a[m]].suffix=n),i+=2;this.opt.citeAffixes=t}},s.Engine.prototype.setAutoVietnameseNamesOption=function(e){e?this.opt["auto-vietnamese-names"]=!0:this.opt["auto-vietnamese-names"]=!1},s.Engine.prototype.setAbbreviations=function(e){this.sys.setAbbreviations&&this.sys.setAbbreviations(e)},s.Engine.prototype.setSuppressTrailingPunctuation=function(e){this.citation.opt.suppressTrailingPunctuation=!!e},s.Output={},s.Output.Queue=function(e){this.levelname=["top"],this.state=e,this.queue=[],this.empty=new s.Token("empty");var t={};t.empty=this.empty,this.formats=new s.Stack(t),this.current=new s.Stack(this.queue)},s.Output.Queue.prototype.pop=function(){var e=this.current.value();return e.length?e.pop():e.blobs.pop()},s.Output.Queue.prototype.getToken=function(e){var t=this.formats.value()[e];return t},s.Output.Queue.prototype.mergeTokenStrings=function(e,t){var i,r,a,n;if(i=this.formats.value()[e],r=this.formats.value()[t],a=i,r){i||(i=new s.Token(e,s.SINGLETON),i.decorations=[]),a=new s.Token(e,s.SINGLETON);var n="";for(var n in i.strings)i.strings.hasOwnProperty(n)&&(a.strings[n]=i.strings[n]);for(var n in r.strings)r.strings.hasOwnProperty(n)&&(a.strings[n]=r.strings[n]);a.decorations=i.decorations.concat(r.decorations)}return a},s.Output.Queue.prototype.addToken=function(e,t,i){var r,a;if(r=new s.Token("output"),typeof i=="string"&&(i=this.formats.value()[i]),i&&i.strings){for(a in i.strings)i.strings.hasOwnProperty(a)&&(r.strings[a]=i.strings[a]);r.decorations=i.decorations}typeof t=="string"&&(r.strings.delimiter=t),this.formats.value()[e]=r},s.Output.Queue.prototype.pushFormats=function(e){e||(e={}),e.empty=this.empty,this.formats.push(e)},s.Output.Queue.prototype.popFormats=function(){this.formats.pop()},s.Output.Queue.prototype.startTag=function(e,t){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,e="empty"),i[e]=t,this.pushFormats(i),this.openLevel(e)},s.Output.Queue.prototype.endTag=function(e){this.closeLevel(e),this.popFormats()},s.Output.Queue.prototype.openLevel=function(e){var t,i;typeof e=="object"?t=new s.Blob(void 0,e):typeof e=="undefined"?t=new s.Blob(void 0,this.formats.value().empty,"empty"):((!this.formats.value()||!this.formats.value()[e])&&s.error('CSL processor error: call to nonexistent format token "'+e+'"'),t=new s.Blob(void 0,this.formats.value()[e],e)),i=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),i.push(t),this.current.push(t)},s.Output.Queue.prototype.closeLevel=function(e){e&&e!==this.current.value().levelname&&s.error("Level mismatch error:  wanted "+e+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))},s.Output.Queue.prototype.append=function(e,t,i,r,a){var n,o,l,m=!0;if(i&&(r=!0),this.state.tmp["doing-macro-with-date"]&&!i){if(t!=="macro-with-date")return!1;t==="macro-with-date"&&(t="empty")}if(typeof e=="undefined"||(typeof e=="number"&&(e=""+e),!i&&this.state.tmp.element_trace&&this.state.tmp.element_trace.value()==="suppress-me"))return!1;if(o=!1,t?t==="literal"?(n=!0,m=!1):typeof t=="string"?n=this.formats.value()[t]:n=t:n=this.formats.value().empty,n||s.error("CSL processor error: unknown format token name: "+t),n.strings&&typeof n.strings.delimiter=="undefined"&&(n.strings.delimiter=""),typeof e=="string"&&e.length&&(e=e.replace(/ ([:;?!\u00bb])/g,"\u202F$1").replace(/\u00ab /g,"\xAB\u202F"),this.last_char_rendered=e.slice(-1),e=e.replace(/\s+'/g," '"),i||(e=e.replace(/^'/g," '")),r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),o=new s.Blob(e,n),l=this.current.value(),typeof l=="undefined"&&this.current.mystack.length===0&&(this.current.mystack.push([]),l=this.current.value()),typeof o.blobs=="string"&&(r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),typeof e=="string"){if(typeof o.blobs=="string"&&o.blobs.slice(0,1)!==" "){for(var p="",f=o.blobs;s.TERMINAL_PUNCTUATION.indexOf(f.slice(0,1))>-1;)p=p+f.slice(0,1),f=f.slice(1);f&&p&&(o.strings.prefix=o.strings.prefix+p,o.blobs=f)}o.strings["text-case"]&&(o.blobs=s.Output.Formatters[o.strings["text-case"]](this.state,e)),this.state.tmp.strip_periods&&!a&&(o.blobs=o.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var h=o.decorations.length-1;h>-1;h+=-1)o.decorations[h][0]==="@quotes"&&o.decorations[h][1]!=="false"&&(o.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),o.blobs.match(s.ROMANESQUE_REGEXP)||o.decorations[h][0]==="@font-style"&&(o.decorations=o.decorations.slice(0,h).concat(o.decorations.slice(h+1)));l.push(o),this.state.fun.flipflopper.processTags(o)}else m?l.push(o):l.push(e);return!0},s.Output.Queue.prototype.string=function(e,t,i){var r,a,n,o,l,m=s.getSafeEscape(this.state),p=t.slice(),f=[];if(p.length===0)return f;var h="";i?h=i.strings.delimiter:(e.tmp.count_offset_characters=!1,e.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=e.opt.lang,e.opt.lang=i.new_locale);for(var u,d,v,c,r=0,a=p.length;r<a;r+=1){if(u=p[r],u.strings.first_blob&&(e.tmp.count_offset_characters=u.strings.first_blob),typeof u.blobs=="string"){if(typeof u.num=="number")f.push(u);else if(u.blobs){u.particle&&(u.blobs=u.particle+u.blobs,u.particle=""),l=m(u.blobs);var S=l.length;if(!e.tmp.suppress_decorations)for(n=0,o=u.decorations.length;n<o;n+=1)c=u.decorations[n],c[0]!=="@showid"&&(e.normalDecorIsOrphan(u,c)||(l=e.fun.decorate[c[0]][c[1]].call(u,e,l,c[2])));if(l&&l.length){if(l=m(u.strings.prefix)+l+m(u.strings.suffix),e.opt.development_extensions.csl_reverse_lookup_support&&!e.tmp.suppress_decorations)for(n=0,o=u.decorations.length;n<o;n+=1)c=u.decorations[n],c[0]==="@showid"&&(l=e.fun.decorate[c[0]][c[1]].call(u,e,l,c[2]));f.push(l),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=S+u.strings.suffix.length+u.strings.prefix.length)}}}else if(u.blobs.length){var g=e.output.string(e,u.blobs,u);if(i&&g!=="string"&&g.length>1&&u.strings.delimiter)for(var y=!1,n=0,o=g.length;n<o;n++)typeof g[n]!="string"?y=!0:y&&(g[n]=u.strings.delimiter+g[n]);f=f.concat(g)}u.strings.first_blob&&e.registry.registry[u.strings.first_blob]&&(e.registry.registry[u.strings.first_blob].offset=e.tmp.offset_characters,e.tmp.count_offset_characters=!1)}for(r=0,a=f.length-1;r<a;r+=1)typeof f[r].num=="number"&&typeof f[r+1].num=="number"&&!f[r+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[r].strings.suffix=f[r].strings.suffix+(h||""),f[r+1].successor_prefix="",f[r+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);for(var x=0,r=0,a=f.length;r<a;r+=1)typeof f[r]=="string"&&(x=parseInt(r,10)+1,r<f.length-1&&typeof f[r+1]=="object"&&(h&&!f[r+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[r]+=m(h)),f[r+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))x=f.length;else if(i&&i.strings.prefix){for(var r=0,a=f.length;r<a;r++)if(typeof f[r].num!="undefined"){x=r,r===0&&(f[r].strings.prefix=i.strings.prefix+f[r].strings.prefix);break}}var b=e.output.renderBlobs(f.slice(0,x),h,!1,i);if(b&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!e.tmp.suppress_decorations)for(var r=0,a=i.decorations.length;r<a;r+=1)c=i.decorations[r],!(["@cite","@bibliography","@display","@showid"].indexOf(c[0])>-1)&&(e.normalDecorIsOrphan(u,c)||c[0]&&typeof b=="string"&&(b=e.fun.decorate[c[0]][c[1]].call(i,e,b,c[2])));if(l=b,d=i.strings.suffix,l&&l.length&&(v=i.strings.prefix,l=m(v)+l+m(d),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=v.length+d.length)),b=l,!e.tmp.suppress_decorations)for(var r=0,a=i.decorations.length;r<a;r+=1)c=i.decorations[r],["@cite","@bibliography","@display","@showid"].indexOf(c[0])!==-1&&typeof b=="string"&&(b=e.fun.decorate[c[0]][c[1]].call(i,e,b,c[2]))}var A=f.slice(x,f.length);return!A.length&&b?f=[b]:A.length&&!b?f=A:b&&A.length&&(f=[b].concat(A)),typeof i=="undefined"?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),e.tmp.suppress_decorations&&(f=e.output.renderBlobs(f,void 0,!1))):typeof i=="boolean"&&(f=e.output.renderBlobs(f,void 0,!0)),i&&i.new_locale&&(e.opt.lang=i.old_locale),f},s.Output.Queue.prototype.clearlevel=function(){var e,t,i;for(e=this.current.value(),i=e.blobs.length,t=0;t<i;t+=1)e.blobs.pop()},s.Output.Queue.prototype.renderBlobs=function(e,t,i,r){var a,n,o,l,m,p,f,h,u,d,v,c;if(c=s.getSafeEscape(this.state),t||(t=""),a=this.state,n="",o=[],l="",f=e.length,this.state.tmp.area==="citation"&&!this.state.tmp.just_looking&&f===1&&typeof e[0]=="object"&&r)return e[0].strings.prefix=r.strings.prefix+e[0].strings.prefix,e[0].strings.suffix=e[0].strings.suffix+r.strings.suffix,e[0].decorations=e[0].decorations.concat(r.decorations),e[0].params=r.params,e[0];var S=!0;for(p=0;p<f;p+=1)e[p].checkNext?(e[p].checkNext(e[p+1],S),S=!1):e[p+1]&&e[p+1].splice_prefix?S=!1:S=!0;var g=!0;for(p=e.length-1;p>0;p+=-1)e[p].checkLast?g&&e[p].checkLast(e[p-1])&&(g=!1):g=!0;for(f=e.length,p=0;p<f;p+=1)if(m=e[p],n&&(l=t),typeof m=="string")n+=c(l),n+=m,a.tmp.count_offset_characters&&(a.tmp.offset_characters+=l.length);else if(i)n?n=[n,m]:n=[m];else if(m.status!==s.SUPPRESS){m.particle?d=m.particle+m.num:d=m.formatter.format(m.num,m.gender);var y=d.replace(/<[^>]*>/g,"").length;this.append(d,"empty",!0);var x=this.pop(),b=a.tmp.count_offset_characters;if(d=this.string(a,[x],!1),a.tmp.count_offset_characters=b,m.strings["text-case"]&&(d=s.Output.Formatters[m.strings["text-case"]](this.state,d)),d&&this.state.tmp.strip_periods&&(d=d.replace(/\.([^a-z]|$)/g,"$1")),!a.tmp.suppress_decorations)for(u=m.decorations.length,h=0;h<u;h+=1)v=m.decorations[h],!a.normalDecorIsOrphan(m,v)&&(d=a.fun.decorate[v[0]][v[1]].call(m,a,d,v[2]));d=c(m.strings.prefix)+d+c(m.strings.suffix);var A="";m.status===s.END?A=c(m.range_prefix):m.status===s.SUCCESSOR?A=c(m.successor_prefix):m.status===s.START?p>0&&!m.suppress_splice_prefix?A=c(m.splice_prefix):A="":m.status===s.SEEN&&(A=c(m.splice_prefix)),n+=A,n+=d,a.tmp.count_offset_characters&&(a.tmp.offset_characters+=A.length+m.strings.prefix.length+y+m.strings.suffix.length)}return n},s.Output.Queue.purgeEmptyBlobs=function(e){if(!(typeof e!="object"||typeof e.blobs!="object"||!e.blobs.length))for(var t=e.blobs.length-1;t>-1;t--){s.Output.Queue.purgeEmptyBlobs(e.blobs[t]);var i=e.blobs[t];if(!i||!i.blobs||!i.blobs.length){for(var r=[];e.blobs.length-1>t;)r.push(e.blobs.pop());for(e.blobs.pop();r.length;)e.blobs.push(r.pop())}}},s.Output.Queue.adjust=function(e){var t={";":!0,":":!0},i={".":!0,"!":!0,"?":!0},r={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},a={},n={},o={},l={};for(var m in r)o[m]=!0,l[m]=!0,t[m]||(a[m]=!0),i[m]||(n[m]=!0);l[" "]=!0,l["\xA0"]=!0;var p={};for(var m in r)for(var f in r[m])p[f]||(p[f]={}),p[f][m]=r[m][f];function h(T){return typeof T.num=="number"||T.blobs&&T.blobs.length===1&&typeof T.blobs[0].num=="number"}function u(T){if(typeof T.num=="number")return!0;if(!T.blobs||typeof T.blobs!="object")return!1;if(u(T.blobs[T.blobs.length-1]))return!0}function d(T,k){var N=!1,_=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(k&&_.push("@quotes"),T.decorations){for(var w=0,D=T.decorations.length;w<D;w++)if(_.indexOf(T.decorations[w][0])>-1){N=!0;break}}return N}function v(T){if(T.decorations){for(var k=0,N=T.decorations.length;k<N;k++)if(T.decorations[k][0]==="@quotes"&&T.decorations[k][1]!=="false")return!0}return typeof T.blobs!="object"?!1:v(T.blobs[T.blobs.length-1])}function c(T,k){var N=k.strings.suffix.slice(-1);!N&&typeof k.blobs=="string"&&(N=k.blobs.slice(-1));var _=p[T][N];return _&&_.length===1?!0:typeof k.blobs!="object"?!1:!!c(T,k.blobs[k.blobs.length-1])}function S(T,k){if(!o[k])return!1;if(typeof T.blobs=="string")return T.blobs.slice(-1)===k;var N=T.blobs[T.blobs.length-1];if(N){var _=N.strings.suffix.slice(-1);return _?N.strings.suffix.slice(-1)==k:S(N,k)}else return!1}function g(T,k,N,_,w){var D=k==="blobs"?T:T.strings,E=_==="blobs"?N:N.strings,C=D[k].slice(-1),U=E[_].slice(0,1);function q(){E[_]=E[_].slice(1)}function z(){D[k]=D[k].slice(0,-1)}function j($){E[_]=$+E[_]}function M($){D[k]+=$}var R=w?z:q;function L(){return p[U]}function P(){return r[C]}var X=w?P:L;function B(){var $=r[C][U];typeof $=="string"?(z(),q(),j($)):(j(C),z())}function F(){var $=p[U][C];typeof $=="string"?(z(),q(),M($)):(M(U),q())}var G=w?B:F,V=C===U;V?R():X()&&G()}function y(T){if(T.blobs&&typeof T.blobs=="string"){o[T.strings.suffix.slice(0,1)]&&T.strings.suffix.slice(0,1)===T.blobs.slice(-1)&&(T.strings.suffix=T.strings.suffix.slice(1));return}else if(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)return;for(var k=d(T,!0),N=T.blobs.length-1;N>-1;N--){this.upward(T.blobs[N]);var _=T.strings,w=T.blobs[N].strings;if(N===0){_.prefix.slice(-1)===" "&&w.prefix.slice(0,1)===" "&&(w.prefix=w.prefix.slice(1));var D=w.prefix.slice(0,1);!k&&l[D]&&!_.prefix&&(_.prefix+=D,w.prefix=w.prefix.slice(1))}if(N===T.blobs.length-1){var D=w.suffix.slice(-1);!k&&[" "].indexOf(D)>-1&&(_.suffix.slice(0,1)!==D&&(_.suffix=D+_.suffix),w.suffix=w.suffix.slice(0,-1))}_.delimiter&&N>0&&l[_.delimiter.slice(-1)]&&_.delimiter.slice(-1)===w.prefix.slice(0,1)&&(w.prefix=w.prefix.slice(1))}}function x(T){if(!(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)){for(var k=T.blobs.length-1;k>-1;k--)if(this.leftward(T.blobs[k]),k<T.blobs.length-1&&!T.strings.delimiter){var N=T.blobs[k],_=N.strings.suffix.slice(-1),w=T.blobs[k+1],D=w.strings.prefix.slice(0,1),E=d(N)||d(w),C=typeof _=="number"||typeof D=="number";if(!E&&!C&&o[D]&&!C){var U=D===N.strings.suffix.slice(-1),q=!N.strings.suffix&&typeof N.blobs=="string"&&N.blobs.slice(-1)===D;!U&&!q?g(N,"suffix",w,"prefix"):w.strings.prefix=w.strings.prefix.slice(1)}}}}function b(T){if(T.blobs&&typeof T.blobs=="string"){o[T.strings.suffix.slice(0,1)]&&T.strings.suffix.slice(0,1)===T.blobs.slice(-1)&&(T.strings.suffix=T.strings.suffix.slice(1));return}else if(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)return;for(var k=T.strings,N=!1,_=0,w=T.blobs.length;_<w;_++)if(h(T.blobs[_])){N=!0;break}if(k.delimiter&&o[k.delimiter.slice(0,1)]){for(var D=k.delimiter.slice(0,1),_=T.blobs.length-2;_>-1;_--){var E=T.blobs[_].strings;E.suffix.slice(-1)!==D&&(E.suffix+=D)}k.delimiter=k.delimiter.slice(1)}for(var _=T.blobs.length-1;_>-1;_--){var C=T.blobs[_],E=T.blobs[_].strings,U=d(C,!0),q=h(C);if(_===T.blobs.length-1){var z=k.suffix.slice(0,1),j=!1;o[z]&&(j=c(z,C),!j&&e&&(j=v(C))),j&&o[z]&&(u(C)||(typeof C.blobs=="string"?g(C,"blobs",T,"suffix"):g(C,"suffix",T,"suffix"),k.suffix.slice(0,1)==="."&&(E.suffix+=k.suffix.slice(0,1),k.suffix=k.suffix.slice(1)))),E.suffix.slice(-1)==="\xA0"&&k.suffix.slice(0,1)===" "&&(k.suffix=k.suffix.slice(1)),l[E.suffix.slice(0,1)]&&(typeof C.blobs=="string"&&C.blobs.slice(-1)===E.suffix.slice(0,1)&&(E.suffix=E.suffix.slice(1)),E.suffix.slice(-1)===k.suffix.slice(0,1)&&(k.suffix=k.suffix.slice(0,-1))),S(T,T.strings.suffix.slice(0,1))&&(T.strings.suffix=T.strings.suffix.slice(1))}else if(k.delimiter)l[k.delimiter.slice(0,1)]&&k.delimiter.slice(0,1)===E.suffix.slice(-1)&&(T.blobs[_].strings.suffix=T.blobs[_].strings.suffix.slice(0,-1));else{var M=T.blobs[_+1].strings;!h(C)&&!U&&l[E.suffix.slice(-1)]&&E.suffix.slice(-1)===M.prefix.slice(0,1)&&(M.prefix=M.prefix.slice(1))}!q&&!U&&o[E.suffix.slice(0,1)]&&typeof C.blobs=="string"&&g(C,"blobs",C,"suffix"),this.downward(T.blobs[_])}}function A(T){var k=T.strings.suffix.slice(0,1);if(typeof T.blobs=="string")for(;a[k];)g(T,"blobs",T,"suffix"),k=T.strings.suffix.slice(0,1);else for(;a[k];)g(T.blobs[T.blobs.length-1],"suffix",T,"suffix"),k=T.strings.suffix.slice(0,1)}function O(T){if(typeof T.blobs=="string")for(var k=T.blobs.slice(-1);n[k];)g(T,"blobs",T,"suffix",!0),k=T.blobs.slice(-1);else for(var k=T.blobs[T.blobs.length-1].strings.suffix.slice(-1);n[k];)g(T.blobs[T.blobs.length-1],"suffix",T,"suffix",!0),k=T.blobs[T.blobs.length-1].strings.suffix.slice(-1)}function I(T){if(!(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)){for(var k,N=0,_=T.blobs.length;N<_;N++){for(var w=T.blobs[N],D=!1,E=0,C=w.decorations.length;E<C;E++){var U=w.decorations[E];U[0]==="@quotes"&&U[1]!=="false"&&(D=!0)}D&&(e?A(w):O(w)),k=this.fix(T.blobs[N]),w.blobs&&typeof w.blobs=="string"&&(k=w.blobs.slice(-1))}return k}}this.upward=y,this.leftward=x,this.downward=b,this.fix=I},s.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=s.NONE,this.bib_mode=s.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},s.Engine.Tmp=function(){this.names_max=new s.Stack,this.names_base=new s.Stack,this.givens_base=new s.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new s.Stack(0,s.LITERAL),this.element_rendered_ok=!1,this.element_trace=new s.Stack("style"),this.nameset_counter=0,this.group_context=new s.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new s.Stack(0,s.LITERAL),this.decorations=new s.Stack,this.tokenstore_stack=new s.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new s.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new s.AmbigConfig,this.bib_sort_keys=[],this.prefix=new s.Stack("",s.LITERAL),this.suffix=new s.Stack("",s.LITERAL),this.delimiter=new s.Stack("",s.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},s.Engine.Fun=function(e){this.match=new s.Util.Match,this.suffixator=new s.Util.Suffixator(s.SUFFIX_CHARS),this.romanizer=new s.Util.Romanizer,this.ordinalizer=new s.Util.Ordinalizer(e),this.long_ordinalizer=new s.Util.LongOrdinalizer},s.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new s.Stack(0,s.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},s.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},s.Engine.Citation=function(e){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new s.Registry.Comparifier(e,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},s.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},s.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=s.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},s.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},s.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},s.Engine.prototype.previewCitationCluster=function(e,t,i,r){var a=this.opt.mode;this.setOutputFormat(r),e.citationID&&delete e.citationID;var n=this.processCitationCluster(e,t,i,s.PREVIEW);return this.setOutputFormat(a),n[1]},s.Engine.prototype.appendCitationCluster=function(e){for(var t=[],i=this.registry.citationreg.citationByIndex.length,r=0;r<i;r+=1){var a=this.registry.citationreg.citationByIndex[r];t.push([""+a.citationID,a.properties.noteIndex])}return this.processCitationCluster(e,t,[])[1]},s.Engine.prototype.processCitationCluster=function(e,t,i,r){var a,n,o,l,m,p,f,h,u,d,v,c,S,g,y,x,b,A;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(e);var O,I,T;if(r===s.PREVIEW){this.debug&&s.debug("****** start state save *********"),O=this.registry.citationreg.citationByIndex.slice(),I=this.registry.reflist.slice();for(var k=t.concat(i),N={},_=[],l=0,m=k.length;l<m;l+=1)for(a=this.registry.citationreg.citationById[k[l][0]],p=0,f=a.citationItems.length;p<f;p+=1)N[a.citationItems[p].id]=!0,_.push(""+a.citationItems[p].id);for(p=0,f=e.citationItems.length;p<f;p+=1)N[e.citationItems[p].id]=!0,_.push(""+e.citationItems[p].id);T={};for(var l=0,m=I.length;l<m;l+=1)if(!N[I[l].id]){var w=this.registry.registry[I[l].id].ambig,D=this.registry.ambigcites[w];if(D)for(p=0,f=D.length;p<f;p+=1)T[D[p]]=s.cloneAmbigConfig(this.registry.registry[D[p]].disambig)}this.debug&&s.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};for(var E=[],C={},l=0,m=e.citationItems.length;l<m;l+=1){g={};for(var c in e.citationItems[l])g[c]=e.citationItems[l][c];if(S=this.retrieveItem(""+g.id),S.id&&this.transform.loadAbbreviation("default","hereinafter",S.id,S.language),g=s.parseLocator.call(this,g),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[S,g]]),this.opt.development_extensions.locator_label_parse&&g.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(S.type)===-1&&(!g.label||g.label==="page")){var b=s.LOCATOR_LABELS_REGEXP.exec(g.locator);if(b){var U=s.LOCATOR_LABELS_MAP[b[2]];this.getTerm(U)&&(g.label=U,g.locator=b[3])}}var q=[S,g];E.push(q),e.citationItems[l].item=S}e.sortedItems=E;var z=[],j={},M;for(l=0,m=t.length;l<m;l+=1)n=t[l],this.opt.development_extensions.strict_inputs&&(j[n[0]]&&s.error("Previously referenced citationID "+n[0]+" encountered in citationsPre"),n[1]&&(M>n[1]&&s.debug("Note index sequence is not sane at citationsPre["+l+"]"),M=n[1])),this.registry.citationreg.citationById[n[0]].properties.noteIndex=n[1],z.push(this.registry.citationreg.citationById[n[0]]),j[n[0]]=this.registry.citationreg.citationById[n[0]];for(e.properties||(e.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(j[e.citationID]&&s.error("Citation with previously referenced citationID "+e.citationID),e.properties.noteIndex&&(M>e.properties.noteIndex&&s.debug("Note index sequence is not sane for citation "+e.citationID),M=e.properties.noteIndex)),z.push(e),j[e.citationID]=e,l=0,m=i.length;l<m;l+=1)o=i[l],this.opt.development_extensions.strict_inputs&&(j[o[0]]&&s.error("Previously referenced citationID "+o[0]+" encountered in citationsPost"),o[1]&&(M>o[1]&&s.debug("Note index sequence is not sane at postCitation["+l+"]"),M=o[1])),this.registry.citationreg.citationById[o[0]].properties.noteIndex=o[1],z.push(this.registry.citationreg.citationById[o[0]]),j[o[0]]=this.registry.citationreg.citationById[o[0]];this.registry.citationreg.citationByIndex=z,this.registry.citationreg.citationById=j,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===s.POSITION&&(x=[],y=[],A={});for(var R=[],l=0,m=z.length;l<m;l+=1){for(z[l].properties.index=l,p=0,f=z[l].sortedItems.length;p<f;p+=1)g=z[l].sortedItems[p],this.registry.citationreg.citationsByItemId[g[1].id]||(this.registry.citationreg.citationsByItemId[g[1].id]=[],R.push(""+g[1].id)),this.registry.citationreg.citationsByItemId[g[1].id].indexOf(z[l])===-1&&this.registry.citationreg.citationsByItemId[g[1].id].push(z[l]);this.opt.update_mode===s.POSITION&&(z[l].properties.noteIndex?y.push(z[l]):(z[l].properties.noteIndex=0,x.push(z[l])))}if(r!==s.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&s.debug("****** start update items *********"),this.updateItems(R,null,null,!0),this.debug&&s.debug("****** endo update items *********")),!this.opt.citation_number_sort&&E&&E.length>1&&this.citation_sort.tokens.length>0){for(var l=0,m=E.length;l<m;l+=1)E[l][1].sortkeys=s.getSortKeys.call(this,E[l][0],"citation_sort");if(this.opt.grouped_sort&&!e.properties.unsorted){for(var l=0,m=E.length;l<m;l+=1){var L=E[l][1].sortkeys;this.tmp.authorstring_request=!0;var P=this.registry.registry[E[l][0].id].disambig;this.tmp.authorstring_request=!0,s.getAmbiguousCite.call(this,E[l][0],P);var X=this.registry.authorstrings[E[l][0].id];this.tmp.authorstring_request=!1,E[l][1].sortkeys=[X].concat(L)}E.sort(this.citation.srt.compareCompositeKeys);for(var B=!1,F=!1,G=!1,l=0,m=E.length;l<m;l+=1)E[l][1].sortkeys[0]!==B&&(G=E[l][1].sortkeys[0],F=E[l][1].sortkeys[1]),E[l][1].sortkeys[0]=""+F+l,B=G}e.properties.unsorted||E.sort(this.citation.srt.compareCompositeKeys)}this.opt.parallel.enable&&this.parallel.StartCitation(e.sortedItems);var V;if(this.opt.update_mode===s.POSITION)for(var l=0;l<2;l+=1){var $={},Q={},Y={};for(V=[x,y][l],p=0,f=V.length;p<f;p+=1){var W=V[p];for(V[p].properties.noteIndex||(V[p].properties.noteIndex=0),V[p].properties.noteIndex=parseInt(V[p].properties.noteIndex,10),p>0&&W.properties.noteIndex&&V[p-1].properties.noteIndex>W.properties.noteIndex&&(A={},$={},Q={},Y={}),h=0,u=W.sortedItems.length;h<u;h+=1)W.sortedItems[h][1].parallel&&W.sortedItems[h][1].parallel!=="first"||(A[W.properties.noteIndex]?A[W.properties.noteIndex]+=1:A[W.properties.noteIndex]=1);for(h=0,u=V[p].sortedItems.length;h<u;h+=1){g=V[p].sortedItems[h];var H=g[0].id,ee=g[0].legislation_id?g[0].legislation_id:g[0].id,J=g[0].legislation_id?g[0].legislation_id:g[0].container_id?g[0].container_id:g[0].id,te=g[1]["locator-extra"],se=g[1].locator,K=g[1].label,ie,ce;if(h>0)if(W.sortedItems[h-1][0].legislation_id)ie=W.sortedItems[h-1][0].legislation_id;else{ie=W.sortedItems[h-1][1].id,ce=W.sortedItems[h-1][1]["locator-extra"];for(var Z=h-2;Z>-1;Z--)W.sortedItems[Z][1].parallel==="first"&&(ie=W.sortedItems[Z][1].id,ce=W.sortedItems[Z][1]["locator-extra"])}if(r===s.PREVIEW&&W.citationID!=e.citationID){typeof $[g[1].id]=="undefined"&&($[ee]=W.properties.noteIndex),Q[J]=W.properties.noteIndex;continue}var me={};if(me.position=g[1].position,me["first-reference-note-number"]=g[1]["first-reference-note-number"],me["first-container-reference-note-number"]=g[1]["first-container-reference-note-number"],me["near-note"]=g[1]["near-note"],g[1]["first-reference-note-number"]=0,g[1]["first-container-reference-note-number"]=0,g[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[H]&&this.opt.xclass==="note"&&this.opt.has_disambiguate){var pe=this.registry.registry[g[0].id]["citation-count"],Ie=this.registry.citationreg.citationsByItemId[H].length;if(this.registry.registry[g[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[H].length,typeof pe=="number"){var De=pe<2,Ce=Ie<2;if(De!==Ce)for(var Z=0,ve=this.registry.citationreg.citationsByItemId[H].length;Z<ve;Z++)C[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[H][Z].citationID]=!0}else for(var Z=0,ve=this.registry.citationreg.citationsByItemId[H].length;Z<ve;Z++)C[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[H][Z].citationID]=!0}var _e,Ae;if(typeof Q[J]=="undefined"&&W.properties.mode!=="author-only")$[ee]=W.properties.noteIndex,Q[J]=W.properties.noteIndex,Y[J]=W.properties.noteIndex,g[1].position=s.POSITION_FIRST;else{var oe=!1,he=!1,re=null;if(p>0)var re=V[p-1];var ge=V[p];if(p>0){var ye=1;re.properties.mode==="author-only"&&p>1&&(ye=2);var Ne=p-ye;V[Ne].sortedItems.length&&(_e=V[Ne].sortedItems.slice(-1)[0][1].id,Ae=V[p-ye].sortedItems.slice(-1)[0][1]["locator-extra"]),re.sortedItems.length&&re.sortedItems[0].slice(-1)[0].legislation_id&&(_e=re.sortedItems[0].slice(-1)[0].legislation_id)}if(p>0&&h===0&&re.properties.noteIndex!==ge.properties.noteIndex){var Ee=!1,ke=re.sortedItems[0][0].id;if(re.sortedItems[0][0].legislation_id&&(ke=re.sortedItems[0][0].legislation_id),ke==ee&&re.properties.noteIndex>=ge.properties.noteIndex-1){var Le=re.sortedItems[0][1]["locator-extra"],Pe=ge.sortedItems[0][1]["locator-extra"];(A[re.properties.noteIndex]===1||re.properties.noteIndex===0)&&Le===Pe&&(Ee=!0)}Ee?oe=!0:he=!0}else h>0&&ie==ee&&ce==te||h===0&&p>0&&re.properties.noteIndex==ge.properties.noteIndex&&re.sortedItems.length&&_e==ee&&Ae==te?oe=!0:he=!0;var fe,le,xe,ue,Oe;oe&&(h>0?fe=W.sortedItems[h-1][1]:fe=V[p-1].sortedItems[0][1],fe.locator?(fe.label?xe=fe.label:xe="",le=""+fe.locator+xe):le=fe.locator,se?(K?Oe=K:Oe="",ue=""+se+Oe):ue=se),oe&&le&&!ue&&(oe=!1,he=!0),oe&&(!le&&ue?g[1].position=s.POSITION_IBID_WITH_LOCATOR:!le&&!ue||le&&ue===le?g[1].position=s.POSITION_IBID:le&&ue&&ue!==le?g[1].position=s.POSITION_IBID_WITH_LOCATOR:(oe=!1,he=!0)),he&&(g[1].position=s.POSITION_CONTAINER_SUBSEQUENT,typeof $[ee]=="undefined"?$[ee]=W.properties.noteIndex:g[1].position=s.POSITION_SUBSEQUENT),(he||oe)&&(W.properties.mode==="author-only"&&(g[1].position=s.POSITION_FIRST),Y[J]!=W.properties.noteIndex&&(g[1]["first-container-reference-note-number"]=Y[J],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-container-reference-note-number"]=Y[J])),$[ee]!=W.properties.noteIndex&&(g[1]["first-reference-note-number"]=$[ee],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-reference-note-number"]=$[ee])))}if(W.properties.noteIndex){var ze=parseInt(W.properties.noteIndex,10)-parseInt(Q[J],10);g[1].position!==s.POSITION_FIRST&&ze<=this.citation.opt["near-note-distance"]&&(g[1]["near-note"]=!0),Q[J]=W.properties.noteIndex}else g[1].position!==s.POSITION_FIRST&&(g[1]["near-note"]=!0);if(W.citationID!=e.citationID)for(d=0,v=s.POSITION_TEST_VARS.length;d<v;d+=1){var Se=s.POSITION_TEST_VARS[d];g[1][Se]!==me[Se]&&(this.registry.registry[g[0].id]&&Se==="first-reference-note-number"&&(C[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedItemIDs[g[0].id]=!0),this.tmp.taintedCitationIDs[W.citationID]=!0)}this.sys.variableWrapper&&(g[1].index=W.properties.index,g[1].noteIndex=W.properties.noteIndex)}}}if(this.opt.citation_number_sort&&E&&E.length>1&&this.citation_sort.tokens.length>0&&!e.properties.unsorted){for(var l=0,m=E.length;l<m;l+=1)E[l][1].sortkeys=s.getSortKeys.call(this,E[l][0],"citation_sort");E.sort(this.citation.srt.compareCompositeKeys)}for(var c in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(c)&&(V=this.registry.citationreg.citationsByItemId[c],V))for(var l=0,m=V.length;l<m;l+=1)this.tmp.taintedCitationIDs[V[l].citationID]=!0;var de=[];if(r===s.PREVIEW){this.debug&&s.debug("****** start run processor *********");try{de=this.process_CitationCluster.call(this,e.sortedItems,e)}catch(be){s.error("Error running CSL processor for preview: "+be)}this.debug&&(s.debug("****** end run processor *********"),s.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=O,this.registry.citationreg.citationById={};for(var l=0,m=O.length;l<m;l+=1)this.registry.citationreg.citationById[O[l].citationID]=O[l];this.debug&&s.debug("****** start final update *********");for(var we=[],l=0,m=I.length;l<m;l+=1)we.push(""+I[l].id);this.updateItems(we,null,null,!0),this.debug&&s.debug("****** end final update *********");for(var c in T)T.hasOwnProperty(c)&&(this.registry.registry[c].disambig=T[c]);this.debug&&s.debug("****** end state restore *********")}else{for(var Ue in C)this.disambiguate.run(Ue,e);var ne;for(var c in this.tmp.taintedCitationIDs)if(c!=e.citationID){var ae=this.registry.citationreg.citationById[c];if(!ae.properties.unsorted){for(var l=0,m=ae.sortedItems.length;l<m;l+=1)ae.sortedItems[l][1].sortkeys=s.getSortKeys.call(this,ae.sortedItems[l][0],"citation_sort");ae.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=ae.properties.index,this.tmp.citation_note_index=ae.properties.noteIndex,this.tmp.citation_id=""+ae.citationID,ne=[],ne.push(ae.properties.index),ne.push(this.process_CitationCluster.call(this,ae.sortedItems,ae)),ne.push(ae.citationID),de.push(ne)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=e.properties.index,this.tmp.citation_note_index=e.properties.noteIndex,this.tmp.citation_id=""+e.citationID,ne=[],ne.push(t.length),ne.push(this.process_CitationCluster.call(this,E,e)),ne.push(e.citationID),de.push(ne),de.sort(function(be,Re){return be[0]>Re[0]?1:be[0]<Re[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,de]},s.Engine.prototype.process_CitationCluster=function(e,t){var i="";if(t&&t.properties&&t.properties.mode==="composite"){t.properties.mode="author-only";var r=s.getCitationCluster.call(this,e,t);t.properties.mode="suppress-author";var a="";t.properties.infix&&(this.output.append(t.properties.infix),a=this.output.string(this,this.output.queue),typeof a=="object"&&(a=a.join("")));var n=s.getCitationCluster.call(this,e,t);t.properties.mode="composite",r&&a&&s.SWAPPING_PUNCTUATION.concat(["\u2019","'"]).indexOf(a[0])>-1&&(r+=a,a=!1),i=[r,a,n].filter(function(o){return o}).join(" ")}else i=s.getCitationCluster.call(this,e,t);return i},s.Engine.prototype.makeCitationCluster=function(e){var t,i,f,r,a,n,o;for(t=[],a=e.length,r=0;r<a;r+=1){n={};for(var l in e[r])n[l]=e[r][l];if(o=this.retrieveItem(""+n.id),this.opt.development_extensions.locator_label_parse&&n.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(o.type)===-1&&(!n.label||n.label==="page")){var m=s.LOCATOR_LABELS_REGEXP.exec(n.locator);if(m){var p=s.LOCATOR_LABELS_MAP[m[2]];this.getTerm(p)&&(n.label=p,n.locator=m[3])}}n.locator&&(n.locator=(""+n.locator).replace(/\s+$/,"")),i=[o,n],t.push(i)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(a=t.length,r=0;r<a;r+=1)t[r][1].sortkeys=s.getSortKeys.call(this,t[r][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_errors=[];var f=s.getCitationCluster.call(this,t);return f},s.getAmbiguousCite=function(e,t,i,r){var u,a=this.tmp.group_context.tip,n={term_intended:a.term_intended,variable_attempt:a.variable_attempt,variable_success:a.variable_success,output_tip:a.output_tip,label_form:a.label_form,non_parallel:a.non_parallel,parallel_last:a.parallel_last,parallel_first:a.parallel_first,parallel_last_override:a.parallel_last_override,parallel_delimiter_override:a.parallel_delimiter_override,parallel_delimiter_override_on_suppress:a.parallel_delimiter_override_on_suppress,condition:a.condition,force_suppress:a.force_suppress,done_vars:a.done_vars.slice()};t?this.tmp.disambig_request=t:this.tmp.disambig_request=!1;var o={position:s.POSITION_SUBSEQUENT,"near-note":!0};r&&(o.locator=r.locator,o.label=r.label),this.registry.registry[e.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[e.id]&&this.registry.citationreg.citationsByItemId[e.id].length&&i&&this.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(o["first-reference-note-number"]=this.registry.registry[e.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var l=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,s.getCite.call(this,e,o,null,!1);for(var m=0,p=this.output.queue.length;m<p;m+=1)s.Output.Queue.purgeEmptyBlobs(this.output.queue[m]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var f=0,h=this.output.queue.length;f<h;f+=1)this.output.adjust.upward(this.output.queue[f]),this.output.adjust.leftward(this.output.queue[f]),this.output.adjust.downward(this.output.queue[f]),this.output.adjust.fix(this.output.queue[f]);var u=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=l,this.tmp.group_context.replace(n),u},s.getSpliceDelimiter=function(e,t,i){if(this.citation.opt["after-collapse-delimiter"]!==void 0)e?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:!t&&!this.tmp.have_collapsed&&this.citation.opt.collapse!=="year-suffix"?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:this.tmp.splice_delimiter=this.citation.opt.layout_delimiter;else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&this.opt.xclass==="in-text"&&this.opt.update_mode!==s.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var r=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];r&&r.delimiter&&(this.tmp.splice_delimiter=r.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},s.getCitationCluster=function(e,t){var i,r,a,n,o,l,m,p,f,h,u,d,v,c,S,g,y,x,b,A,O,I,T="";this.output.checkNestedBrace=new s.checkNestedBrace(this),t&&(A=t.citationID,O=t.properties.mode==="author-only"?!!t.properties.mode:!1,this.opt.xclass!=="note"&&(I=t.properties.mode==="suppress-author"?!!t.properties.mode:!1),t.properties.prefix&&(T=s.checkPrefixSpaceAppend(this,t.properties.prefix))),e=e||[],this.tmp.last_primary_names_string=!1,x=s.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",r=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var k=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+T),N=!1;if(this.citation.opt.suppressTrailingPunctuation&&(N=!0),A&&this.registry.citationreg.citationById[A].properties["suppress-trailing-punctuation"]&&(N=!0),this.opt.xclass==="note"){for(var _=[],w=!1,D=!1,E=!1,C=[],U=0,q=e.length;U<q;U+=1){var z=e[U][0].type,j=e[U][0].title,M=e[U][1].position,R=e[U][0].id;j&&z==="legal_case"&&R!==E&&M&&((j!==w||_.length===0)&&(C=[],_.push(C)),C.push(e[U][1])),w=j,D=M,E=R}for(U=0,q=_.length;U<q;U+=1)if(C=_[U],!(C.length<2)){var L=C.slice(-1)[0].locator;if(L)for(var P=0,X=C.length-1;P<X;P+=1)C[P].locator&&(L=!1);L&&(C[0].locator=L,delete C.slice(-1)[0].locator,C[0].label=C.slice(-1)[0].label,C.slice(-1)[0].label&&delete C.slice(-1)[0].label)}}for(a=[],n=e.length,e[0]&&e[0][1]&&(O?(delete e[0][1]["suppress-author"],e[0][1]["author-only"]=!0):I&&(delete e[0][1]["author-only"],e[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(e),o=0;o<n;o+=1){this.tmp.cite_index=o,v=e[o][0],l=e[o][1],l=s.parseLocator.call(this,l),m=this.tmp.have_collapsed;var B=!1;if(o>0&&e[o-1][1]&&(B=!!e[o-1][1].locator),p={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var F=this.output;this.output=new s.Output.Queue(this),this.output.adjust=new s.Output.Queue.adjust,s.getAmbiguousCite.call(this,v,null,!1,l),this.output=F}if(this.tmp.in_cite_predecessor=!1,o>0?s.getCite.call(this,v,l,""+e[o-1][0].id,!0):(this.tmp.term_predecessor=!1,s.getCite.call(this,v,l,null,!0)),this.tmp.cite_renders_content||(b={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+v.id,citationItems_pos:o,error_code:s.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(b)),p.splice_delimiter=s.getSpliceDelimiter.call(this,B,m,o),l&&l["author-only"]&&(this.tmp.suppress_decorations=!0),o>0){y=e[o-1][1];var G=y.suffix&&[";",".",","].indexOf(y.suffix.slice(-1))>-1,V=!y.suffix&&l.prefix&&[";",".",","].indexOf(l.prefix.slice(0,1))>-1;if(G||V){var $=p.splice_delimiter.indexOf(" ");$>-1&&!V?p.splice_delimiter=p.splice_delimiter.slice($):p.splice_delimiter=""}}if(p.suppress_decorations=this.tmp.suppress_decorations,p.have_collapsed=this.tmp.have_collapsed,a.push(p),l["author-only"])break}f=0,d=this.output.queue.slice();var Q="";t&&(Q=s.checkSuffixSpacePrepend(this,t.properties.suffix));var Y=this.citation.opt.layout_suffix,W=this.tmp.cite_locales[this.tmp.cite_locales.length-1];W&&this.tmp.cite_affixes[this.tmp.area][W]&&this.tmp.cite_affixes[this.tmp.area][W].suffix&&(Y=this.tmp.cite_affixes[this.tmp.area][W].suffix),s.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(Y.slice(0,1))>-1&&(Y=Y.slice(0,1)),Y=this.output.checkNestedBrace.update(Q+Y);for(var U=0,q=this.output.queue.length;U<q;U+=1)s.Output.Queue.purgeEmptyBlobs(this.output.queue[U]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&this.tmp.area==="citation"||(N||(this.output.queue[this.output.queue.length-1].strings.suffix=Y),this.output.queue[0].strings.prefix=k)),this.opt.development_extensions.clean_up_csl_flaws)for(var P=0,X=this.output.queue.length;P<X;P+=1)this.output.adjust.upward(this.output.queue[P]),this.output.adjust.leftward(this.output.queue[P]),this.output.adjust.downward(this.output.queue[P]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[P]);for(o=0,n=d.length;o<n;o+=1){var H=[];if(this.output.queue=[d[o]],this.tmp.suppress_decorations=a[o].suppress_decorations,this.tmp.splice_delimiter=a[o].splice_delimiter,d[o].parallel_delimiter&&(this.tmp.splice_delimiter=d[o].parallel_delimiter),this.tmp.have_collapsed=a[o].have_collapsed,h=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,typeof h=="string")return this.tmp.suppress_decorations=!1,h||(this.opt.development_extensions.throw_on_empty?s.error("Citation would render no content"):h="[NO_PRINTED_FORM]"),h;if(typeof h=="object"&&h.length===0&&!l["suppress-author"]){if(o===0){var ee="[CSL STYLE ERROR: reference with no printed form.]",J=o===0?x(this.citation.opt.layout_prefix):"",te=o===d.length-1?x(this.citation.opt.layout_suffix):"";h.push(J+ee+te)}else if(o===d.length-1){var se=r[r.length-1];typeof se=="string"?r[r.length-1]+=x(this.citation.opt.layout_suffix):typeof se=="object"&&(se.strings.suffix+=x(this.citation.opt.layout_suffix))}}if(H.length&&typeof h[0]=="string"){h.reverse();var K=h.pop();K&&K.slice(0,1)===","?H.push(K):typeof H.slice(-1)[0]=="string"&&H.slice(-1)[0].slice(-1)===","?H.push(" "+K):K&&H.push(x(this.tmp.splice_delimiter)+K)}else h.reverse(),u=h.pop(),typeof u!="undefined"&&(H.length&&typeof H[H.length-1]=="string"&&(H[H.length-1]+=u.successor_prefix),H.push(u));for(c=h.length,S=0;S<c;S+=1){if(g=h[S],typeof g=="string"){H.push(x(this.tmp.splice_delimiter)+g);continue}u=h.pop(),typeof u!="undefined"&&H.push(u)}H.length===0&&!e[o][1]["suppress-author"]&&(f+=1),H.length>1&&typeof H[0]!="string"&&(H=[this.output.renderBlobs(H)]),H.length&&(typeof H[0]=="string"?o>0&&(H[0]=x(this.tmp.splice_delimiter)+H[0]):o>0?H[0].splice_prefix=this.tmp.splice_delimiter:H[0].splice_prefix=""),r=r.concat(H)}if(i+=this.output.renderBlobs(r),i&&!this.tmp.suppress_decorations)for(n=this.citation.opt.layout_decorations.length,o=0;o<n;o+=1)p=this.citation.opt.layout_decorations[o],p[1]!=="normal"&&(!l||!l["author-only"])&&(i=this.fun.decorate[p[0]][p[1]](this,i));return this.tmp.suppress_decorations=!1,i||(this.opt.development_extensions.throw_on_empty?s.error("Citation would render no content"):i="[NO_PRINTED_FORM]"),i},s.getCite=function(e,t,i,r){var a,n,o=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=i,s.citeStart.call(this,e,t,r),a=0,this.tmp.name_node={},this.nameOutput=new s.NameOutput(this,e,t);a<this[this.tmp.area].tokens.length;)a=s.tokenExec.call(this,this[this.tmp.area].tokens[a],e,t);return s.citeEnd.call(this,e,t),!this.tmp.cite_renders_content&&!this.tmp.just_looking&&this.tmp.area==="bibliography"&&(n={index:this.tmp.bibliography_pos,itemID:""+e.id,error_code:s.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(n)),this.tmp.area=o,""+e.id},s.citeStart=function(e,t,i){if(this.tmp.lang_array=[],e.language){var r=e.language.match(/^([a-zA-Z]+).*/);r&&this.tmp.lang_array.push(r[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="",this.tmp.area==="citation"&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[e.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[e.id].disambig,this.tmp.disambig_settings=this.registry.registry[e.id].disambig):this.tmp.disambig_settings=new s.AmbigConfig,this.tmp.area!=="citation"){if(!this.registry.registry[e.id])this.tmp.disambig_restore=new s.AmbigConfig;else if(this.tmp.disambig_restore=s.cloneAmbigConfig(this.registry.registry[e.id].disambig),this.tmp.area==="bibliography"&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[e.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[e.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[e.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[e.id].disambig.givens.slice();for(var a=0,n=this.tmp.disambig_settings.givens.length;a<n;a+=1)this.tmp.disambig_settings.givens[a]=this.registry.registry[e.id].disambig.givens[a].slice();for(var a=0,n=this.tmp.disambig_request.givens.length;a<n;a+=1)this.tmp.disambig_request.givens[a]=this.registry.registry[e.id].disambig.givens[a].slice()}}this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||(!t||t.parallel==="first"||!t.parallel)&&(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[e.id]&&(this.tmp.disambig_restore=s.cloneAmbigConfig(this.registry.registry[e.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},s.citeEnd=function(e,t){if(this.tmp.disambig_restore&&this.registry.registry[e.id]){this.registry.registry[e.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[e.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,r=this.registry.registry[e.id].disambig.givens.length;i<r;i+=1)this.registry.registry[e.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var a=[],i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)a.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=a.length-1;i>-1;i+=-1)this.tmp.issued_date.list.push(a.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},s.Engine.prototype.makeBibliography=function(e){var t,i,r,a,n,o,l,m,p,f,h,u;if(t=!1,!e&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(e={exclude:[]},this.bibliography.opt.exclude_types)for(var d in this.bibliography.opt.exclude_types){var v=this.bibliography.opt.exclude_types[d];e.exclude.push({field:"type",value:v})}if(this.bibliography.opt.exclude_with_fields)for(var d in this.bibliography.opt.exclude_with_fields){var c=this.bibliography.opt.exclude_with_fields[d];e.exclude.push({field:c,value:!0})}}if(!this.bibliography.tokens.length)return!1;if(typeof e=="string"&&(this.opt.citation_number_slug=e,e=!1),t){for(o=this.bibliography.tokens.length,l=0;l<o;l+=1)m=this.bibliography.tokens[l],s.debug("bibtok: "+m.name);for(s.debug("---"),o=this.citation.tokens.length,l=0;l<o;l+=1)p=this.citation.tokens[l],s.debug("cittok: "+m.name);for(s.debug("---"),o=this.bibliography_sort.tokens.length,l=0;l<o;l+=1)f=this.bibliography_sort.tokens[l],s.debug("bibsorttok: "+m.name)}i=s.getBibliographyEntries.call(this,e),h=i[0],u=i[1];var S=i[2];for(r={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:h,bibliography_errors:this.tmp.bibliography_errors.slice(),done:S},this.bibliography.opt["second-field-align"]&&(r["second-field-align"]=this.bibliography.opt["second-field-align"]),a=0,o=this.registry.reflist.length,l=0;l<o;l+=1)n=this.registry.reflist[l],n.offset>r.maxoffset&&(r.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(r.hangingindent=this.bibliography.opt.hangingindent),r.bibstart=this.fun.decorate.bibstart,r.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[r,u]},s.getBibliographyEntries=function(e){var t,i,r,a,n,o,l,m,p,f,h,u,d,v,c,S,g,y,x,b,A,O,I;t=[],A=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,e&&e.page_start&&e.page_length?i=this.registry.getSortedIds():i=this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0;function T(z,j){return z===j}function k(z,j){for(f=j.length,h=0;h<f;h+=1)if(T(z,j[h]))return!0;return!1}function N(z,j){return typeof z=="boolean"||!z?z?!!j:!j:typeof j=="string"?T(z,j):j?k(z,j):!1}y={};var _;if(e&&e.page_start&&e.page_length&&(_=0,e.page_start!==!0))for(c=0,S=i.length;c<S&&(y[i[c]]=!0,e.page_start!=i[c]);c+=1);var w=[],D={};for(this.tmp.container_item_count={},i=i.filter(z=>{var j=z;return z.legislation_id?D[z.legislation_id]?j=!1:D[z.legislation_id]=!0:z.container_id&&(this.tmp.container_item_count[z.container_id]||(this.tmp.container_item_count[z.container_id]=0),this.tmp.container_item_count[z.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(z.type)>-1&&(D[z.container_id]?j=!1:D[z.container_id]=!0)),j}),this.tmp.container_item_pos={},c=0,S=i.length;c<S;c+=1){if(e&&e.page_start&&e.page_length){if(y[i[c]])continue;if(m=this.refetchItem(i[c]),_===e.page_length)break}else if(m=i[c],y[m.id])continue;if(e){if(r=!0,e.include){for(r=!1,O=0,I=e.include.length;O<I;O+=1)if(p=e.include[O],N(p.value,m[p.field])){r=!0;break}}else if(e.exclude){for(a=!1,O=0,I=e.exclude.length;O<I;O+=1)if(p=e.exclude[O],N(p.value,m[p.field])){a=!0;break}a&&(r=!1)}else if(e.select){for(r=!1,n=!0,O=0,I=e.select.length;O<I;O+=1)p=e.select[O],N(p.value,m[p.field])||(n=!1);n&&(r=!0)}if(e.quash){for(n=!0,O=0,I=e.quash.length;O<I;O+=1)p=e.quash[O],N(p.value,m[p.field])||(n=!1);n&&(r=!1)}if(!r)continue}if(v&&s.debug("BIB: "+m.id),m.container_id&&(this.tmp.container_item_pos[m.container_id]||(this.tmp.container_item_pos[m.container_id]=0),this.tmp.container_item_pos[m.container_id]++),o=new s.Token("group",s.START),o.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",o),m.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=m.system_id:this.output.current.value().system_id=m.id,d=[],this.registry.registry[m.id].master&&!(e&&e.page_start&&e.page_length)){x=[[m,{id:m.id}]],g=this.registry.registry[m.id].siblings;for(var O=0,I=g.length;O<I;O++)x.push([this.refetchItem(g[O]),{id:g[O]}]);for(this.parallel.StartCitation(x),this.registry.registry[m.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[m.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,O=0,I=x.length;O<I;O+=1)O<x.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,d.push(""+s.getCite.call(this,x[O][0],x[O][1])),this.tmp.cite_index++,y[x[O][0].id]=!0}else this.registry.registry[m.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,d.push(""+s.getCite.call(this,m)),e&&e.page_start&&e.page_length&&(_+=1));for(A.push(""),this.tmp.bibliography_pos+=1,w.push(d),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(this.output.queue[0].blobs[0].blobs[0].strings?u=this.output.queue[0].blobs[0].blobs:u=this.output.queue[0].blobs,u[0].strings.prefix=this.bibliography.opt.layout_prefix+u[0].strings.prefix),O=0,I=this.output.queue.length;O<I;O+=1)s.Output.Queue.purgeEmptyBlobs(this.output.queue[O]);for(O=0,I=this.output.queue.length;O<I;O+=1)this.output.adjust.upward(this.output.queue[O]),this.output.adjust.leftward(this.output.queue[O]),this.output.adjust.downward(this.output.queue[O],!0),this.output.adjust.fix(this.output.queue[O]);if(l=this.output.string(this,this.output.queue)[0],!l&&this.opt.update_mode===s.NUMERIC){var E=t.length+1+". [CSL STYLE ERROR: reference with no printed form.]";l=s.Output.Formats[this.opt.mode]["@bibliography/entry"](this,E)}l&&t.push(l)}var C=!1;if(e&&e.page_start&&e.page_length){var U=i.slice(-1)[0],q=w.slice(-1)[0];(!U||!q||U==q)&&(C=!0)}return this.tmp.disambig_override=!1,[w,t,C]},s.Engine.prototype.setCitationId=function(e,t){var i,r,a;if(i=!1,!e.citationID||t){for(r=Math.floor(Math.random()*1e14);;){if(a=0,this.registry.citationreg.citationById[r])!a&&r<5e13?a=1:a=-1;else{e.citationID="a"+r.toString(32);break}a===1?r+=1:r+=-1}i=""+r}return this.registry.citationreg.citationById[e.citationID]=e,i},s.Engine.prototype.rebuildProcessorState=function(e,t,i){e||(e=[]),t||(t="html");for(var r={},a=[],n=0,o=e.length;n<o;n+=1)for(var l=0,m=e[n].citationItems.length;l<m;l+=1){var p=""+e[n].citationItems[l].id;r[p]||a.push(p),r[p]=!0}this.updateItems(a);var f=[],h=[],u=[],d=this.opt.mode;this.setOutputFormat(t);for(var n=0,o=e.length;n<o;n+=1){var v=this.processCitationCluster(e[n],f,h,s.ASSUME_ALL_ITEMS_REGISTERED);f.push([e[n].citationID,e[n].properties.noteIndex]);for(var l=0,m=v[1].length;l<m;l+=1){var c=v[1][l][0];u[c]=[f[c][0],f[c][1],v[1][l][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(d),u},s.Engine.prototype.restoreProcessorState=function(e){var t,i,r,a,n,o,l,m,p,f;m=[],p=[],e||(e=[]);var h=[],u={};for(t=0,i=e.length;t<i;t+=1)u[e[t].citationID]&&this.setCitationId(e[t],!0),u[e[t].citationID]=!0,h.push(e[t].properties.index);var d=e.slice();for(d.sort(function(c,S){return c.properties.index<S.properties.index?-1:c.properties.index>S.properties.index?1:0}),t=0,i=d.length;t<i;t+=1)d[t].properties.index=t;for(t=0,i=d.length;t<i;t+=1){for(f=[],r=0,a=d[t].citationItems.length;r<a;r+=1)n=d[t].citationItems[r],typeof n.sortkeys=="undefined"&&(n.sortkeys=[]),o=this.retrieveItem(""+n.id),l=[o,n],f.push(l),d[t].citationItems[r].item=o,p.push(""+n.id);d[t].properties.unsorted||f.sort(this.citation.srt.compareCompositeKeys),d[t].sortedItems=f,this.registry.citationreg.citationById[d[t].citationID]=d[t]}for(this.updateItems(p),t=0,i=e.length;t<i;t+=1)m.push([""+e[t].citationID,e[t].properties.noteIndex]);var v=[];return e&&e.length?v=this.processCitationCluster(e[0],[],m.slice(1)):(this.registry=new s.Registry(this),this.tmp=new s.Engine.Tmp,this.disambiguate=new s.Disambiguation(this)),v},s.Engine.prototype.updateItems=function(e,t,i,r){var a=!1,n=this.tmp.area,o=this.tmp.root,l=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),a&&s.debug("--> init <--"),this.registry.init(e),i)for(var m in this.registry.ambigcites)this.registry.ambigsTouched[m]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=l,this.tmp.area=n,this.tmp.root=o,this.registry.getSortedIds()},s.Engine.prototype.updateUncitedItems=function(e,t){var i,r=this.tmp.area,a=this.tmp.root,n=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},e||(e=[]),typeof e=="object"){if(typeof e.length=="undefined"){i=e,e=[];for(var o in i)e.push(o)}else if(typeof e.length=="number"){i={};for(var l=0,m=e.length;l<m;l+=1)i[e[l]]=!0}}return this.registry.init(e,!0),this.registry.dopurge(i),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=r,this.tmp.root=a,this.registry.getSortedIds()},s.localeResolve=function(e,t){var i,r;return t||(t="en-US"),e||(e=t),i={},r=e.split(/[\-_]/),i.base=s.LANG_BASES[r[0]],typeof i.base=="undefined"?{base:t,best:e,bare:r[0]}:(r.length===1&&(i.generic=!0),r.length===1||r[1]==="x"?i.best=i.base.replace("_","-"):i.best=r.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=r[0],i)},s.Engine.prototype.localeConfigure=function(e,t){var i;if(!(t&&this.locale[e.best])&&(e.best==="en-US"?(i=s.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",e.best)):e.best!=="en-US"&&(e.base!==e.best&&(i=s.setupXml(this.sys.retrieveLocale(e.base)),this.localeSet(i,e.base,e.best)),i=s.setupXml(this.sys.retrieveLocale(e.best)),this.localeSet(i,e.best,e.best)),this.localeSet(this.cslXml,"",e.best),this.localeSet(this.cslXml,e.bare,e.best),e.base!==e.best&&this.localeSet(this.cslXml,e.base,e.best),this.localeSet(this.cslXml,e.best,e.best),typeof this.locale[e.best].terms["page-range-delimiter"]=="undefined"&&(["fr","pt"].indexOf(e.best.slice(0,2).toLowerCase())>-1?this.locale[e.best].terms["page-range-delimiter"]="-":this.locale[e.best].terms["page-range-delimiter"]="\u2013"),typeof this.locale[e.best].terms["year-range-delimiter"]=="undefined"&&(this.locale[e.best].terms["year-range-delimiter"]="\u2013"),typeof this.locale[e.best].terms["citation-range-delimiter"]=="undefined"&&(this.locale[e.best].terms["citation-range-delimiter"]="\u2013"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var r=["default-locale","locale-sort","locale-translit","locale-translat"],a=0,n=r.length;a<n;a+=1)for(var o=0,l=this.opt[r[a]].length;o<l;o+=1)this.opt[r[a]][o]=this.opt[r[a]][o].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},s.Engine.prototype.localeSet=function(e,t,i){var r,a,n,o,l,m,p,f,h,u,d,v,c,S,g,y;if(t=t.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=s.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),a=e.makeXml(),e.nodeNameIs(e.dataObj,"locale"))a=e.dataObj;else{n=e.getNodesByName(e.dataObj,"locale");var x=!1;for(l=0,v=e.numberofnodes(n);l<v;l+=1)if(r=n[l],!x&&e.getAttributeValue(r,"lang","xml")===t)a=r,x=!0;else{var b=e.getAttributeValue(r,"lang","xml"),A=e.getNodesByName(r,"style-options");if(b&&A&&A.length){var O=e.getAttributeValue(A[0],"jurisdiction-preference");O&&(this.locale[b]||(this.locale[b]={opts:{}}),this.locale[b].opts["jurisdiction-preference"]=O.split(/\s+/))}}}for(n=e.getNodesByName(a,"type"),g=0,y=e.numberofnodes(n);g<y;g+=1){var I=n[g],T=e.getAttributeValue(I,"name"),k=e.getAttributeValue(I,"gender");this.opt.gender[T]=k}var N=e.getNodesByName(a,"term","ordinal").length;if(N){for(var _ in this.locale[i].ord.keys)delete this.locale[i].terms[_];this.locale[i].ord={"1.0.1":!1,keys:{}}}n=e.getNodesByName(a,"term");var w={"last-digit":{},"last-two-digits":{},"whole-number":{}},D=!1,E={};for(l=0,v=e.numberofnodes(n);l<v;l+=1){if(m=n[l],f=e.getAttributeValue(m,"name"),f==="sub verbo"&&(f="sub-verbo"),f.slice(0,7)==="ordinal"){if(f==="ordinal")D=!0;else{var C=e.getAttributeValue(m,"match"),U=f.slice(8),c=e.getAttributeValue(m,"gender-form");c||(c="neuter"),C||(C="last-two-digits",U.slice(0,1)==="0"&&(C="last-digit")),U.slice(0,1)==="0"&&(U=U.slice(1)),w[C][U]||(w[C][U]={}),w[C][U][c]=f}this.locale[i].ord.keys[f]=!0}typeof this.locale[i].terms[f]=="undefined"&&(this.locale[i].terms[f]={}),p="long",c=!1,e.getAttributeValue(m,"form")&&(p=e.getAttributeValue(m,"form")),e.getAttributeValue(m,"gender-form")&&(c=e.getAttributeValue(m,"gender-form")),e.getAttributeValue(m,"gender")&&(this.locale[i]["noun-genders"][f]=e.getAttributeValue(m,"gender")),c?(this.locale[i].terms[f][c]={},this.locale[i].terms[f][c][p]=[],S=this.locale[i].terms[f][c],E[f]=!0):(this.locale[i].terms[f][p]=[],S=this.locale[i].terms[f]),e.numberofnodes(e.getNodesByName(m,"multiple"))?(S[p][0]=e.getNodeValue(m,"single"),S[p][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),S[p][1]=e.getNodeValue(m,"multiple"),S[p][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(S[p]=e.getNodeValue(m),S[p].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[i].terms.supplement||(this.locale[i].terms.supplement={}),this.locale[i].terms.supplement.long||(this.locale[i].terms.supplement.long=["supplement","supplements"]),D){for(var q in E){var z={},j=0;for(var M in this.locale[i].terms[q])["masculine","feminine"].indexOf(M)>-1?z[M]=this.locale[i].terms[q][M]:j+=1;if(!j){if(z.feminine)for(var M in z.feminine)this.locale[i].terms[q][M]=z.feminine[M];else if(z.masculine)for(var M in z.masculine)this.locale[i].terms[q][M]=z.masculine[M]}}this.locale[i].ord["1.0.1"]=w}for(f in this.locale[i].terms)for(g=0,y=2;g<y;g+=1)if(c=s.GENDERS[g],this.locale[i].terms[f][c])for(p in this.locale[i].terms[f])this.locale[i].terms[f][c][p]||(this.locale[i].terms[f][c][p]=this.locale[i].terms[f][p]);for(n=e.getNodesByName(a,"style-options"),l=0,v=e.numberofnodes(n);l<v;l+=1){h=n[l],o=e.attributes(h);for(d in o)if(o.hasOwnProperty(d)){if(d==="@punctuation-in-quote"||d==="@limit-day-ordinals-to-day-1")o[d]==="true"?this.locale[i].opts[d.slice(1)]=!0:this.locale[i].opts[d.slice(1)]=!1;else if(d==="@jurisdiction-preference"){var R=o[d].split(/\s+/);this.locale[i].opts[d.slice(1)]=R}else if(d==="@skip-words"){var L=o[d].split(/\s*,\s*/);this.locale[i].opts[d.slice(1)]=L}else if(d==="@leading-noise-words"){var P=o[d].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=P}else if(d==="@name-as-sort-order"){this.locale[i].opts["name-as-sort-order"]={};for(var X=o[d].split(/\s+/),g=0,y=X.length;g<y;g+=1)this.locale[i].opts["name-as-sort-order"][X[g]]=!0}else if(d==="@name-as-reverse-order"){this.locale[i].opts["name-as-reverse-order"]={};for(var X=o[d].split(/\s+/),g=0,y=X.length;g<y;g+=1)this.locale[i].opts["name-as-reverse-order"][X[g]]=!0}else if(d==="@name-never-short"){this.locale[i].opts["name-never-short"]={};for(var X=o[d].split(/\s+/),g=0,y=X.length;g<y;g+=1)this.locale[i].opts["name-never-short"][X[g]]=!0}}}for(n=e.getNodesByName(a,"date"),l=0,v=e.numberofnodes(n);l<v;l+=1){var u=n[l];this.locale[i].dates[e.getAttributeValue(u,"form")]=u}s.SET_COURT_CLASSES(this,i,e,a)},s.getLocaleNames=function(e,t){var i=s.setupXml(e);function r(h,u){var d=["base","best"];if(u)for(var v=s.localeResolve(u),c=0,S=d.length;c<S;c++)v[d[c]]&&h.indexOf(v[d[c]])===-1&&h.push(v[d[c]])}var a=["en-US"];function n(h){for(var u=i.getNodesByName(i.dataObj,h),d=0,v=u.length;d<v;d++){var c=i.getAttributeValue(u[d],"locale");if(c){c=c.split(/ +/);for(var S=0,g=c.length;S<g;S++)this.extendLocaleList(a,c[S])}}}r(a,t);var o=i.getNodesByName(i.dataObj,"style")[0],l=i.getAttributeValue(o,"default-locale");r(a,l);for(var m=["layout","if","else-if","condition"],p=0,f=m.length;p<f;p++)n(i,a,m[p]);return a},s.Node={},s.Node.bibliography={build:function(e,t){if(this.tokentype===s.START){e.build.area="bibliography",e.build.root="bibliography",e.build.extension="";var i=function(r){r.tmp.area="bibliography",r.tmp.root="bibliography",r.tmp.extension=""};this.execs.push(i)}t.push(this)}},s.Node.choose={build:function(e,t){var i;this.tokentype===s.START&&(i=function(r){r.tmp.jump.push(void 0,s.LITERAL)}),this.tokentype===s.END&&(i=function(r){r.tmp.jump.pop()}),this.execs.push(i),t.push(this)},configure:function(e,t){this.tokentype===s.END?(e.configure.fail.push(t),e.configure.succeed.push(t)):(e.configure.fail.pop(),e.configure.succeed.pop())}},s.Node.citation={build:function(e,t){if(this.tokentype===s.START){e.build.area="citation",e.build.root="citation",e.build.extension="";var i=function(a){a.tmp.area="citation",a.tmp.root="citation",a.tmp.extension=""};this.execs.push(i)}if(this.tokentype===s.END){if(e.opt.grouped_sort=e.opt.xclass==="in-text"&&e.citation.opt.collapse&&e.citation.opt.collapse.length||e.citation.opt.cite_group_delimiter&&e.citation.opt.cite_group_delimiter.length&&e.opt.update_mode!==s.POSITION&&e.opt.update_mode!==s.NUMERIC,e.opt.grouped_sort&&e.citation_sort.opt.sort_directions.length){var r=e.citation_sort.opt.sort_directions[0].slice();e.citation_sort.opt.sort_directions=[r].concat(e.citation_sort.opt.sort_directions)}e.citation.srt=new s.Registry.Comparifier(e,"citation_sort")}t.push(this)}},s.Node["#comment"]={build:function(){}},s.Node.date={build:function(e,t){var i,r,a,n,o,l,m,p,f,h;(this.tokentype===s.START||this.tokentype===s.SINGLETON)&&(e.dateput.string(e,e.dateput.queue),e.tmp.date_token=s.Util.cloneToken(this),e.tmp.date_token.strings.prefix="",e.tmp.date_token.strings.suffix="",e.dateput.openLevel(this),e.build.date_parts=[],e.build.date_variables=this.variables,e.build.extension||s.Util.substituteStart.call(this,e,t),e.build.extension?i=s.dateMacroAsSortKey:i=function(u,d,v){var c;if(u.tmp.element_rendered_ok=!1,u.tmp.donesies=[],u.tmp.dateparts=[],c=[],this.variables.length&&!(u.tmp.just_looking&&this.variables[0]==="accessed")){for(r=d[this.variables[0]],typeof r=="undefined"&&(r={"date-parts":[[0]]},u.opt.development_extensions.locator_date_and_revision&&v&&this.variables[0]==="locator-date"&&v["locator-date"]&&(r=v["locator-date"])),u.tmp.date_object=r,a=this.dateparts.length,n=0;n<a;n+=1)o=this.dateparts[n],(typeof u.tmp.date_object[o+"_end"]!="undefined"||o==="month"&&typeof u.tmp.date_object.season_end!="undefined")&&c.push(o);for(l=[],m=["year","month","day"],a=m.length,n=0;n<a;n+=1)c.indexOf(m[n])>-1&&l.push(m[n]);for(c=l.slice(),p=2,a=c.length,n=0;n<a;n+=1)if(o=c[n],f=u.tmp.date_object[o],h=u.tmp.date_object[o+"_end"],f!==h){p=n;break}u.tmp.date_collapse_at=c.slice(p)}else u.tmp.date_object=!1},this.execs.push(i),i=function(u,d){if(d[this.variables[0]]&&(u.output.startTag("date",this),this.variables[0]==="issued"&&(d.type==="legal_case"||d.type==="legislation")&&u.opt.disable_duplicate_year_suppression.indexOf(d.country)===-1&&!u.tmp.extension&&""+d["collection-number"]==""+u.tmp.date_object.year&&this.dateparts.length===1&&this.dateparts[0]==="year")){for(var v in u.tmp.date_object)if(u.tmp.date_object.hasOwnProperty(v)&&v.slice(0,4)==="year"){u.tmp.issued_date={};var c=u.output.current.mystack.slice(-2)[0].blobs;u.tmp.issued_date.list=c,u.tmp.issued_date.pos=c.length-1}}},this.execs.push(i)),!e.build.extension&&(this.tokentype===s.END||this.tokentype===s.SINGLETON)&&(i=function(u,d){d[this.variables[0]]&&u.output.endTag()},this.execs.push(i)),t.push(this),(this.tokentype===s.END||this.tokentype===s.SINGLETON)&&(e.build.extension||s.Util.substituteEnd.call(this,e,t))}},s.Node["date-part"]={build:function(e,t){var i,r,a,n,o,l,m,p,f,h,u,d,v,c,S,g,y,x,b,A,O,I,T;this.strings.form||(this.strings.form="long"),e.build.date_parts.push(this.strings.name);var k=e.build.date_variables[0];function N(_,w,D){if(!D)return D;if(D=""+s.Util.Dates[this.strings.name][_](e,D,w,this.default_locale),this.strings.name==="month"){if(e.tmp.strip_periods)D=D.replace(/\./g,"");else for(var E=0,C=this.decorations.length;E<C;E+=1)if(this.decorations[E][0]==="@strip-periods"&&this.decorations[E][1]==="true"){D=D.replace(/\./g,"");break}}return D}i=function(_,w){if(_.tmp.date_object)_.tmp.probably_rendered_something=!0;else return;var D="";if(n=!0,o="",l="",_.tmp.donesies.push(this.strings.name),_.tmp.date_object.literal&&this.strings.name==="year"&&(D=_.tmp.date_object.literal,_.output.append(_.tmp.date_object.literal,this)),_.tmp.date_object&&(o=_.tmp.date_object[this.strings.name],l=_.tmp.date_object[this.strings.name+"_end"]),this.strings.name==="year"&&o===0&&!_.tmp.suppress_decorations&&(o=!1),m=!_.tmp.suppress_decorations,p=_.tmp.have_collapsed,f=_[_.tmp.area].opt.collapse==="year-suffix"||_[_.tmp.area].opt.collapse==="year-suffix-ranged",h=_.opt["disambiguate-add-year-suffix"],m&&h&&f&&(_.tmp.years_used.push(o),u=_.tmp.last_years_used.length>=_.tmp.years_used.length,u&&p&&_.tmp.last_years_used[_.tmp.years_used.length-1]===o&&(o=!1)),typeof o!="undefined"){d=!1,v=!1,c=!1,S=!1,this.strings.name==="year"&&(parseInt(o,10)<500&&parseInt(o,10)>0&&(v=_.getTerm("ad")),parseInt(o,10)<0&&(d=_.getTerm("bc"),o=parseInt(o,10)*-1),l&&(parseInt(l,10)<500&&parseInt(l,10)>0&&(S=_.getTerm("ad")),parseInt(l,10)<0&&(c=_.getTerm("bc"),l=parseInt(l,10)*-1)));for(var E=""+_.tmp.date_object.month;E.length<2;)E="0"+E;E="month-"+E;var C=_.locale[_.opt.lang]["noun-genders"][E];if(this.strings.form){var U=this.strings.form,q=this.strings.form;this.strings.name==="day"&&U==="ordinal"&&_.locale[_.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(o!=1&&(U="numeric"),l!=1&&(q="numeric")),o=N.call(this,U,C,o),l=N.call(this,q,C,l)}if(_.output.openLevel("empty"),_.tmp.date_collapse_at.length){for(g=!0,a=_.tmp.date_collapse_at.length,r=0;r<a;r+=1)if(I=_.tmp.date_collapse_at[r],_.tmp.donesies.indexOf(I)===-1){g=!1;break}if(g){if(""+l!="0"){if(_.dateput.queue.length===0&&(n=!0),_.opt["year-range-format"]&&_.opt["year-range-format"]!=="expanded"&&!_.tmp.date_object.day&&!_.tmp.date_object.month&&!_.tmp.date_object.season&&this.strings.name==="year"&&o&&l){l=_.fun.year_mangler(o+"-"+l,!0);var z=_.getTerm("year-range-delimiter");l=l.slice(l.indexOf(z)+1)}D=l,_.dateput.append(l,this),n&&(T=_.dateput.current.value().blobs[0],T&&(T.strings.prefix=""))}D=o,_.output.append(o,this),y=_.output.current.value(),T=y.blobs[y.blobs.length-1],T&&(T.strings.suffix=""),this.strings["range-delimiter"]?_.output.append(this.strings["range-delimiter"]):_.output.append(_.getTerm("year-range-delimiter"),"empty"),_.dateput.closeLevel(),x=_.dateput.current.value(),y.blobs=y.blobs.concat(x),_.dateput.string(_,_.dateput.queue),_.dateput.openLevel(_.tmp.date_token),_.tmp.date_collapse_at=[]}else D=o,_.output.append(o,this),_.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+l!="0"&&(_.dateput.queue.length===0&&(n=!0),_.dateput.openLevel("empty"),D=l,_.dateput.append(l,this),n&&(T=_.dateput.current.value().blobs[0],T&&(T.strings.prefix="")),d&&(D=d,_.dateput.append(d)),v&&(D=v,_.dateput.append(v)),_.dateput.closeLevel())}else D=o,_.output.append(o,this);d&&(D=d,_.output.append(d)),v&&(D=v,_.output.append(v)),_.output.closeLevel()}else this.strings.name==="month"&&_.tmp.date_object.season&&(o=""+_.tmp.date_object.season,o&&o.match(/^[1-4]$/)?(_.tmp.group_context.tip.variable_success=!0,D="winter",_.output.append(_.getTerm("season-0"+o),this)):o&&(D=o,_.output.append(o,this)));_.tmp.value=[],w[k]&&(o||_.tmp.have_collapsed)&&!_.opt.has_year_suffix&&this.strings.name==="year"&&!_.tmp.just_looking&&_.registry.registry[w.id]&&_.registry.registry[w.id].disambig.year_suffix!==!1&&!_.tmp.has_done_year_suffix&&(_.tmp.has_done_year_suffix=!0,D="x",A=parseInt(_.registry.registry[w.id].disambig.year_suffix,10),b=new s.NumericBlob(_,!1,A,this,w.id),this.successor_prefix=_[_.build.area].opt.layout_delimiter,this.splice_prefix=_[_.build.area].opt.layout_delimiter,O=new s.Util.Suffixator(s.SUFFIX_CHARS),b.setFormatter(O),_[_.tmp.area].opt.collapse==="year-suffix-ranged"&&(b.range_prefix=_.getTerm("citation-range-delimiter")),_[_.tmp.area].opt.cite_group_delimiter?b.successor_prefix=_[_.tmp.area].opt.cite_group_delimiter:_[_.tmp.area].opt["year-suffix-delimiter"]?b.successor_prefix=_[_.tmp.area].opt["year-suffix-delimiter"]:b.successor_prefix=_[_.tmp.area].opt.layout_delimiter,b.UGLY_DELIMITER_SUPPRESS_HACK=!0,_.output.append(b,"literal")),D&&!_.tmp.group_context.tip.condition&&(_.tmp.just_did_number=D.match(/[0-9]$/),_.output.current.tip.strings.suffix&&(_.tmp.just_did_number=!1))},this.execs.push(i),t.push(this)}},s.Node["else-if"]={build:function(e,t){s.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){s.Conditions.Configure.call(this,e,t)}},s.Node.else={build:function(e,t){t.push(this)},configure:function(e,t){this.tokentype===s.START&&(e.configure.fail[e.configure.fail.length-1]=t)}},s.Node["et-al"]={build:function(e,t){if(e.build.area==="citation"||e.build.area==="bibliography"){var i=function(r){r.tmp.etal_node=this,typeof this.strings.term=="string"&&(r.tmp.etal_term=this.strings.term)};this.execs.push(i)}t.push(this)}},s.Node.group={build:function(e,t,i){var r,a;if(this.realGroup=i,this.tokentype===s.START&&(s.Util.substituteStart.call(this,e,t),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||t.push(this),r=function(u){if(u.output.startTag("group",this),this.strings.label_form_override&&(u.tmp.group_context.tip.label_form||(u.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(u.tmp.group_context.tip.label_capitalize_if_first||(u.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){u.tmp.group_context.tip.condition&&s.UPDATE_GROUP_CONTEXT_CONDITION(u,this.strings.prefix,null,this);var d=!1,v=!1;u.tmp.group_context.mystack.length&&(u.output.current.value().parent=u.tmp.group_context.tip.output_tip);var c=u.tmp.group_context.tip.label_form;c||(c=this.strings.label_form_override);var S=u.tmp.group_context.tip.label_capitalize_if_first;S||(S=this.strings.label_capitalize_if_first),u.tmp.group_context.tip.condition?(d=u.tmp.group_context.tip.condition,v=u.tmp.group_context.tip.force_suppress):this.strings.reject?d={test:this.strings.reject,not:!0}:this.strings.require&&(d={test:this.strings.require,not:!1});var g={old_term_predecessor:u.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:u.tmp.group_context.tip.variable_success,output_tip:u.output.current.tip,label_form:c,label_static:u.tmp.group_context.tip.label_static,label_capitalize_if_first:S,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:d,force_suppress:v,done_vars:u.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var y=u.tmp.group_context.tip.non_parallel;y||(y={}),Object.assign(y,this.non_parallel),g.non_parallel=y}if(this.parallel_first){var x=u.tmp.group_context.tip.parallel_first;x||(x={}),Object.assign(x,this.parallel_first),g.parallel_first=x}if(this.parallel_last){var b=u.tmp.group_context.tip.parallel_last;b||(b={}),Object.assign(b,this.parallel_last),g.parallel_last=b}if(u.tmp.abbrev_trimmer&&u.tmp.abbrev_trimmer.LAST_TO_FIRST&&g.parallel_last){g.parallel_first||(g.parallel_first={});for(var A in u.tmp.abbrev_trimmer.LAST_TO_FIRST)g.parallel_last[A]&&(g.parallel_first[A]=!0,delete g.parallel_last[A])}if(u.tmp.group_context.push(g),u.tmp.abbrev_trimmer&&this.parallel_last_to_first){u.tmp.abbrev_trimmer.LAST_TO_FIRST||(u.tmp.abbrev_trimmer.LAST_TO_FIRST={});for(var A in this.parallel_last_to_first)u.tmp.abbrev_trimmer.LAST_TO_FIRST[A]=!0}}},a=[],a.push(r),this.execs=a.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(r=function(u,d){if(d.publisher&&d["publisher-place"]){var v=d.publisher.split(/;\s*/),c=d["publisher-place"].split(/;\s*/);v.length>1&&v.length===c.length&&(u.publisherOutput=new s.PublisherOutput(u,this),u.publisherOutput["publisher-list"]=v,u.publisherOutput["publisher-place-list"]=c)}},this.execs.push(r))),this.juris)){var n=new s.Token("choose",s.START);s.Node.choose.build.call(n,e,t);var o=new s.Token("if",s.START);r=function(u){return function(d,v){return s.INIT_JURISDICTION_MACROS(e,d,v,u)}}(this.juris),o.tests||(o.tests=[]),o.tests.push(r),o.test=e.fun.match.any(o,e,o.tests),t.push(o);var l=new s.Token("text",s.SINGLETON);r=function(u,d,v){var c=d;v&&v["best-jurisdiction"]&&this.juris==="juris-locator"&&(c=v);var S=0;if(u.juris[c["best-jurisdiction"]][this.juris])for(;S<u.juris[c["best-jurisdiction"]][this.juris].length;)S=s.tokenExec.call(u,u.juris[c["best-jurisdiction"]][this.juris][S],d,v)},l.juris=this.juris,l.execs.push(r),t.push(l);var m=new s.Token("if",s.END);s.Node.if.build.call(m,e,t);var p=new s.Token("else",s.START);s.Node.else.build.call(p,e,t)}if(this.tokentype===s.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,r=function(u){u.publisherOutput&&(u.publisherOutput.render(),u.publisherOutput=!1)},this.execs.push(r)),r=function(u,d,v){if(u.tmp.group_context.tip.condition||u.output.current.tip.strings.suffix&&(u.tmp.just_did_number=!1),u.output.endTag(),this.realGroup){var c=u.tmp.group_context.pop();if(c.parallel_delimiter_override&&(u.tmp.group_context.tip.parallel_delimiter_override=c.parallel_delimiter_override,!u.tmp.just_looking&&u.registry.registry[d.id].master&&(u.registry.registry[d.id].parallel_delimiter_override=c.parallel_delimiter_override)),c.parallel_delimiter_override_on_suppress&&(u.tmp.group_context.tip.parallel_delimiter_override_on_suppress=c.parallel_delimiter_override_on_suppress),u.tmp.area==="bibliography_sort"){var S=c.done_vars.indexOf("citation-number");this.strings.sort_direction&&S>-1&&u.tmp.group_context.length()==1&&(this.strings.sort_direction===s.DESCENDING?u.bibliography_sort.opt.citation_number_sort_direction=s.DESCENDING:u.bibliography_sort.opt.citation_number_sort_direction=s.ASCENDING,c.done_vars=c.done_vars.slice(0,S).concat(c.done_vars.slice(S+1)))}if(c.condition&&(c.force_suppress=s.EVALUATE_GROUP_CONDITION(u,c)),u.tmp.group_context.tip.condition&&(u.tmp.group_context.tip.force_suppress=c.force_suppress),!c.force_suppress&&(c.variable_success||c.term_intended&&!c.variable_attempt)){this.isJurisLocatorLabel||(u.tmp.group_context.tip.variable_success=!0);var g=u.output.current.value().blobs,y=u.output.current.value().blobs.length-1;if(!u.tmp.just_looking&&(c.non_parallel||c.parallel_last||c.parallel_first||c.parallel_delimiter_override||c.parallel_delimiter_override_on_suppress)){var x=u.parallel.checkRepeats(c);if(x&&g&&g.pop(),u.tmp.cite_index>0&&(x||!c.parallel_first&&!c.parallel_last&&!c.non_parallel)){var b=u.tmp.suppress_repeats[u.tmp.cite_index-1];x&&c.parallel_delimiter_override_on_suppress&&(b.SIBLING||b.ORPHAN)?u.output.queue.slice(-1)[0].parallel_delimiter=c.parallel_delimiter_override_on_suppress:c.parallel_delimiter_override&&b.SIBLING&&(u.output.queue.slice(-1)[0].parallel_delimiter=c.parallel_delimiter_override)}}}else{if(u.tmp.term_predecessor=c.old_term_predecessor,u.tmp.group_context.tip.variable_attempt=c.variable_attempt,c.force_suppress&&!u.tmp.group_context.tip.condition&&(u.tmp.group_context.tip.variable_attempt=!0,u.tmp.group_context.tip.variable_success=c.variable_success_parent),c.force_suppress)for(var A=0,O=c.done_vars.length;A<O;A++)for(var I=c.done_vars[A],T=0,k=u.tmp.done_vars.length;T<k;T++)u.tmp.done_vars[T]===I&&(u.tmp.done_vars=u.tmp.done_vars.slice(0,T).concat(u.tmp.done_vars.slice(T+1)));u.output.current.value().blobs&&u.output.current.value().blobs.pop()}}},this.execs.push(r),this.juris)){var f=new s.Token("else",s.END);s.Node.else.build.call(f,e,t);var h=new s.Token("choose",s.END);s.Node.choose.build.call(h,e,t)}this.tokentype===s.END&&(this.juris||t.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),s.Util.substituteEnd.call(this,e,t))}},s.Node.if={build:function(e,t){s.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){s.Conditions.Configure.call(this,e,t)}},s.Node.conditions={build:function(e){this.tokentype===s.START&&e.tmp.conditions.addMatch(this.match),this.tokentype===s.END&&e.tmp.conditions.matchCombine()}},s.Node.condition={build:function(e){if(this.tokentype===s.SINGLETON){var t=e.fun.match[this.match](this,e,this.tests);e.tmp.conditions.addTest(t)}}},s.Conditions={},s.Conditions.TopNode=function(e){var t;(this.tokentype===s.START||this.tokentype===s.SINGLETON)&&(this.locale&&(e.opt.lang=this.locale),!this.tests||!this.tests.length?e.tmp.conditions=new s.Conditions.Engine(e,this):this.test=e.fun.match[this.match](this,e,this.tests),e.build.substitute_level.value()===0&&(t=function(i){i.tmp.condition_counter++},this.execs.push(t))),(this.tokentype===s.END||this.tokentype===s.SINGLETON)&&(e.build.substitute_level.value()===0&&(t=function(i){if(i.tmp.condition_counter--,i.tmp.condition_lang_counter_arr.length>0){var r=i.tmp.condition_lang_counter_arr.slice(-1)[0];r===i.tmp.condition_counter&&(i.opt.lang=i.tmp.condition_lang_val_arr.pop(),i.tmp.condition_lang_counter_arr.pop())}this.locale_default&&(i.output.current.value().old_locale=this.locale_default,i.output.closeLevel("empty"),i.opt.lang=this.locale_default)},this.execs.push(t)),t=function(i){var r=this[i.tmp.jump.value()];return r},this.execs.push(t),this.locale_default&&(e.opt.lang=this.locale_default))},s.Conditions.Configure=function(e,t){this.tokentype===s.START?(this.fail=e.configure.fail.slice(-1)[0],this.succeed=this.next,e.configure.fail[e.configure.fail.length-1]=t):this.tokentype===s.SINGLETON?(this.fail=this.next,this.succeed=e.configure.succeed.slice(-1)[0],e.configure.fail[e.configure.fail.length-1]=t):(this.succeed=e.configure.succeed.slice(-1)[0],this.fail=this.next)},s.Conditions.Engine=function(e,t){this.token=t,this.state=e},s.Conditions.Engine.prototype.addTest=function(e){this.token.tests||(this.token.tests=[]),this.token.tests.push(e)},s.Conditions.Engine.prototype.addMatch=function(e){this.token.match=e},s.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},s.Node.info={build:function(e){this.tokentype===s.START?e.build.skip="info":e.build.skip=!1}},s.Node.institution={build:function(e,t){if([s.SINGLETON,s.START].indexOf(this.tokentype)>-1){var i=function(r){typeof this.strings.delimiter=="string"?r.tmp.institution_delimiter=this.strings.delimiter:r.tmp.institution_delimiter=r.tmp.name_delimiter,r.inheritOpt(this,"and")==="text"?this.and_term=r.getTerm("and","long",0):r.inheritOpt(this,"and")==="symbol"?r.opt.development_extensions.expect_and_symbol_form?this.and_term=r.getTerm("and","symbol",0):this.and_term="&":r.inheritOpt(this,"and")==="none"&&(this.and_term=r.tmp.institution_delimiter),typeof this.and_term=="undefined"&&r.tmp.and_term&&(this.and_term=r.tmp.and_term),s.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof r.tmp.institution_delimiter=="string"&&(this.and_prefix_multiple=r.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),r.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=r.tmp.institution_delimiter:r.inheritOpt(this,"delimiter-precedes-last")==="never"&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},typeof this.and_term!="undefined"?(r.output.append(this.and_term,"empty",!0),this.and.single=r.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,r.output.append(this.and_term,"empty",!0),this.and.multiple=r.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):this.strings.delimiter!=="undefined"&&(this.and.single=new s.Blob(r.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new s.Blob(r.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),r.nameOutput.institution=this};this.execs.push(i)}t.push(this)},configure:function(e){[s.SINGLETON,s.START].indexOf(this.tokentype)>-1&&(e.build.has_institution=!0)}},s.Node["institution-part"]={build:function(e,t){var i;this.strings.name==="long"?this.strings["if-short"]?i=function(r){r.nameOutput.institutionpart["long-with-short"]=this}:i=function(r){r.nameOutput.institutionpart.long=this}:this.strings.name==="short"&&(i=function(r){r.nameOutput.institutionpart.short=this}),this.execs.push(i),t.push(this)}},s.Node.key={build:function(e,t){t=e[e.build.root+"_sort"].tokens;var i,r=!1,a=new s.Token("key",s.START);e.tmp.root=e.build.root,a.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),a.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),a.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),i=function(y){y.tmp.done_vars=[]},a.execs.push(i),i=function(y){y.output.openLevel("empty")},a.execs.push(i);var n=[];if(this.strings.sort_direction===s.DESCENDING?(n.push(1),n.push(-1)):(n.push(-1),n.push(1)),e[e.build.area].opt.sort_directions.push(n),s.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(e.build.date_key=!0),i=function(y){y.tmp.sort_key_flag=!0,y.inheritOpt(this,"et-al-min")&&(y.tmp["et-al-min"]=y.inheritOpt(this,"et-al-min")),y.inheritOpt(this,"et-al-use-first")&&(y.tmp["et-al-use-first"]=y.inheritOpt(this,"et-al-use-first")),typeof y.inheritOpt(this,"et-al-use-last")=="boolean"&&(y.tmp["et-al-use-last"]=y.inheritOpt(this,"et-al-use-last"))},a.execs.push(i),t.push(a),this.variables.length){var o=this.variables[0];if(s.NAME_VARIABLES.indexOf(o)>-1){var l=new s.Token("names",s.START);l.tokentype=s.START,l.variables=this.variables,s.Node.names.build.call(l,e,t);var m=new s.Token("name",s.SINGLETON);m.tokentype=s.SINGLETON,m.strings["name-as-sort-order"]="all",m.strings["sort-separator"]=" ",m.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),m.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),m.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),s.Node.name.build.call(m,e,t);var p=new s.Token("institution",s.SINGLETON);p.tokentype=s.SINGLETON,s.Node.institution.build.call(p,e,t);var f=new s.Token("names",s.END);f.tokentype=s.END,s.Node.names.build.call(f,e,t)}else{var h=new s.Token("text",s.SINGLETON);if(h.strings.sort_direction=this.strings.sort_direction,h.dateparts=this.dateparts,s.NUMERIC_VARIABLES.indexOf(o)>-1)o==="citation-number"?i=function(y,x){if(y.tmp.area==="bibliography_sort"&&(this.strings.sort_direction===s.DESCENDING?y.bibliography_sort.opt.citation_number_sort_direction=s.DESCENDING:y.bibliography_sort.opt.citation_number_sort_direction=s.ASCENDING),y.tmp.area==="citation_sort"&&y.bibliography_sort.tmp.citation_number_map)var b=y.bibliography_sort.tmp.citation_number_map[y.registry.registry[x.id].seq];else var b=y.registry.registry[x.id].seq;b&&(b=s.Util.padding(""+b)),y.output.append(b,this)}:i=function(y,x){var b=!1;b=x[o],b&&(b=s.Util.padding(b)),y.output.append(b,this)};else if(o==="citation-label")i=function(y,x){var b=y.getCitationLabel(x);y.output.append(b,this)};else if(s.DATE_VARIABLES.indexOf(o)>-1)i=s.dateAsSortKey,h.variables=this.variables;else if(o==="title"){var u="title",d=!1,v=!1,c=!0;i=e.transform.getOutputFunction(this.variables,u,d,v,c)}else o==="court-class"?i=function(y,x,b){s.INIT_JURISDICTION_MACROS(y,x,b,"juris-main");var A=s.GET_COURT_CLASS(y,x,!0);y.output.append(A,"empty")}:i=function(y,x){var b=x[o];y.output.append(b,"empty")};h.execs.push(i),t.push(h)}}else{var S=new s.Token("text",s.SINGLETON);S.strings.sort_direction=this.strings.sort_direction,S.postponed_macro=this.postponed_macro,s.expandMacro.call(e,S,t)}var g=new s.Token("key",s.END);i=function(y){var x=y.output.string(y,y.output.queue);y.sys.normalizeUnicode&&(x=y.sys.normalizeUnicode(x)),x=x?x.split(" ").join(y.opt.sort_sep)+y.opt.sort_sep:"",r&&s.debug("keystring: "+x+" "+typeof x),x===""&&(x=void 0),typeof x!="string"&&(x=void 0),y[y[y.tmp.area].root+"_sort"].keys.push(x),y.tmp.value=[]},g.execs.push(i),e.build.date_key&&(e.build.area==="citation"&&e.build.extension==="_sort"&&(e[e.build.area].opt.sort_directions.push([-1,1]),i=function(y,x){var b=y.registry.registry[x.id].disambig.year_suffix;b||(b=0);var A=s.Util.padding(""+b);y[y.tmp.area].keys.push(A)},g.execs.push(i)),e.build.date_key=!1),i=function(y){y.tmp["et-al-min"]=void 0,y.tmp["et-al-use-first"]=void 0,y.tmp["et-al-use-last"]=void 0,y.tmp.sort_key_flag=!1},g.execs.push(i),t.push(g)}},s.Node.label={build:function(e,t){if(this.strings.term){var i=function(l,m,p){var f=s.evaluateLabel(this,l,m,p);p&&this.strings.term==="locator"&&(p.section_form_override=this.strings.form),f&&(l.tmp.group_context.tip.term_intended=!0),s.UPDATE_GROUP_CONTEXT_CONDITION(l,f,null,this),f.indexOf("%s")===-1&&(this.strings.capitalize_if_first&&!l.tmp.term_predecessor&&!(l.opt.class==="in-text"&&l.tmp.area==="citation")&&(f=s.Output.Formatters["capitalize-first"](l,f)),l.output.append(f,this))};this.execs.push(i)}else{this.strings.form||(this.strings.form="long");for(var r=e.build.names_variables[e.build.names_variables.length-1],a=e.build.name_label[e.build.name_label.length-1],n=0,o=r.length;n<o;n+=1)a[r[n]]||(a[r[n]]={});if(e.build.name_flag)for(var n=0,o=r.length;n<o;n+=1)a[r[n]].after=this;else for(var n=0,o=r.length;n<o;n+=1)a[r[n]].before=this}t.push(this)}},s.Node.layout={build:function(e,t){var i,r,a,n;function o(){e.build.area==="bibliography"&&(a=new s.Token("text",s.SINGLETON),i=function(p){if(!p.tmp.parallel_and_not_last){var f;p.tmp.cite_affixes[p.tmp.area][p.tmp.last_cite_locale]?f=p.tmp.cite_affixes[p.tmp.area][p.tmp.last_cite_locale].suffix:f=p.bibliography.opt.layout_suffix;var h=p.output.current.value();p.opt.using_display?h.blobs[h.blobs.length-1].strings.suffix=f:h.strings.suffix=f}p.bibliography.opt["second-field-align"]&&p.output.endTag("bib_other")},a.execs.push(i),t.push(a))}this.tokentype===s.START&&(this.locale_raw?e.build.current_default_locale=this.locale_raw:e.build.current_default_locale=e.opt["default-locale"],i=function(p,f,h){if(p.opt.development_extensions.apply_citation_wrapper&&p.sys.wrapCitationEntry&&!p.tmp.just_looking&&f.system_id&&p.tmp.area==="citation"){var u=new s.Token("group",s.START);u.decorations=[["@cite","entry"]],p.output.startTag("cite_entry",u),p.output.current.value().item_id=f.system_id,h&&(p.output.current.value().locator_txt=h.locator_txt,p.output.current.value().suffix_txt=h.suffix_txt)}},this.execs.push(i)),this.tokentype===s.START&&!e.tmp.cite_affixes[e.build.area]&&(i=function(p,f,h){if(p.tmp.done_vars=[],h&&h["author-only"]&&p.tmp.done_vars.push("locator"),p.opt.suppressedJurisdictions[f.country]&&f.country&&["treaty","patent"].indexOf(f.type)===-1&&p.tmp.done_vars.push("country"),!p.tmp.just_looking&&p.registry.registry[f.id]&&p.registry.registry[f.id].parallel&&p.tmp.done_vars.push("first-reference-note-number"),!p.tmp.just_looking&&p.tmp.abbrev_trimmer&&f.jurisdiction)for(var u in p.tmp.abbrev_trimmer.QUASHES[f.jurisdiction])p.tmp.done_vars.push(u);p.tmp.rendered_name=!1},this.execs.push(i),i=function(p){p.tmp.sort_key_flag=!1},this.execs.push(i),i=function(p){p.tmp.nameset_counter=0},this.execs.push(i),i=function(p,f){var h=new s.Token;p.output.openLevel(h)},this.execs.push(i),t.push(this),e.build.area==="citation"&&(r=new s.Token("text",s.SINGLETON),i=function(p,f,h){if(h&&h.prefix){var u=s.checkPrefixSpaceAppend(p,h.prefix);p.tmp.just_looking||(u=p.output.checkNestedBrace.update(u));var d=s.checkIgnorePredecessor(p,u);p.output.append(u,this,!1,d)}},r.execs.push(i),t.push(r)));var l;if(this.locale_raw&&(l=new s.Token("dummy",s.START),l.locale=this.locale_raw,l.strings.delimiter=this.strings.delimiter,l.strings.suffix=this.strings.suffix,e.tmp.cite_affixes[e.build.area]||(e.tmp.cite_affixes[e.build.area]={})),this.tokentype===s.START&&(e.build.layout_flag=!0,this.locale_raw||(e[e.tmp.area].opt.topdecor=[this.decorations],e[e.tmp.area+"_sort"].opt.topdecor=[this.decorations],e[e.build.area].opt.layout_prefix=this.strings.prefix,e[e.build.area].opt.layout_suffix=this.strings.suffix,e[e.build.area].opt.layout_delimiter=this.strings.delimiter,e[e.build.area].opt.layout_decorations=this.decorations,e.tmp.cite_affixes[e.build.area]&&(n=new s.Token("else",s.START),s.Node.else.build.call(n,e,t))),this.locale_raw)){if(e.build.layout_locale_flag)l.name="else-if",s.Attributes["@locale-internal"].call(l,e,this.locale_raw),s.Node["else-if"].build.call(l,e,t);else{var m=new s.Token("choose",s.START);s.Node.choose.build.call(m,e,t),l.name="if",s.Attributes["@locale-internal"].call(l,e,this.locale_raw),s.Node.if.build.call(l,e,t)}e.tmp.cite_affixes[e.build.area][l.locale]={},e.tmp.cite_affixes[e.build.area][l.locale].delimiter=this.strings.delimiter,e.tmp.cite_affixes[e.build.area][l.locale].suffix=this.strings.suffix}this.tokentype===s.END&&(this.locale_raw&&(o(),e.build.layout_locale_flag?(l.name="else-if",l.tokentype=s.END,s.Attributes["@locale-internal"].call(l,e,this.locale_raw),s.Node["else-if"].build.call(l,e,t)):(l.name="if",l.tokentype=s.END,s.Attributes["@locale-internal"].call(l,e,this.locale_raw),s.Node.if.build.call(l,e,t),e.build.layout_locale_flag=!0)),this.locale_raw||(o(),e.tmp.cite_affixes[e.build.area]&&e.build.layout_locale_flag&&(n=new s.Token("else",s.END),s.Node.else.build.call(n,e,t),n=new s.Token("choose",s.END),s.Node.choose.build.call(n,e,t)),e.build_layout_locale_flag=!0,e.build.area==="citation"&&(a=new s.Token("text",s.SINGLETON),i=function(p,f,h){var u;if(h&&h.suffix){var d=s.checkSuffixSpacePrepend(p,h.suffix);p.tmp.just_looking||(d=p.output.checkNestedBrace.update(d)),p.output.append(d,this)}},a.execs.push(i),t.push(a)),i=function(p){p.output.closeLevel()},this.execs.push(i),i=function(p,f){p.opt.development_extensions.apply_citation_wrapper&&p.sys.wrapCitationEntry&&!p.tmp.just_looking&&f.system_id&&p.tmp.area==="citation"&&p.output.endTag()},this.execs.push(i),t.push(this),e.build.layout_flag=!1,e.build.layout_locale_flag=!1))}},s.Node.macro={build:function(){}},s.Node.alternative={build:function(e,t){if(this.tokentype===s.START){var i=new s.Token("choose",s.START);s.Node.choose.build.call(i,e,t);var r=new s.Token("if",s.START);s.Attributes["@alternative-node-internal"].call(r,e),s.Node.if.build.call(r,e,t);var a=function(n,o){if(n.tmp.oldItem=o,n.tmp.oldLang=n.opt.lang,n.tmp.abort_alternative=!0,o["language-name"]&&o["language-name-original"]){var l=JSON.parse(JSON.stringify(o));l.language=l["language-name"];var m=s.localeResolve(l.language,n.opt["default-locale"][0]);if(n.opt.multi_layout)for(var p in n.opt.multi_layout){var f=n.opt.multi_layout[p],h=!1;for(var u in f){var d=f[u];if(m.best===d.best||m.base===d.base||m.bare===d.bare){h=f[0].best;break}}h||(h=n.opt["default-locale"][0]),n.opt.lang=h}for(var v in l)if(["id","type","language","multi"].indexOf(v)===-1&&v.slice(0,4)!=="alt-")if(l.multi&&l.multi._keys[v]){var c=!0;for(var S in l.multi._keys[v])if(m.bare===S.replace(/^([a-zA-Z]+).*/,"$1")){c=!1;break}c&&delete l[v]}else delete l[v];for(var v in l)v.slice(0,4)==="alt-"?(l[v.slice(4)]=l[v],n.tmp.abort_alternative=!1):l.multi&&l.multi._keys&&!l["alt-"+v]&&l.multi._keys[v]&&(l.multi._keys[v][m.best]?(l[v]=l.multi._keys[v][m.best],n.tmp.abort_alternative=!1):l.multi._keys[v][m.base]?(l[v]=l.multi._keys[v][m.base],n.tmp.abort_alternative=!1):l.multi._keys[v][m.bare]&&(l[v]=l.multi._keys[v][m.bare],n.tmp.abort_alternative=!1))}n.output.openLevel(this),n.registry.refhash[o.id]=l,n.nameOutput=new s.NameOutput(n,l)};this.execs.push(a),t.push(this);var i=new s.Token("choose",s.START);s.Node.choose.build.call(i,e,t);var r=new s.Token("if",s.START);s.Attributes["@alternative-node-internal"].call(r,e);var a=function(n){n.tmp.abort_alternative=!0};r.execs.push(a),s.Node.if.build.call(r,e,t)}else if(this.tokentype===s.END){var r=new s.Token("if",s.END);s.Node.if.build.call(r,e,t);var i=new s.Token("choose",s.END);s.Node.choose.build.call(i,e,t);var a=function(m,p){m.output.closeLevel(),m.registry.refhash[p.id]=m.tmp.oldItem,m.opt.lang=m.tmp.oldLang,m.nameOutput=new s.NameOutput(m,m.tmp.oldItem),m.tmp.abort_alternative=!1};this.execs.push(a),t.push(this);var r=new s.Token("if",s.END);s.Node.if.build.call(r,e,t);var i=new s.Token("choose",s.END);s.Node.choose.build.call(i,e,t)}}},s.Node["alternative-text"]={build:function(e,t){if(this.tokentype===s.SINGLETON){var i=function(r,n){var n=r.refetchItem(n.id);s.getCite.call(r,n)};this.execs.push(i)}t.push(this)}},s.NameOutput=function(e,t,i){this.debug=!1,this.state=e,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},s.NameOutput.prototype.init=function(e){this.requireMatch=e.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=e,this.variables=e.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,i=this.variables.length;t<i;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],!!this.state.tmp.value.length){var r=this.checkCommonAuthor(this.requireMatch);if(r){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var t in this.variables){var a=this.state.tmp.done_vars.indexOf(this.variables[t]);a>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,a).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}}},s.NameOutput.prototype.reinit=function(e,t){if(this.requireMatch=e.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=e.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var r=0,a=this.variables.length;r<a;r+=1)this.Item[this.variables[r]]&&this.Item[this.variables[r]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[r]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,s.LITERAL),this.state.tmp.value=i}var n=this.checkCommonAuthor(this.requireMatch);if(n){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var r in this.variables){var o=this.state.tmp.done_vars.indexOf(this.variables[r]);o>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,o).concat(this.state.tmp.done_vars.slice(r+1)))}this.variables=[]}},s.NameOutput.prototype.outputNames=function(){var e,t,i=this.variables;if(this.institution.and&&((!this.institution.and.single.blobs||!this.institution.and.single.blobs.length)&&(this.institution.and.single.blobs=this.name.and.single.blobs),(!this.institution.and.multiple.blobs||!this.institution.and.multiple.blobs.length)&&(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=s.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",e=0,t=this.family.execs.length;e<t;e+=1)this.family.execs[e].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=s.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",e=0,t=this.given.execs.length;e<t;e+=1)this.given.execs[e].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),this.name.strings.form==="count"){(this.state.tmp.extension||this.names_count!=0)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0);return}this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var r=[];for(e=0,t=i.length;e<t;e+=1){var a=i[e],n=[],o=!1,l=null;if(!this.state.opt.development_extensions.spoof_institutional_affiliations)l=this._join([this.freeters[a]],"");else{this.debug&&this.state.sys.print("(11a)");for(var m=0,p=this.institutions[a].length;m<p;m+=1)n.push(this.joinPersonsAndInstitutions([this.persons[a][m],this.institutions[a][m]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[a].length){var f=this.nameset_base+this.variable_offset[a];this.freeters[a].length&&(f+=1),o=this.joinInstitutionSets(n,f)}this.debug&&this.state.sys.print("(11c)");var l=this.joinFreetersAndInstitutionSets([this.freeters[a],o]);this.debug&&this.state.sys.print("(11d)")}if(l&&(this.state.tmp.extension||(l=this._applyLabels(l,a)),r.push(l)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),e=0,t=r.length;e<t;e+=1)this.state.output.append(r[e],"literal",!0);!this.state.tmp.just_looking&&r.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var h=this.state.output.pop();this.state.tmp.name_node.top=h,this.debug&&this.state.sys.print("(16)");var u=s.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&s.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(h,u),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),i[0]!=="authority"){var d=[],v=this.Item[i[0]];if(v)for(var e=0,t=v.length;e<t;e+=1){var c=s.Util.Names.getRawName(v[e]);c&&d.push(c)}d=d.join(", "),d&&(this.state.tmp.name_node.string=d)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),this.Item.type==="classic"&&this.state.tmp.first_name_string){var S=[];S.push(this.state.tmp.first_name_string),this.Item.title&&S.push(this.Item.title),S=S.join(", "),S&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(S=this.state.sys.normalizeAbbrevsKey("classic",S)),this.state.transform.loadAbbreviation("default","classic",S,this.Item.language),this.state.transform.abbrevs.default.classic[S]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[S],"empty",!0),h=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(h)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")},s.NameOutput.prototype._applyLabels=function(e,t){var i;if(!this.label||!this.label[this.labelVariable])return e;var r=0,a=this.freeters_count[t]+this.institutions_count[t];if(a>1)r=1;else{for(var n=0,o=this.persons[t].length;n<o;n+=1)a+=this.persons_count[t][n];a>1&&(r=1)}return this.label[this.labelVariable].before?(typeof this.label[this.labelVariable].before.strings.plural=="number"&&(r=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(t,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(e,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()):this.label[this.labelVariable].after&&(typeof this.label[this.labelVariable].after.strings.plural=="number"&&(r=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(t,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()),e},s.NameOutput.prototype._buildLabel=function(e,t,i,r){this.common_term&&(e=this.common_term);var a=!1,n=this.label[r][i];return n&&(a=s.castLabel(this.state,n,e,t,s.TOLERANT)),a},s.NameOutput.prototype._collapseAuthor=function(){var e,t,i;this.state.tmp.name_node.top.blobs.length!==0&&(this.nameset_base===0&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=t):!this.state.tmp.just_looking&&!this.state.tmp.suppress_decorations&&(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)&&(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&this.Item.type!=="legal_case"&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},s.NameOutput.prototype.isPerson=function(e){return!(e.literal||!e.given&&e.family&&e.isInstitution)},s.NameOutput.prototype.truncatePersonalNameLists=function(){var e,t,i,r,a,n,o;this.freeters_count={},this.persons_count={},this.institutions_count={};for(e in this.freeters)this.freeters.hasOwnProperty(e)&&(this.freeters_count[e]=this.freeters[e].length,this.freeters[e]=this._truncateNameList(this.freeters,e));for(e in this.persons)if(this.persons.hasOwnProperty(e))for(this.institutions_count[e]=this.institutions[e].length,this._truncateNameList(this.institutions,e),this.persons[e]=this.persons[e].slice(0,this.institutions[e].length),this.persons_count[e]=[],r=0,a=this.persons[e].length;r<a;r+=1)this.persons_count[e][r]=this.persons[e][r].length,this.persons[e][r]=this._truncateNameList(this.persons,e,r);if(this.state.opt.development_extensions.etal_min_etal_usefirst_hack&&this.etal_min===1&&this.etal_use_first===1&&!(this.state.tmp.extension||this.state.tmp.just_looking)?n=e:n=!1,n||this._please_chop)for(t=0,i=this.variables.length;t<i;t+=1){e=this.variables[t],this.freeters[e].length&&(this._please_chop===e?(this.freeters[e]=this.freeters[e].slice(1),this.freeters_count[e]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.freeters[e]=this.freeters[e].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=n));for(var r=0,a=this.persons[e].length;r<a;r++)if(this.persons[e][r].length){if(this._please_chop===e){this.persons[e][r]=this.persons[e][r].slice(1),this.persons_count[e][r]+=-1,this._please_chop=!1;break}else if(n&&!this._please_chop){this.freeters[e]=this.persons[e][r].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],o=[],this._please_chop=n;break}}this.institutions[e].length&&(this._please_chop===e?(this.institutions[e]=this.institutions[e].slice(1),this.institutions_count[e]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.institutions[e]=this.institutions[e].slice(0,1),this.institutions_count[e]=1,o=[],this._please_chop=n))}for(t=0,i=this.variables.length;t<i;t+=1){this.institutions[e].length&&(this.nameset_offset+=1);for(var r=0,a=this.persons[e].length;r<a;r++)this.persons[e][r].length&&(this.nameset_offset+=1)}},s.NameOutput.prototype._truncateNameList=function(e,t,i){var r;if(typeof i=="undefined"?r=e[t]:r=e[t][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&r.length>50&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var a=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,a+1).concat(r.slice(-1))}return r},s.NameOutput.prototype.divideAndTransliterateNames=function(){var e,t,i,r,a=this.Item,n=this.variables;for(this.varnames=n.slice(),this.freeters={},this.persons={},this.institutions={},e=0,t=n.length;e<t;e+=1){var o=n[e];this.variable_offset[o]=this.nameset_offset;var l=this._normalizeVariableValue(a,o);if(this.name.strings["suppress-min"]&&l.length>=this.name.strings["suppress-min"]&&(l=[]),this.name.strings["suppress-max"]&&l.length<=this.name.strings["suppress-max"]&&(l=[]),this._getFreeters(o,l),this._getPersonsAndInstitutions(o,l),this.state.opt.development_extensions.spoof_institutional_affiliations){if(this.name.strings["suppress-min"]===0)for(this.freeters[o]=[],i=0,r=this.persons[o].length;i<r;i+=1)this.persons[o][i]=[];else if(this.institution.strings["suppress-min"]===0){for(this.institutions[o]=[],this.freeters[o]=this.freeters[o].concat(this.persons[o]),i=0,r=this.persons[o].length;i<r;i+=1)for(var m=0,p=this.persons[o][i].length;m<p;m+=1)this.freeters[o].push(this.persons[o][i][m]);this.persons[o]=[]}}}},s.NameOutput.prototype._normalizeVariableValue=function(e,t){var i;return typeof e[t]=="string"||typeof e[t]=="number"?(s.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),i=[{literal:e[t]+""}]):e[t]?(typeof e[t].length!="number"&&(s.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),e[t]=[e[t]]),i=e[t].slice()):i=[],i},s.NameOutput.prototype._getFreeters=function(e,t){if(this.freeters[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=t.length-1;i>-1&&this.isPerson(t[i]);i--){var r=this._checkNickname(t.pop());r&&this.freeters[e].push(r)}else for(var i=t.length-1;i>-1;i--){var r=t.pop();if(this.isPerson(r))var r=this._checkNickname(r);this.freeters[e].push(r)}this.freeters[e].reverse(),this.freeters[e].length&&(this.nameset_offset+=1)},s.NameOutput.prototype._getPersonsAndInstitutions=function(e,t){if(this.persons[e]=[],this.institutions[e]=[],!!this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],r=!1,a=!0,n=t.length-1;n>-1;n+=-1)if(this.isPerson(t[n])){var o=this._checkNickname(t[n]);o&&i.push(o)}else r=!0,this.institutions[e].push(t[n]),a||(i.reverse(),this.persons[e].push(i),i=[]),a=!1;r&&(i.reverse(),this.persons[e].push(i),this.persons[e].reverse(),this.institutions[e].reverse())}},s.NameOutput.prototype._clearValues=function(e){for(var t=e.length-1;t>-1;t+=-1)e.pop()},s.NameOutput.prototype._checkNickname=function(e){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t="";if(t=s.Util.Names.getRawName(e),t&&this.state.sys.getAbbreviation&&!(this.item&&this.item["suppress-author"])){var i=t;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",i,this.Item.language);var r=this.state.transform.abbrevs.default.nickname[i];r&&(r==="!here>>>"?e=!1:e={family:r,given:""})}}return e},s.NameOutput.prototype._purgeEmptyBlobs=function(e){for(var t=e.length-1;t>-1;t+=-1)(!e[t]||e[t].length===0||!e[t].blobs.length)&&(e=e.slice(0,t).concat(e.slice(t+1)));return e},s.NameOutput.prototype.joinPersons=function(e,t,i,r){var a;return e=this._purgeEmptyBlobs(e),r||(r="name"),typeof i=="undefined"?this.etal_spec[t].freeters===1?a=this._joinEtAl(e):this.etal_spec[t].freeters===2?a=this._joinEllipsis(e):this.state.tmp.sort_key_flag?a=this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):a=this._joinAnd(e):this.etal_spec[t].persons[i]===1?a=this._joinEtAl(e):this.etal_spec[t].persons[i]===2?a=this._joinEllipsis(e):this.state.tmp.sort_key_flag?a=this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):a=this._joinAnd(e),a},s.NameOutput.prototype.joinInstitutionSets=function(e,t){var i;return e=this._purgeEmptyBlobs(e),this.etal_spec[t].institutions===1?i=this._joinEtAl(e,"institution"):this.etal_spec[t].institutions===2?i=this._joinEllipsis(e,"institution"):i=this._joinAnd(e),i},s.NameOutput.prototype.joinPersonsAndInstitutions=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,this.state.tmp.name_delimiter);return t.isInstitution=!0,t},s.NameOutput.prototype.joinFreetersAndInstitutionSets=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,"[never here]",this.with.single,this.with.multiple);return t},s.NameOutput.prototype._getAfterInvertedName=function(e,t,i){if(i&&e.length>1&&this.state.inheritOpt(this.name,"delimiter-precedes-last")==="after-inverted-name"){var r=e[e.length-2];r.blobs.length>0&&r.blobs[0].isInverted&&(i.strings.prefix=t)}return i},s.NameOutput.prototype._getAndJoin=function(e,t){var i=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),e[e.length-1].isInstitution?i=this.institution.and[r]:i=this.name.and[r],i=JSON.parse(JSON.stringify(i)),i=this._getAfterInvertedName(e,t,i)}return i},s.NameOutput.prototype._joinEtAl=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=this._join(e,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),e.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):e.length===1&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},s.NameOutput.prototype._joinEllipsis=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),i=JSON.parse(JSON.stringify(this.name.ellipsis[r])),i=this._getAfterInvertedName(e,t,i)}return this._join(e,t,i)},s.NameOutput.prototype._joinAnd=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=this._getAndJoin(e,t);return this._join(e,t,i)},s.NameOutput.prototype._join=function(e,t,i){var r,a;if(!e||(e=this._purgeEmptyBlobs(e),!e.length))return!1;if(e.length>1)if(e.length===2)i?e=[e[0],i,e[1]]:e[0].strings.suffix+=t;else{var n;i?n=1:n=0;for(var o=e.pop(),r=0,a=e.length-n;r<a;r++)e[r].strings.suffix+=t;e.push(i),e.push(o)}for(this.state.output.openLevel(),r=0,a=e.length;r<a;r+=1)this.state.output.append(e[r],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},s.NameOutput.prototype._getToken=function(e){var t=this[e];if(e==="institution"){var i=new s.Token;return i}return t},s.NameOutput.prototype.checkCommonAuthor=function(e){if(!e)return!1;var t=!1;if(this.variables.length===2){var i=this.variables,r=i.slice();r.sort(),t=r.join("")}if(!t)return!1;var a=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(a=!0),!a)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var n=this.Item[this.variables[0]],o=this.Item[this.variables[1]],l=this._compareNamesets(n,o);return l===!0&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!l},s.NameOutput.prototype.setCommonTerm=function(){var e=this.variables,t=e.slice();if(t.sort(),this.common_term=t.join(""),!!this.common_term){var i=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?i=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(i=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!i||this.variables.length<2){this.common_term=!1;return}for(var r=0,a=0,n=this.variables.length-1;a<n;a+=1){var o=this.variables[a],l=this.variables[a+1];if(this.freeters[o].length||this.freeters[l].length){if(this.etal_spec[o].freeters!==this.etal_spec[l].freeters||!this._compareNamesets(this.freeters[o],this.freeters[l])){this.common_term=!1;return}r+=1}if(this.persons[o].length!==this.persons[l].length){this.common_term=!1;return}for(var m=0,p=this.persons[o].length;m<p;m+=1)if(this.etal_spec[o].persons[m]!==this.etal_spec[l].persons[m]||!this._compareNamesets(this.persons[o][m],this.persons[l][m])){this.common_term=!1;return}}}},s.NameOutput.prototype._compareNamesets=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var i=0,r=t.length;i<r;i+=1)for(var a=0,n=s.NAME_PARTS.length;a<n;a+=1){var o=s.NAME_PARTS[a];if(!e[i]||e[i][o]!=t[i][o])return!1}return!0},s.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var e,t=0,i=this.variables.length;t<i;t+=1){var r=this.variables[t];e=this.nameset_base+t,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,e),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,e),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var a=0,n=this.persons[r].length;a<n;a+=1)this.persons[r][a].length&&(this.state.tmp.names_max.push(this.persons[r][a].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],a,e),this.names_count+=this.persons[r][a].length)}},s.NameOutput.prototype._imposeNameConstraints=function(e,t,i,r){var a=e[i],n=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?n=this.state.tmp.disambig_request.names[r]:t[i]>=this.etal_min&&(n=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?t[i]<this.etal_min?n=t[i]:n=this.state.tmp.disambig_request.names[r]:t[i]>=this.etal_min&&(n=this.etal_use_first),this.etal_use_last&&n>this.etal_min-2&&(n=this.etal_min-2));var o=this.etal_min>=this.etal_use_first,l=t[i]>n;n>t[i]&&(n=a.length),o&&l&&(this.etal_use_last?e[i]=a.slice(0,n).concat(a.slice(-1)):e[i]=a.slice(0,n)),this.state.tmp.disambig_settings.names[r]=e[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},s.NameOutput.prototype.disambigNames=function(){for(var e,t=0,i=this.variables.length;t<i;t+=1){var r=this.variables[t];if(e=this.nameset_base+t,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],e),this.institutions[r].length){typeof this.state.tmp.disambig_settings.givens[e]=="undefined"&&(this.state.tmp.disambig_settings.givens[e]=[]);for(var a=0,n=this.institutions[r].length;a<n;a+=1)typeof this.state.tmp.disambig_settings.givens[e][a]=="undefined"&&this.state.tmp.disambig_settings.givens[e].push(2)}for(var a=0,n=this.persons[r].length;a<n;a+=1)this.persons[r][a].length&&this._runDisambigNames(this.persons[r][a],e)}},s.NameOutput.prototype._runDisambigNames=function(e,t){var i,r,a,n,o,l,m;for(o=0,l=e.length;o<l;o+=1)if(!(!e[o].given&&!e[o].family)){if(a=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,e[o],o),i=this.state.tmp.disambig_settings.givens[t],typeof i=="undefined")for(var p=0,f=t+1;p<f;p+=1)this.state.tmp.disambig_settings.givens[p]||(this.state.tmp.disambig_settings.givens[p]=[]);if(i=this.state.tmp.disambig_settings.givens[t][o],typeof i=="undefined"&&(r=this.state.inheritOpt(this.name,"form","name-form","long"),n=this.state.registry.namereg.evalname(""+this.Item.id,e[o],o,0,r,a),this.state.tmp.disambig_settings.givens[t].push(n)),r=this.state.inheritOpt(this.name,"form","name-form","long"),m=this.state.registry.namereg.evalname(""+this.Item.id,e[o],o,0,r,a),this.state.tmp.disambig_request){var h=this.state.tmp.disambig_settings.givens[t][o];h===1&&this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(typeof this.state.inheritOpt(this.name,"initialize-with")=="undefined"||typeof e[o].given=="undefined")&&(h=2),n=h,this.state.opt["disambiguate-add-givenname"]&&e[o].given&&(n=this.state.registry.namereg.evalname(""+this.Item.id,e[o],o,n,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else n=m;!this.state.tmp.just_looking&&this.item&&this.item.position===s.POSITION_FIRST&&m>n&&(n=m),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][o]=n,typeof a=="string"&&(typeof this.name.strings.initialize=="undefined"||this.name.strings.initialize===!0)&&(this.state.tmp.disambig_settings.use_initials=!0))}},s.NameOutput.prototype.getEtAlConfig=function(){var e=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,typeof e=="undefined"&&(e={}),e.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),typeof this.state.tmp["et-al-use-last"]=="boolean"?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},s.NameOutput.prototype.setEtAlParameters=function(){var e,t,i,r;for(e=0,t=this.variables.length;e<t;e+=1){var a=this.variables[e];for(typeof this.etal_spec[a]=="undefined"&&(this.etal_spec[a]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+e]=this.etal_spec[a],this.freeters[a].length&&this._setEtAlParameter("freeters",a),i=0,r=this.persons[a].length;i<r;i+=1)typeof this.etal_spec[a][i]=="undefined"&&(this.etal_spec[a].persons[i]=0),this._setEtAlParameter("persons",a,i);this.institutions[a].length&&this._setEtAlParameter("institutions",a)}},s.NameOutput.prototype._setEtAlParameter=function(e,t,i){var r,a;e==="persons"?(r=this.persons[t][i],a=this.persons_count[t][i]):(r=this[e][t],a=this[e+"_count"][t]),r.length<a&&!this.state.tmp.sort_key_flag?this.etal_use_last?e==="persons"?this.etal_spec[t].persons[i]=2:this.etal_spec[t][e]=2:e==="persons"?this.etal_spec[t].persons[i]=1:this.etal_spec[t][e]=1:e==="persons"?this.etal_spec[t].persons[i]=0:this.etal_spec[t][e]=0},s.NameOutput.prototype.renderAllNames=function(){for(var e,t=0,i=this.variables.length;t<i;t+=1){var r=this.variables[t];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),e=this.nameset_base+t,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],e));for(var a=0,n=this.institutions[r].length;a<n;a+=1)this.persons[r][a]=this._renderNames(r,this.persons[r][a],e,a)}this.renderInstitutionNames()},s.NameOutput.prototype.renderInstitutionNames=function(){for(var e=0,t=this.variables.length;e<t;e+=1)for(var i=this.variables[e],r=0,a=this.institutions[i].length;r<a;r+=1){var h,n=this.institutions[i][r],r,a,o;this.state.tmp.extension?o=["sort"]:n.isInstitution||n.literal?o=this.state.opt["cite-lang-prefs"].institutions:o=this.state.opt["cite-lang-prefs"].persons;var l={primary:"locale-orig",secondary:!1,tertiary:!1};if(o)for(var m=["primary","secondary","tertiary"],p=0,f=m.length;p<f&&!(o.length-1<p);p+=1)o[p]&&(l[m[p]]="locale-"+o[p]);else l.primary="locale-translat";this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position)&&(l.secondary=!1,l.tertiary=!1),this.setRenderedName(n);var h=this._renderInstitutionName(i,n,l,r);this.institutions[i][r]=h}},s.NameOutput.prototype._renderInstitutionName=function(e,t,i,r){var a,n,o,l,m,p,f,h=this.getName(t,i.primary,!0),u=h.name,d=h.usedOrig;if(u&&(u=this.fixupInstitution(u,e,r)),a=!1,i.secondary){h=this.getName(t,i.secondary,!1,d);var a=h.name;d=h.usedOrig,a&&(a=this.fixupInstitution(a,e,r))}n=!1,i.tertiary&&(h=this.getName(t,i.tertiary,!1,d),n=h.name,n&&(n=this.fixupInstitution(n,e,r)));var v={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(u&&(v.l.pri=u.long,v.s.pri=u.short.length?u.short:u.long),a&&(v.l.sec=a.long,v.s.sec=a.short.length?a.short:a.long),n&&(v.l.ter=n.long,v.s.ter=n.short.length?n.short:n.long),this.institution.strings["institution-parts"]){case"short":u.short.length?(l=this._getShortStyle(),m=[this._composeOneInstitutionPart([v.s.pri,v.s.sec,v.s.ter],i,l,e)]):(o=this._getLongStyle(u,e,r),m=[this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],i,o,e)]);break;case"short-long":o=this._getLongStyle(u,e,r),l=this._getShortStyle(),p=this._renderOneInstitutionPart(u.short,l),f=this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],i,o,e),m=[p,f];break;case"long-short":o=this._getLongStyle(u,e,r),l=this._getShortStyle(),p=this._renderOneInstitutionPart(u.short,l),f=this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],i,o,e),m=[f,p];break;default:o=this._getLongStyle(u,e,r),m=[this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],i,o,e)];break}var c=this._join(m," ");return c&&(c.isInstitution=!0),this.state.tmp.name_node.children.push(c),c},s.NameOutput.prototype._composeOneInstitutionPart=function(e,t,i){var r=!1,a=!1,n=!1,o,l,m;if(e[0]){if(o=s.Util.cloneToken(i),this.state.opt.citeAffixes[t.primary]&&this.state.opt.citeAffixes.institutions[t.primary].prefix==="<i>"){for(var p=!1,f=0,h=o.decorations.length;f<h;f+=1)i.decorations[f][0]==="@font-style"&&o.decorations[f][1]==="italic"&&(p=!0);p||o.decorations.push(["@font-style","italic"])}r=this._renderOneInstitutionPart(e[0],o)}e[1]&&(a=this._renderOneInstitutionPart(e[1],i)),e[2]&&(n=this._renderOneInstitutionPart(e[2],i));var u;if(a||n){this.state.output.openLevel("empty"),this.state.output.append(r),l=s.Util.cloneToken(i),t.secondary&&(l.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,l.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,l.strings.prefix||(l.strings.prefix=" "));var d=new s.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(a,l),this.state.output.closeLevel(),m=s.Util.cloneToken(i),t.tertiary&&(m.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,m.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,m.strings.prefix||(m.strings.prefix=" "));var v=new s.Token;v.decorations.push(["@font-style","normal"]),v.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(v),this.state.output.append(n,m),this.state.output.closeLevel(),this.state.output.closeLevel(),u=this.state.output.pop()}else u=r;return u},s.NameOutput.prototype._renderOneInstitutionPart=function(e,t){for(var i=0,r=e.length;i<r;i+=1)if(e[i]){var a=e[i];if(this.state.tmp.strip_periods)a=a.replace(/\./g,"");else for(var n=0,o=t.decorations.length;n<o;n+=1)if(t.decorations[n][0]==="@strip-periods"&&t.decorations[n][1]==="true"){a=a.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,s.LITERAL),a==="!here>>>"?e[i]=!1:(this.state.output.append(a,t,!0),e[i]=this.state.output.pop())}return typeof this.institution.strings["part-separator"]=="undefined"&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(e,this.institution.strings["part-separator"])},s.NameOutput.prototype._renderNames=function(e,t,i,r){var a=!1;if(t.length){for(var n=[],o=0,l=t.length;o<l;o+=1){var m=t[o],a,p;this.state.tmp.extension?p=["sort"]:m.isInstitution||m.literal?p=this.state.opt["cite-lang-prefs"].institutions:p=this.state.opt["cite-lang-prefs"].persons;var f={primary:"locale-orig",secondary:!1,tertiary:!1};if(p)for(var h=["primary","secondary","tertiary"],u=0,d=h.length;u<d&&!(p.length-1<u);u+=1)f[h[u]]="locale-"+p[u];else f.primary="locale-translat";if((this.state.tmp.sort_key_flag||this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position))&&(f.secondary=!1,f.tertiary=!1),this.setRenderedName(m),!m.literal&&!m.isInstitution){var v=this._renderPersonalName(e,m,f,i,o,r),c=s.Util.cloneToken(this.name);this.state.output.append(v,c,!0),n.push(this.state.output.pop())}else n.push(this._renderInstitutionName(e,m,f,r))}a=this.joinPersons(n,i,r)}return a},s.NameOutput.prototype._renderPersonalName=function(e,t,i,r,a,n){var o=this.getName(t,i.primary,!0),l=this._renderOnePersonalName(o.name,r,a,n),m=!1;i.secondary&&(o=this.getName(t,i.secondary,!1,o.usedOrig),o.name&&(m=this._renderOnePersonalName(o.name,r,a,n)));var p=!1;i.tertiary&&(o=this.getName(t,i.tertiary,!1,o.usedOrig),o.name&&(p=this._renderOnePersonalName(o.name,r,a,n)));var f;if(m||p){this.state.output.openLevel("empty"),this.state.output.append(l);var h=new s.Token;i.secondary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(m,h);var u=new s.Token;i.tertiary&&(u.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,u.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,u.strings.prefix||(u.strings.prefix=" ")),this.state.output.append(p,u),this.state.output.closeLevel(),f=this.state.output.pop()}else f=l;return f},s.NameOutput.prototype._isRomanesque=function(e){var t=2;e.family.replace(/\"/g,"").match(s.ROMANESQUE_REGEXP)||(t=0),!t&&e.given&&e.given.match(s.STARTSWITH_ROMANESQUE_REGEXP)&&(t=1);var i;return t==2&&(e.multi&&e.multi.main?i=e.multi.main.slice(0,2):this.Item.language&&(i=this.Item.language.slice(0,2)),["ja","zh"].indexOf(i)>-1&&(t=1)),t},s.NameOutput.prototype._renderOnePersonalName=function(e,t,i,r){var a=e,n=this._droppingParticle(a,t,r),o=this._familyName(a),l=this._nonDroppingParticle(a),m=this._givenName(a,t,i),p=m.blob,f=this._nameSuffix(a);p===!1&&(n=!1,f=!1);var h=this.state.inheritOpt(this.name,"sort-separator");h||(h="");var u;a["comma-suffix"]?u=", ":u=" ";var d=this._isRomanesque(a);function v(T){return T?typeof T.blobs=="string"?["\u2019","'","-"," "].indexOf(T.blobs.slice(-1))>-1:v(T.blobs[T.blobs.length-1]):!1}var c=v(l),S;["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?S="\xA0":S=" ";var g,y,x,b;if(d===0)g=this._join([l,o,p],"");else if(d===1||a["static-ordering"])y=this._join([l,o],S),g=this._join([y,p]," ");else if(a["reverse-ordering"])y=this._join([l,o],S),g=this._join([p,y]," ");else if(this.state.tmp.sort_key_flag)this.state.opt["demote-non-dropping-particle"]==="never"?(y=this._join([l,o],S),y=this._join([y,n]," "),y=this._join([y,p],this.state.opt.sort_sep),g=this._join([y,f]," ")):(b=this._join([p,n,l]," "),y=this._join([o,b],this.state.opt.sort_sep),g=this._join([y,f]," "));else if(this.state.inheritOpt(this.name,"name-as-sort-order")==="all"||this.state.inheritOpt(this.name,"name-as-sort-order")==="first"&&i===0&&(r===0||typeof r=="undefined"))["Lord","Lady"].indexOf(a.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(b=this._join([p,n],a["comma-dropping-particle"]+" "),b=this._join([b,l]," "),b&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),o&&this.family&&(o.strings.prefix=this.family.strings.prefix,o.strings.suffix=this.family.strings.suffix),y=this._join([o,b],h),g=this._join([y,f],h)):(c?x=this._join([l,o],""):x=this._join([l,o],S),x&&this.family&&(x.strings.prefix=this.family.strings.prefix,x.strings.suffix=this.family.strings.suffix),b=this._join([p,n],a["comma-dropping-particle"]+" "),b&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),y=this._join([x,b],h),g=this._join([y,f],h)),g.isInverted=!0;else{if(a["dropping-particle"]&&a.family&&!a["non-dropping-particle"]){var A=a["dropping-particle"],O=["'","\u02BC","\u2019","-"];O.indexOf(A.slice(-1))>-1&&A.slice(0,-1)!=="de"&&(o=this._join([n,o],""),n=!1)}c?(b=this._join([l,o],""),b=this._join([n,b],S)):b=this._join([n,l,o],S),b=this._join([b,f],u),b&&this.family&&(b.strings.prefix=this.family.strings.prefix,b.strings.suffix=this.family.strings.suffix),p&&this.given&&(p.strings.prefix=this.given.strings.prefix,p.strings.suffix=this.given.strings.suffix),b.strings.prefix&&(a["comma-dropping-particle"]="");var I;this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&m.initializationLevel===1?I=S:I=" ",g=this._join([p,b],a["comma-dropping-particle"]+I)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,s.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g},s.NameOutput.prototype._normalizeNameInput=function(e){var t={literal:e.literal,family:e.family,isInstitution:e.isInstitution,given:e.given,suffix:e.suffix,"comma-suffix":e["comma-suffix"],"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],"static-ordering":e["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":e["reverse-ordering"],"full-form-always":e["full-form-always"],"parse-names":e["parse-names"],"comma-dropping-particle":"",block_initialize:e.block_initialize,multi:e.multi};return this._parseName(t),t},s.NameOutput.prototype._stripPeriods=function(e,t){var i=this[e+"_decor"];if(t){if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(i){for(var r=0,a=i.decorations.length;r<a;r+=1)if(i.decorations[r][0]==="@strip-periods"&&i.decorations[r][1]==="true"){t=t.replace(/\./g,"");break}}}return t},s.NameOutput.prototype._nonDroppingParticle=function(e){var t=e["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",t);return this.state.output.append(i,this.family_decor,!0)?this.state.output.pop():!1},s.NameOutput.prototype._droppingParticle=function(e,t,i){var r=e["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var a=this._stripPeriods("given",r);if(e["dropping-particle"]&&e["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?typeof i=="undefined"?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:typeof i=="undefined"?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,e["comma-dropping-particle"]="";else if(this.state.output.append(a,this.given_decor,!0))return this.state.output.pop();return!1},s.NameOutput.prototype._familyName=function(e){var t=this._stripPeriods("family",e.family);return this.state.output.append(t,this.family_decor,!0)?this.state.output.pop():!1},s.NameOutput.prototype._givenName=function(e,t,i){var r,a=this.state.inheritOpt(this.name,"form","name-form","long")!=="long",n=this.state.inheritOpt(this.name,"initialize")!==!1,o=typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&!e.block_initialize,l,m;if(e["full-form-always"])m=2;else{a?l=0:o?l=1:l=2;var p=this.state.tmp.disambig_settings.givens[t][i];p>l?m=p:m=l}var f=this.state.citation.opt["givenname-disambiguation-rule"];if(f&&f.slice(-14)==="-with-initials"&&(o=!0),e.family&&m===1)if(o){var h=this.state.inheritOpt(this.name,"initialize-with",!1,"");e.given=s.Util.Names.initializeWith(this.state,e.given,h,!n)}else e.given=s.Util.Names.unInitialize(this.state,e.given);else{if(m===0)return{blob:!1};m===2&&(e.given=s.Util.Names.unInitialize(this.state,e.given))}var u=this._stripPeriods("given",e.given),d=this.state.output.append(u,this.given_decor,!0);return d?(r=this.state.output.pop(),{blob:r,initializationLevel:m}):{blob:!1}},s.NameOutput.prototype._nameSuffix=function(e){var t=e.suffix,i;t&&typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&(t=s.Util.Names.initializeWith(this.state,t,this.state.inheritOpt(this.name,"initialize-with"),!0)),t=this._stripPeriods("family",t);var r="";t&&t.slice(-1)==="."&&(t=t.slice(0,-1),r=".");var a=this.state.output.append(t,"empty",!0);return a?(i=this.state.output.pop(),i.strings.suffix=r+i.strings.suffix,i):!1},s.NameOutput.prototype._getLongStyle=function(e){var t;return e.short.length?this.institutionpart["long-with-short"]?t=this.institutionpart["long-with-short"]:t=this.institutionpart.long:t=this.institutionpart.long,t||(t=new s.Token),t},s.NameOutput.prototype._getShortStyle=function(){var e;return this.institutionpart.short?e=this.institutionpart.short:e=new s.Token,e},s.NameOutput.prototype._parseName=function(e){if(!e["parse-names"]&&typeof e["parse-names"]!="undefined")return e;e.family&&!e.given&&e.isInstitution&&(e.literal=e.family,e.family=void 0,e.isInstitution=void 0);var t;e.family&&e.family.slice(0,1)==='"'&&e.family.slice(-1)==='"'||!e["parse-names"]&&typeof e["parse-names"]!="undefined"?(e.family=e.family.slice(1,-1),t=!0,e["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!e["non-dropping-particle"]&&e.family&&!t&&e.given&&(e["static-particles"]||s.parseParticles(e,!0))},s.NameOutput.prototype.getName=function(e,t,i,r){if(r&&t==="locale-orig")return{name:!1,usedOrig:r};e.family||(e.family=""),e.given||(e.given="");var a={};a["static-ordering"]=this.getStaticOrder(e);var n=!0,o;if(t!=="locale-orig"&&(n=!1,e.multi)){for(var l=this.state.opt[t],m=0,p=l.length;m<p;m+=1)if(o=l[m],e.multi._key[o]){n=!0;var f=e.isInstitution;e=e.multi._key[o],e.isInstitution=f,a=this.getNameParams(o),a.transliterated=!0;break}}if(n||(o=!1,e.multi&&e.multi.main?o=e.multi.main:this.Item.language&&(o=this.Item.language),o&&(a=this.getNameParams(o))),!i&&!n)return{name:!1,usedOrig:r};e.family||(e.family=""),e.given||(e.given=""),e.literal&&(delete e.family,delete e.given),e={family:e.family,given:e.given,"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],suffix:e.suffix,"static-ordering":a["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":a["reverse-ordering"],"full-form-always":a["full-form-always"],"parse-names":e["parse-names"],"comma-suffix":e["comma-suffix"],"comma-dropping-particle":e["comma-dropping-particle"],transliterated:a.transliterated,block_initialize:a["block-initialize"],literal:e.literal,isInstitution:e.isInstitution,multi:e.multi},!e.literal&&!e.given&&e.family&&e.isInstitution&&(e.literal=e.family),e.literal&&(delete e.family,delete e.given),e=this._normalizeNameInput(e);var h;return r?h=r:h=!n,{name:e,usedOrig:h}},s.NameOutput.prototype.getNameParams=function(e){var t={},i=s.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),r=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],a=this.state.locale[r].opts["name-as-sort-order"],n=this.state.locale[r].opts["name-as-reverse-order"],o=this.state.locale[r].opts["name-never-short"],l=e.split("-")[0];return a&&a[l]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),n&&n[l]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),o&&o[l]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t},s.NameOutput.prototype.setRenderedName=function(e){if(this.state.tmp.area==="bibliography"){for(var t="",i=0,r=s.NAME_PARTS.length;i<r;i+=1)e[s.NAME_PARTS[i]]&&(t+=e[s.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(t)}},s.NameOutput.prototype.fixupInstitution=function(e,t,i){!e.literal&&e.family&&(e.literal=e.family,delete e.family);var r=e.literal,a=r,n={long:r.split(/\s*\|\s*/),short:a.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if(this.institution.strings.form==="short"){let u=this.Item.jurisdiction;u=this.state.transform.loadAbbreviation(u,"institution-entire",r,this.Item.language),this.state.transform.abbrevs[u]["institution-entire"][r]?r=this.state.transform.abbrevs[u]["institution-entire"][r]:(u=this.Item.jurisdiction,u=this.state.transform.loadAbbreviation(u,"institution-part",r,this.Item.language),this.state.transform.abbrevs[u]["institution-part"][r]&&(r=this.state.transform.abbrevs[u]["institution-part"][r])),r=this._quashChecks(u,r)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let u=this.Item.jurisdiction;u=this.state.transform.loadAbbreviation(u,"institution-part",a,this.Item.language),this.state.transform.abbrevs[u]["institution-part"][a]&&(a=this.state.transform.abbrevs[u]["institution-part"][a]),a=this._quashChecks(u,a),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&a===r&&(a="")}if(n.long=r.split(/\s*\|\s*/),n.short=a.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var o=n.short.length-1;o>-1;o--){let u=this.Item.jurisdiction;var l=n.short[o];if(u=this.state.transform.loadAbbreviation(u,"institution-part",l,this.Item.language),this.state.transform.abbrevs[u]["institution-part"][l]&&(n.short[o]=this.state.transform.abbrevs[u]["institution-part"][l]),n.short[o].indexOf("|")>-1){let d=n.short,v=d[o].split(/\s*\|\s*/);n.short=d.slice(0,o).concat(v).concat(d.slice(o+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&n.short.reverse(),n.short=this._trimInstitution(n.short),this.institution.strings["reverse-order"]&&n.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let u=this.Item.jurisdiction;var m=this.state.tmp.abbrev_trimmer;if(m&&m[u]&&m[u][t])for(var p=0,f=n.short.length;p<f;p++){var h=n.short[p];n.short[p]=h.replace(m[u][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&n.long.reverse(),n.long=this._trimInstitution(n.long),this.institution.strings["reverse-order"]&&n.long.reverse(),n},s.NameOutput.prototype.getStaticOrder=function(e,t){var i=!1;return(!t&&e["static-ordering"]||this._isRomanesque(e)===0||(!e.multi||!e.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||e.multi&&e.multi.main&&["vi","hu"].indexOf(e.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&s.VIETNAMESE_NAMES.exec(e.family+" "+e.given)&&s.VIETNAMESE_SPECIALS.exec(e.family+e.given))&&(i=!0),i},s.NameOutput.prototype._quashChecks=function(e,i){var i=this.state.transform.quashCheck(e,i),r=i.split(/>>[0-9]{4}>>/),a=i.match(/>>([0-9]{4})>>/);i=r.pop();var n=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(n&&(n=parseInt(n.year,10),n=isNaN(n)?!1:n),n){if(r.length>0)for(var o=a.length-1;o>0&&!(n>=parseInt(a[o],10));o--)i=r.pop();i=i.replace(/\s*\|\s*/g,"|")}return i},s.NameOutput.prototype._trimInstitution=function(e){var t=!1,i=!1,r=!1,a=!1,n=e.slice();if(this.institution){if(typeof this.institution.strings["use-first"]!="undefined"&&(t=this.institution.strings["use-first"]),typeof this.institution.strings["use-last"]!="undefined"&&(r=this.institution.strings["use-last"]),typeof this.institution.strings["stop-first"]!="undefined"&&(a=this.institution.strings["stop-first"]),typeof this.institution.strings["stop-last"]!="undefined"&&(i=this.institution.strings["stop-last"]),t&&(i&&(n=n.slice(0,i*-1)),n=n.slice(0,t)),r){var o=e.slice();t?a=t:n=[],a&&(o=o.slice(a)),o=o.slice(r*-1),n=n.concat(o)}e=n}return e},s.PublisherOutput=function(e,t){this.state=e,this.group_tok=t,this.varlist=[]},s.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},s.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var e=!1;this.group_tok.strings.and==="text"?e=this.state.getTerm("and"):this.group_tok.strings.and==="symbol"&&(e="&");var t=new s.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(e,t,!0);var i=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(e,t,!0);var r=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,e&&(this.group_tok.strings["subgroup-delimiter-precedes-last"]==="always"?this.and_blob.single=r:this.group_tok.strings["subgroup-delimiter-precedes-last"]==="never"?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=r))},s.PublisherOutput.prototype.composeElements=function(){for(var e=0,t=2;e<t;e+=1)for(var i=["publisher","publisher-place"][e],r=0,a=this["publisher-list"].length;r<a;r+=1){var n=this[i+"-list"][r],o=this[i+"-token"];this.state.output.append(n,o,!0),this[i+"-list"][r]=this.state.output.pop()}},s.PublisherOutput.prototype.composePublishers=function(){for(var e,t=0,i=this["publisher-list"].length;t<i;t+=1)e=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(e,this.group_tok.strings.delimiter)},s.PublisherOutput.prototype.joinPublishers=function(){var e=this["publisher-list"],t=this._join(e,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},s.PublisherOutput.prototype._join=s.NameOutput.prototype._join,s.PublisherOutput.prototype._getToken=s.NameOutput.prototype._getToken,s.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},s.evaluateLabel=function(e,t,i,r){var a;e.strings.term==="locator"?(r&&r.label&&(r.label==="sub verbo"?a="sub-verbo":a=r.label),a||(a="page")):a=e.strings.term;var n=e.strings.plural;if(typeof n!="number"){var o=r&&e.strings.term==="locator"?r:i;o[e.strings.term]&&(t.processNumber(!1,o,e.strings.term,i.type),n=t.tmp.shadow_numbers[e.strings.term].plural,!t.tmp.shadow_numbers[e.strings.term].labelForm&&!t.tmp.shadow_numbers[e.strings.term].labelDecorations&&(e.strings.form?t.tmp.shadow_numbers[e.strings.term].labelForm=e.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[e.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[e.strings.term].labelCapitalizeIfFirst=e.strings.capitalize_if_first,t.tmp.shadow_numbers[e.strings.term].labelDecorations=e.decorations.slice()),["locator","number","page"].indexOf(e.strings.term)>-1&&t.tmp.shadow_numbers[e.strings.term].label&&(a=t.tmp.shadow_numbers[e.strings.term].label),e.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(e.decorations.reverse(),e.decorations.push(["@showid","true",e.cslid]),e.decorations.reverse()))}return s.castLabel(t,e,a,n,s.TOLERANT)},s.castLabel=function(e,t,i,r,a){var n=t.strings.form,o=t.strings.capitalize_if_first;e.tmp.group_context.tip.label_form&&(n==="static"?e.tmp.group_context.tip.label_static=!0:n=e.tmp.group_context.tip.label_form),e.tmp.group_context.tip.label_capitalize_if_first&&(o=e.tmp.group_context.tip.label_capitalize_if_first);var l=e.getTerm(i,n,r,!1,a,t.default_locale);if(o&&(l=s.Output.Formatters["capitalize-first"](e,l)),e.tmp.strip_periods)l=l.replace(/\./g,"");else for(var m=0,p=t.decorations.length;m<p;m+=1)if(t.decorations[m][0]==="@strip-periods"&&t.decorations[m][1]==="true"){l=l.replace(/\./g,"");break}return l},s.Node.name={build:function(e,t){var i;if([s.SINGLETON,s.START].indexOf(this.tokentype)>-1){var r;typeof e.tmp.root=="undefined"?(r=void 0,e.tmp.root="citation"):r=e.tmp.root,e.inheritOpt(this,"et-al-subsequent-min")&&e.inheritOpt(this,"et-al-subsequent-min")!==e.inheritOpt(this,"et-al-min")&&(e.opt.update_mode=s.POSITION),e.inheritOpt(this,"et-al-subsequent-use-first")&&e.inheritOpt(this,"et-al-subsequent-use-first")!==e.inheritOpt(this,"et-al-use-first")&&(e.opt.update_mode=s.POSITION),e.tmp.root=r,i=function(a){a.tmp.etal_term="et-al",a.tmp.name_delimiter=a.inheritOpt(this,"delimiter","name-delimiter",", "),a.tmp["delimiter-precedes-et-al"]=a.inheritOpt(this,"delimiter-precedes-et-al"),a.inheritOpt(this,"and")==="text"?this.and_term=a.getTerm("and","long",0):a.inheritOpt(this,"and")==="symbol"&&(a.opt.development_extensions.expect_and_symbol_form?this.and_term=a.getTerm("and","symbol",0):this.and_term="&"),a.tmp.and_term=this.and_term,s.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof a.tmp.name_delimiter=="string"&&(this.and_prefix_multiple=a.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),a.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=a.tmp.name_delimiter:a.inheritOpt(this,"delimiter-precedes-last")==="never"?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):a.inheritOpt(this,"delimiter-precedes-last")==="after-inverted-name"&&(this.and_prefix_single&&(this.and_prefix_single=a.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},a.inheritOpt(this,"and")?(a.output.append(this.and_term,"empty",!0),this.and.single=a.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,a.output.append(this.and_term,"empty",!0),this.and.multiple=a.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):a.tmp.name_delimiter&&(this.and.single=new s.Blob(a.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new s.Blob(a.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},a.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="\u2026",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=a.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new s.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new s.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),typeof a.tmp["et-al-min"]=="undefined"&&(a.tmp["et-al-min"]=a.inheritOpt(this,"et-al-min")),typeof a.tmp["et-al-use-first"]=="undefined"&&(a.tmp["et-al-use-first"]=a.inheritOpt(this,"et-al-use-first")),typeof a.tmp["et-al-use-last"]=="undefined"&&(a.tmp["et-al-use-last"]=a.inheritOpt(this,"et-al-use-last")),a.nameOutput.name=this},e.build.name_flag=!0,this.execs.push(i)}t.push(this)}},s.Node["name-part"]={build:function(e){e.build[this.strings.name]=this}},s.Node.names={build:function(e,t){var i;if((this.tokentype===s.START||this.tokentype===s.SINGLETON)&&(s.Util.substituteStart.call(this,e,t),e.build.substitute_level.push(1)),this.tokentype===s.SINGLETON){e.build.names_variables[e.build.names_variables.length-1].concat(this.variables);for(var r in this.variables){var a=this.variables[r],n=e.build.name_label[e.build.name_label.length-1];Object.keys(n).length&&(n[a]=n[Object.keys(n)[0]])}i=function(m){m.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(i)}if(this.tokentype===s.START&&(e.build.names_flag=!0,e.build.name_flag=!1,e.build.names_level+=1,e.build.names_variables.push(this.variables),e.build.name_label.push({}),i=function(m){m.tmp.can_substitute.push(!0),m.tmp.name_node={},m.tmp.name_node.children=[],m.nameOutput.init(this)},this.execs.push(i)),this.tokentype===s.END){for(var r=0,o=3;r<o;r+=1){var l=["family","given","et-al"][r];this[l]=e.build[l],e.build.names_level===1&&(e.build[l]=void 0)}this.label=e.build.name_label[e.build.name_label.length-1],e.build.names_level+=-1,e.build.names_variables.pop(),e.build.name_label.pop(),i=function(m){m.tmp.etal_node?this.etal_style=m.tmp.etal_node:this.etal_style="empty",this.etal_term=m.getTerm(m.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=m.tmp.name_delimiter,m.tmp["delimiter-precedes-et-al"]==="always"?this.etal_prefix_single=m.tmp.name_delimiter:m.tmp["delimiter-precedes-et-al"]==="never"?this.etal_prefix_multiple=" ":m.tmp["delimiter-precedes-et-al"]==="after-inverted-name"&&(this.etal_prefix_single=m.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",s.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(this.etal_prefix_single===" "&&(this.etal_prefix_single=""),this.etal_prefix_multiple===" "&&(this.etal_prefix_multiple=""),this.etal_suffix===" "&&(this.etal_suffix=""));for(var p=0,f=3;p<f;p+=1){var h=["family","given"][p];m.nameOutput[h]=this[h]}m.nameOutput.with=this.with;var u="with",d="",v="";s.STARTSWITH_ROMANESQUE_REGEXP.test(u)&&(d=" ",v=" ");var c={};c.single=new s.Blob(u),c.single.strings.suffix=v,c.multiple=new s.Blob(u),c.multiple.strings.suffix=v,m.inheritOpt(m.nameOutput.name,"delimiter-precedes-last")==="always"?(c.single.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter"),c.multiple.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter")):m.inheritOpt(m.nameOutput.name,"delimiter-precedes-last")==="contextual"?(c.single.strings.prefix=d,c.multiple.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter")):m.inheritOpt(m.nameOutput.name,"delimiter-precedes-last")==="after-inverted-name"?(c.single.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter"),c.multiple.strings.prefix=d):(c.single.strings.prefix=d,c.multiple.strings.prefix=d),m.nameOutput.with=c,m.nameOutput.label=this.label,m.nameOutput.etal_style=this.etal_style,m.nameOutput.etal_term=this.etal_term,m.nameOutput.etal_prefix_single=this.etal_prefix_single,m.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,m.nameOutput.etal_suffix=this.etal_suffix,m.nameOutput.outputNames(),m.tmp["et-al-use-first"]=void 0,m.tmp["et-al-min"]=void 0,m.tmp["et-al-use-last"]=void 0},this.execs.push(i),i=function(m){m.tmp.can_substitute.pop()||m.tmp.can_substitute.replace(!1,s.LITERAL),m.tmp.can_substitute.mystack.length===1&&(m.tmp.can_block_substitute=!1)},this.execs.push(i),e.build.name_flag=!1}t.push(this),(this.tokentype===s.END||this.tokentype===s.SINGLETON)&&(e.build.substitute_level.pop(),s.Util.substituteEnd.call(this,e,t))}},s.Node.number={build:function(e,t){var i;s.Util.substituteStart.call(this,e,t),this.strings.form==="roman"?this.formatter=e.fun.romanizer:this.strings.form==="ordinal"?this.formatter=e.fun.ordinalizer:this.strings.form==="long-ordinal"&&(this.formatter=e.fun.long_ordinalizer),typeof this.successor_prefix=="undefined"&&(this.successor_prefix=e[e.build.area].opt.layout_delimiter),typeof this.splice_prefix=="undefined"&&(this.splice_prefix=e[e.build.area].opt.layout_delimiter),i=function(r,a,n){if(this.variables.length!==0){var o;if(o=this.variables[0],typeof n=="undefined")var n={};if(["locator","locator-extra"].indexOf(o)>-1){if(r.tmp.just_looking||!n[o])return}else if(!a[o])return;o==="collection-number"&&a.type==="legal_case"&&(r.tmp.renders_collection_number=!0);var l=this;if(r.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(o)>-1?r.processNumber.call(r,l,n,o,a.type):(!r.tmp.group_context.tip.condition&&a[o]&&(r.tmp.just_did_number=(""+a[o]).match(/[0-9]$/)),r.processNumber.call(r,l,a,o,a.type)),this.substring){var m=a[o].slice(this.substring);r.output.append(m,l)}else s.Util.outputNumericField(r,o,a.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!r.tmp.just_looking&&(r.tmp.done_vars.push(this.variables_real[0]),r.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(i),t.push(this),s.Util.substituteEnd.call(this,e,t)}},s.Node.sort={build:function(e,t){if(t=e[e.build.root+"_sort"].tokens,this.tokentype===s.START){e.build.area==="citation"&&(e.opt.sort_citations=!0),e.build.area=e.build.root+"_sort",e.build.extension="_sort";var i=function(r,a){if(r.opt.has_layout_locale){for(var n=s.localeResolve(a.language,r.opt["default-locale"][0]),o=r[r.tmp.area.slice(0,-5)].opt.sort_locales,l,m=0,p=o.length;m<p&&(l=o[m][n.bare],l||(l=o[m][n.best]),!l);m+=1);l||(l=r.opt["default-locale"][0]),r.tmp.lang_sort_hold=r.opt.lang,r.opt.lang=l}};this.execs.push(i)}if(this.tokentype===s.END){e.build.area=e.build.root,e.build.extension="";var i=function(a){a.opt.has_layout_locale&&(a.opt.lang=a.tmp.lang_sort_hold,delete a.tmp.lang_sort_hold)};this.execs.push(i)}t.push(this)}},s.Node.substitute={build:function(e,t){var i;if(this.tokentype===s.START){var r=new s.Token("choose",s.START);s.Node.choose.build.call(r,e,t);var a=new s.Token("if",s.SINGLETON);i=function(){return!!(e.tmp.value.length&&!e.tmp.common_term_match_fail)},a.tests=[i],a.test=e.fun.match.any(a,e,a.tests),t.push(a),i=function(o){o.tmp.can_block_substitute=!0,o.tmp.value.length&&!o.tmp.common_term_match_fail&&o.tmp.can_substitute.replace(!1,s.LITERAL),o.tmp.common_term_match_fail=!1},this.execs.push(i),t.push(this)}if(this.tokentype===s.END){t.push(this);var n=new s.Token("choose",s.END);s.Node.choose.build.call(n,e,t)}}},s.Node.text={build:function(e,t){var i,r,a,n,o,l,m,p,f,h,u,d;if(this.postponed_macro){var v=s.Util.cloneToken(this);v.name="group",v.tokentype=s.START,s.Node.group.build.call(v,e,t),s.expandMacro.call(e,this,t);var c=s.Util.cloneToken(this);c.name="group",c.tokentype=s.END,this.postponed_macro==="juris-locator-label"&&(c.isJurisLocatorLabel=!0),s.Node.group.build.call(c,e,t)}else{if(s.Util.substituteStart.call(this,e,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),r="long",a=0,this.strings.form&&(r=this.strings.form),this.strings.plural&&(a=this.strings.plural),this.variables_real[0]==="citation-number"||this.variables_real[0]==="year-suffix"||this.variables_real[0]==="citation-label")this.variables_real[0]==="citation-number"?(e.build.root==="citation"&&(e.opt.update_mode=s.NUMERIC),e.build.root==="bibliography"&&(e.opt.bib_mode=s.NUMERIC),e[e.tmp.area].opt.collapse==="citation-number"&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,i=function(b,A,O){if(n=""+A.id,!b.tmp.just_looking){if(b.tmp.area.slice(-5)==="_sort"&&this.variables[0]==="citation-number"){if(b.tmp.area==="bibliography_sort"&&b.tmp.group_context.tip.done_vars.push("citation-number"),b.tmp.area==="citation_sort"&&b.bibliography_sort.tmp.citation_number_map)var I=b.bibliography_sort.tmp.citation_number_map[b.registry.registry[A.id].seq];else var I=b.registry.registry[A.id].seq;I&&(I=s.Util.padding(""+I)),b.output.append(I,this);return}O&&O["author-only"]&&b.tmp.element_trace.replace("suppress-me"),b.tmp.area!=="bibliography_sort"&&b.bibliography_sort.tmp.citation_number_map&&b.bibliography_sort.opt.citation_number_sort_direction===s.DESCENDING?I=b.bibliography_sort.tmp.citation_number_map[b.registry.registry[n].seq]:I=b.registry.registry[n].seq,b.opt.citation_number_slug?b.output.append(b.opt.citation_number_slug,this):(l=new s.NumericBlob(b,!1,I,this,A.id),b.tmp.in_cite_predecessor&&(l.suppress_splice_prefix=!0),b.output.append(l,"literal"))}},this.execs.push(i)):this.variables_real[0]==="year-suffix"?(e.opt.has_year_suffix=!0,e[e.tmp.area].opt.collapse==="year-suffix-ranged"&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,e[e.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=e[e.build.area].opt["year-suffix-delimiter"]),i=function(b,A){if(b.registry.registry[A.id]&&b.registry.registry[A.id].disambig.year_suffix!==!1&&!b.tmp.just_looking){o=parseInt(b.registry.registry[A.id].disambig.year_suffix,10),b[b.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=b[b.tmp.area].opt.cite_group_delimiter),l=new s.NumericBlob(b,!1,o,this,A.id),m=new s.Util.Suffixator(s.SUFFIX_CHARS),l.setFormatter(m),b.output.append(l,"literal"),p=!1;for(var O=0,I=b.tmp.group_context.mystack.length;O<I;O++){var T=b.tmp.group_context.mystack[O];if(!T.variable_success&&(T.variable_attempt||!T.variable_attempt&&!T.term_intended)){p=!0;break}}f=b[b.tmp.area].opt["year-suffix-delimiter"],p&&f&&!b.tmp.sort_key_flag&&(b.tmp.splice_delimiter=b[b.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(i)):this.variables_real[0]==="citation-label"&&(e.build.root==="bibliography"&&(e.opt.bib_mode=s.TRIGRAPH),e.opt.has_year_suffix=!0,i=function(b,A){h=A["citation-label"],h||(h=b.getCitationLabel(A)),b.tmp.just_looking||(u="",b.registry.registry[A.id]&&b.registry.registry[A.id].disambig.year_suffix!==!1&&(o=parseInt(b.registry.registry[A.id].disambig.year_suffix,10),u=b.fun.suffixator.format(o)),h+=u),b.output.append(h,this)},this.execs.push(i));else if(this.strings.term)i=function(b,A){var O=b.opt.gender[A.type],I=this.strings.term;I=b.getTerm(I,r,a,O,s.TOLERANT,this.default_locale);var T;if(I!==""&&(b.tmp.group_context.tip.term_intended=!0),s.UPDATE_GROUP_CONTEXT_CONDITION(b,I,null,this),!b.tmp.term_predecessor&&!(b.opt.class==="in-text"&&b.tmp.area==="citation")?T=s.Output.Formatters["capitalize-first"](b,I):T=I,b.tmp.strip_periods)T=T.replace(/\./g,"");else for(var k=0,N=this.decorations.length;k<N;k+=1)if(this.decorations[k][0]==="@strip-periods"&&this.decorations[k][1]==="true"){T=T.replace(/\./g,"");break}b.output.append(T,this),b.tmp.can_block_substitute&&b.tmp.can_substitute.replace(!1,s.LITERAL)},this.execs.push(i),e.build.term=!1,e.build.form=!1,e.build.plural=!1;else if(this.variables_real.length){if(i=function(b,A){this.variables_real[0]!=="locator"&&(b.tmp.have_collapsed=!1),!b.tmp.group_context.tip.condition&&A[this.variables[0]]&&(b.tmp.just_did_number=!1);var O=A[this.variables[0]];O&&!b.tmp.group_context.tip.condition&&((""+O).slice(-1).match(/[0-9]/)?b.tmp.just_did_number=!0:b.tmp.just_did_number=!1)},this.execs.push(i),s.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var S=this.variables[0],g=!1,y=!1,x=!1;r==="short"?this.variables_real[0].slice(-6)!=="-short"&&(y=this.variables_real[0]+"-short"):S=!1,e.build.extension?x=!0:(x=!0,g=!0),i=e.transform.getOutputFunction(this.variables,S,g,y,x)}else s.CITE_FIELDS.indexOf(this.variables_real[0])>-1?i=function(b,A,O){O&&O[this.variables[0]]&&(b.processNumber(this,O,this.variables[0],A.type),s.Util.outputNumericField(b,this.variables[0],A.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!b.tmp.just_looking&&b.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?i=function(b,A){b.processNumber(this,A,this.variables[0],A.type),s.Util.outputNumericField(b,this.variables[0],A.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?i=function(b,A){var O;if(this.variables[0]&&(O=b.getVariable(A,this.variables[0],r),O))if(this.variables[0]==="URL"&&r==="short"&&(O=O.replace(/(.*\.[^\/]+)\/.*/,"$1"),O.match(/\/\/www\./)&&(O=O.replace(/https?:\/\//,""))),b.opt.development_extensions.wrap_url_and_doi)if(!this.decorations.length||this.decorations[0][0]!=="@"+this.variables[0]){var I=s.Util.cloneToken(this),T=new s.Blob(null,null,"url-wrapper");if(T.decorations.push(["@DOI","true"]),this.variables_real[0]==="DOI"){var k;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(O=O.replace(/^https?:\/\/doi\.org\//,""),O.match(/^https?:\/\//)?k="":k="https://doi.org/",I.strings.prefix=this.strings.prefix.slice(0,I.strings.prefix.length-16));var N=new s.Blob(k),_=new s.Blob(O);T.push(N),T.push(_),b.output.append(T,I,!1,!1,!0)}else{var _=new s.Blob(O);T.push(_),b.output.append(T,I,!1,!1,!0)}}else b.output.append(O,this,!1,!1,!0);else{if(this.decorations.length)for(var w=this.decorations.length-1;w>-1;w--)this.decorations[w][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,w).concat(this.decorations.slice(w+1)));b.output.append(O,this,!1,!1,!0)}}:this.variables_real[0]==="section"?i=function(b,A){var O;O=b.getVariable(A,this.variables[0],r),O&&b.output.append(O,this)}:this.variables_real[0]==="hereinafter"?i=function(b,A){var O=b.transform.abbrevs.default.hereinafter[A.id];O&&(b.output.append(O,this),b.tmp.group_context.tip.variable_success=!0)}:i=function(b,A){var O;this.variables[0]&&(O=b.getVariable(A,this.variables[0],r),O&&(O=""+O,O=O.split("\\").join(""),b.output.append(O,this)))};this.execs.push(i)}else this.strings.value&&(i=function(b){b.tmp.group_context.tip.term_intended=!0,s.UPDATE_GROUP_CONTEXT_CONDITION(b,this.strings.value,!0,this),b.output.append(this.strings.value,this),b.tmp.can_block_substitute&&b.tmp.can_substitute.replace(!1,s.LITERAL)},this.execs.push(i));t.push(this),s.Util.substituteEnd.call(this,e,t)}}},s.Node.intext={build:function(e,t){if(this.tokentype===s.START){e.build.area="intext",e.build.root="intext",e.build.extension="";var i=function(r,a){r.tmp.area="intext",r.tmp.root="intext",r.tmp.extension=""};this.execs.push(i)}this.tokentype===s.END&&(e.intext_sort={opt:{sort_directions:e.citation_sort.opt.sort_directions}},e.intext.srt=e.citation.srt),t.push(this)}},s.Attributes={},s.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),t==="true"){e.opt.has_disambiguate=!0;var i=function(r){if(e.tmp.area==="bibliography"){if(e.tmp.disambiguate_count<e.registry.registry[r.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else if(t==="check-ambiguity-and-backreference"){var i=function(a){return!!(e.registry.registry[a.id].disambig.disambiguate&&e.registry.registry[a.id]["citation-count"]>1)};this.tests.push(i)}},s.Attributes["@is-numeric"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(n){return function(o,l){var m=o;if(l&&["locator","locator-extra"].indexOf(n)>-1&&(m=l),!m[n])return!1;if(s.NUMERIC_VARIABLES.indexOf(n)>-1){if(e.tmp.shadow_numbers[n]||e.processNumber(!1,m,n,o.type),e.tmp.shadow_numbers[n].numeric)return!0}else if(["title","version"].indexOf(n)>-1&&m[n].slice(-1)===""+parseInt(m[n].slice(-1),10))return!0;return!1}},a=0;a<i.length;a+=1)this.tests.push(r(i[a]))},s.Attributes["@is-uncertain-date"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(o){return function(l){return!!(l[o]&&l[o].circa)}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@locator"]=function(e,t){this.tests||(this.tests=[]);var i=t.replace("sub verbo","sub-verbo");i=i.split(/\s+/);for(var r=function(o){return function(l,m){var p;return e.processNumber(!1,m,"locator"),p=e.tmp.shadow_numbers.locator.label,!!(p&&o===p)}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@position"]=function(e,t){this.tests||(this.tests=[]);var i;e.opt.update_mode=s.POSITION;for(var r=t.split(/\s+/),a=function(p,f){return!!(f&&s.POSITION_MAP[f.position]>=s.POSITION_MAP[s.POSITION_SUBSEQUENT]&&f["near-note"])},n=function(p,f){return!!(f&&s.POSITION_MAP[f.position]==s.POSITION_MAP[s.POSITION_SUBSEQUENT]&&!f["near-note"])},o=function(p){return function(f,h){if(e.tmp.area==="bibliography")return!1;if(h&&typeof h.position=="undefined"&&(h.position=0),h&&typeof h.position=="number"){if(h.position===0&&p===0)return!0;if(p>0&&s.POSITION_MAP[h.position]>=s.POSITION_MAP[p])return!0}else if(p===0)return!0;return!1}},l=0,m=r.length;l<m;l+=1){var i=r[l];i==="first"?i=s.POSITION_FIRST:i==="container-subsequent"?i=s.POSITION_CONTAINER_SUBSEQUENT:i==="subsequent"?i=s.POSITION_SUBSEQUENT:i==="ibid"?i=s.POSITION_IBID:i==="ibid-with-locator"&&(i=s.POSITION_IBID_WITH_LOCATOR),i==="near-note"?this.tests.push(a):i==="far-note"?this.tests.push(n):this.tests.push(o(i))}},s.Attributes["@type"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(l){return function(m){var p=m.type===l;return!!p}},a=[],n=0,o=i.length;n<o;n+=1)a.push(r(i[n]));this.tests.push(e.fun.match.any(this,e,a))},s.Attributes["@variable"]=function(e,t){this.tests||(this.tests=[]);var i;if(this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),this.name==="label"&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)i=function(o,l,m){for(var p=this.variables.length-1;p>-1;p+=-1)this.variables.pop();for(var p=0,f=this.variables_real.length;p<f;p++)o.tmp.done_vars.indexOf(this.variables_real[p])===-1&&this.variables.push(this.variables_real[p]),o.tmp.can_block_substitute&&o.tmp.done_vars.push(this.variables_real[p])},this.execs.push(i),i=function(o,l,m){for(var p=!1,f=0,h=this.variables.length;f<h;f++){var u=this.variables[f];if(["authority","committee"].indexOf(u)>-1&&typeof l[u]=="string"&&this.name==="names"){var d=!0,v=l[u].split(/\s*;\s*/),c={};if(l.multi&&l.multi._keys[u]){for(var S in l.multi._keys[u])if(c[S]=l.multi._keys[u][S].split(/\s*;\s*/),c[S].length!==v.length){d=!1;break}}d||(v=[l[u]],c=l.multi._keys[u]);for(var g=0,y=v.length;g<y;g++){var x={literal:v[g],multi:{_key:{}}};for(var S in c){var b={literal:c[S][g]};x.multi._key[S]=b}v[g]=x}l[u]=v}if(this.strings.form==="short"&&!l[u]&&(u==="title"?u="title-short":u==="container-title"&&(u="container-title-short")),u==="year-suffix"){p=!0;break}else if(s.DATE_VARIABLES.indexOf(u)>-1){if(o.opt.development_extensions.locator_date_and_revision&&u==="locator-date"){p=!0;break}if(l[u]){for(var A in l[u])if(!(this.dateparts.indexOf(A)===-1&&A!=="literal")&&l[u][A]){p=!0;break}if(p)break}}else if(u==="locator"){m&&m.locator&&(p=!0);break}else if(u==="locator-extra"){m&&m["locator-extra"]&&(p=!0);break}else if(["citation-number","citation-label"].indexOf(u)>-1){p=!0;break}else if(u==="first-reference-note-number"){m&&m["first-reference-note-number"]&&(p=!0);break}else if(u==="first-container-reference-note-number"){m&&m["first-container-reference-note-number"]&&(p=!0);break}else if(u==="hereinafter"){o.transform.abbrevs.default.hereinafter[l.id]&&o.sys.getAbbreviation&&l.id&&(p=!0);break}else{if(typeof l[u]=="object")break;if(typeof l[u]=="string"&&l[u]){p=!0;break}else if(typeof l[u]=="number"){p=!0;break}}if(p)break}if(p){for(var f=0,h=this.variables_real.length;f<h;f++){var u=this.variables_real[f];(u!=="citation-number"||o.tmp.area!=="bibliography")&&(o.tmp.cite_renders_content=!0),o.tmp.group_context.tip.variable_success=!0,o.tmp.can_substitute.value()&&o.tmp.area==="bibliography"&&typeof l[u]=="string"&&(o.tmp.name_node.top=o.output.current.value(),o.tmp.rendered_name.push(l[u]))}o.tmp.can_substitute.replace(!1,s.LITERAL)}else o.tmp.group_context.tip.variable_attempt=!0},this.execs.push(i);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var r=function(o){return function(l,m){var p=l;if(m&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(o)>-1&&(p=m),o==="hereinafter"&&e.sys.getAbbreviation&&p.id){if(e.transform.abbrevs.default.hereinafter[p.id])return!0}else if(p[o]){if(typeof p[o]=="number"||typeof p[o]=="string")return!0;if(typeof p[o]=="object"){for(var f in p[o])if(p[o][f])return!0}}return!1}},a=0,n=this.variables.length;a<n;a+=1)this.tests.push(r(this.variables[a]))},s.Attributes["@page"]=function(e,t){this.tests||(this.tests=[]);var i=t.replace("sub verbo","sub-verbo");i=i.split(/\s+/);for(var r=function(o){return function(l){var m;return e.processNumber(!1,l,"page",l.type),e.tmp.shadow_numbers.page.label?e.tmp.shadow_numbers.page.label==="sub verbo"?m="sub-verbo":m=e.tmp.shadow_numbers.page.label:m="page",e.tmp.shadow_numbers.page.values.length>0&&e.tmp.shadow_numbers.page.values[0].gotosleepability&&(e.tmp.shadow_numbers.page.values[0].labelVisibility=!1),o===m}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@number"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(o){return function(l){var m;return e.processNumber(!1,l,"number",l.type),e.tmp.shadow_numbers.number.label?m=e.tmp.shadow_numbers.number.label:m="number",o===m}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@jurisdiction"]=function(e,t){this.tests||(this.tests=[]);var i=t.split(/\s+/),r=function(a){return function(n){if(!n.jurisdiction)return!1;for(var o=n.jurisdiction,l=0,m=a.length;l<m;l++)if(o===a[l])return!0;return!1}};this.tests.push(r(i))},s.Attributes["@country"]=function(e,t){this.tests||(this.tests=[]);var i=t.split(/\s+/),r=function(a){return function(n){if(!n.country)return!1;for(var o=n.country,l=0,m=a.length;l<m;l++)if(o===a[l])return!0;return!1}};this.tests.push(r(i))},s.Attributes["@context"]=function(e,t){this.tests||(this.tests=[]);var i=function(){if(["bibliography","citation"].indexOf(t)>-1){var r=e.tmp.area.slice(0,t.length);return r===t}else if(t==="alternative")return!!e.tmp.abort_alternative};this.tests.push(i)},s.Attributes["@has-year-only"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(o){return function(l){var m=l[o];return!(!m||m.month||m.season)}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@has-to-month-or-season"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(o){return function(l){var m=l[o];return!(!m||!m.month&&!m.season||m.day)}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@has-day"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(o){return function(l){var m=l[o];return!(!m||!m.day)}},a=0,n=i.length;a<n;a+=1)this.tests.push(r(i[a]))},s.Attributes["@is-plural"]=function(e,t){this.tests||(this.tests=[]);var i=function(r){var a=r[t];if(a&&a.length){for(var n=0,o=0,l=!1,m=0,p=a.length;m<p;m+=1)e.opt.development_extensions.spoof_institutional_affiliations&&(a[m].literal||a[m].isInstitution&&a[m].family&&!a[m].given)?(o+=1,l=!1):(n+=1,l=!0);if(n>1)return!0;if(o>1)return!0;if(o&&l)return!0}return!1};this.tests.push(i)},s.Attributes["@is-multiple"]=function(e,t){this.tests||(this.tests=[]);var i=function(r){var a=""+r[t],n=a.split(/(?:,\s|\s(?:tot\sen\smet|līdz|oraz|and|bis|έως|και|och|až|do|en|et|in|ir|ja|og|sa|to|un|und|és|și|i|u|y|à|e|a|и|-|–)\s|—|\&)/);return n.length>1};this.tests.push(i)},s.Attributes["@locale"]=function(e,t){this.tests||(this.tests=[]);var i,r,a,n,o,l,m=e.opt["default-locale"][0];if(this.name==="layout"){if(this.locale_raw=t,this.tokentype===s.START){e.opt.multi_layout||(e.opt.multi_layout=[]);var p=[],f=t.split(/\s+/),h={},u=s.localeResolve(f[0],m);p.push(u),u.generic?h[u.generic]=u.best:h[u.best]=u.best;for(var o=1,l=f.length;o<l;o+=1){var d=s.localeResolve(f[o],m);p.push(d),d.generic?h[d.generic]=u.best:h[d.best]=u.best}e[e.build.area].opt.sort_locales.push(h),e.opt.multi_layout.push(p)}e.opt.has_layout_locale=!0}else{n=t.split(/\s+/);var v=[];for(o=0,l=n.length;o<l;o+=1)a=n[o],r=s.localeResolve(a,m),n[o].length===2&&v.push(r.bare),e.localeConfigure(r,!0),n[o]=r;var c=n.slice(),S=function(g,y,x){return function(b){var A;i=[],A=!1;var O=!1,I;for(b.language?I=b.language:I=y,O=s.localeResolve(I,y),o=0,l=g.length;o<l;o+=1)if(O.best===g[o].best){e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=g[0].best,A=!0;break}return!A&&x.indexOf(O.bare)>-1&&(e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=g[0].best,A=!0),A}};this.tests.push(S(c,m,v))}},s.Attributes["@alternative-node-internal"]=function(e){this.tests||(this.tests=[]);var t=function(){return function(){return!e.tmp.abort_alternative}},i=this;this.tests.push(t(i))},s.Attributes["@locale-internal"]=function(e,t){this.tests||(this.tests=[]);var i,r,a,n,o;for(a=t.split(/\s+/),this.locale_bares=[],n=0,o=a.length;n<o;n+=1)r=a[n],i=s.localeResolve(r,e.opt["default-locale"][0]),a[n].length===2&&this.locale_bares.push(i.bare),e.localeConfigure(i),a[n]=i;this.locale_default=e.opt["default-locale"][0],this.locale=a[0].best,this.locale_list=a.slice();var l=function(p){return function(f){var h,u;h=[],u=!1;var d=!1;if(f.language&&(r=f.language,d=s.localeResolve(r,e.opt["default-locale"][0]),d.best===e.opt["default-locale"][0]&&(d=!1)),d){for(n=0,o=p.locale_list.length;n<o;n+=1)if(d.best===p.locale_list[n].best){e.opt.lang=p.locale,e.tmp.last_cite_locale=p.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=p.locale,u=!0;break}!u&&p.locale_bares.indexOf(d.bare)>-1&&(e.opt.lang=p.locale,e.tmp.last_cite_locale=p.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=p.locale,u=!0)}return u}},m=this;this.tests.push(l(m))},s.Attributes["@court-class"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(o){return function(l){var m=s.GET_COURT_CLASS(e,l);return m===o}},a=0,n=i.length;a<n;a++)this.tests.push(r(i[a]))},s.Attributes["@container-multiple"]=function(e,t){this.tests||(this.tests=[]);var i=t==="true",r=function(a){return function(n){if(e.tmp.container_item_count[n.container_id]){if(e.tmp.container_item_count[n.container_id]>1)return a}else return!a;return!a}};this.tests.push(r(i))},s.Attributes["@container-subsequent"]=function(e,t){this.tests||(this.tests=[]);var i=t==="true",r=function(a){return function(n){return e.tmp.container_item_pos[n.container_id]>1?a:!a}};this.tests.push(r(i))},s.Attributes["@has-subunit"]=function(e,t){this.tests||(this.tests=[]);var i=function(r){return function(a){var n=0;for(var o in a[r]){var l=a[r][o];if(!l.given){var m=l.literal?l.literal:l.family,p=m.split("|").length;(n===0||p<n)&&(n=p)}}return n>1}};this.tests.push(i(t))},s.Attributes["@cite-form"]=function(e,t){this.tests||(this.tests=[]);var i=function(r){return function(a){return a["cite-form"]===r}};this.tests.push(i(t))},s.Attributes["@disable-duplicate-year-suppression"]=function(e,t){e.opt.disable_duplicate_year_suppression=t.split(/\s+/)},s.Attributes["@consolidate-containers"]=function(e,t){s.Attributes["@track-containers"](e,t);var i=t.split(/\s+/);e.bibliography.opt.consolidate_containers=i},s.Attributes["@track-containers"]=function(e,t){var i=t.split(/\s+/);e.bibliography.opt.track_container_items||(e.bibliography.opt.track_container_items=[]),e.bibliography.opt.consolidate_containers||(e.bibliography.opt.consolidate_containers=[]),e.bibliography.opt.track_container_items=e.bibliography.opt.track_container_items.concat(i)},s.Attributes["@parallel-first"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_first={};for(var r in i){var a=i[r];this.parallel_first[a]=!0,e.opt.track_repeat[a]=!0}},s.Attributes["@parallel-last"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_last={};for(var r in i){var a=i[r];this.parallel_last[a]=!0,e.opt.track_repeat[a]=!0}},s.Attributes["@parallel-last-to-first"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);this.parallel_last_to_first={};for(var r=0,a=i.length;r<a;r++)this.parallel_last_to_first[i[r]]=!0},s.Attributes["@parallel-delimiter-override"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t},s.Attributes["@parallel-delimiter-override-on-suppress"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t},s.Attributes["@no-repeat"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);e.opt.track_repeat||(e.opt.track_repeat={}),this.non_parallel={};for(var r in i){var a=i[r];this.non_parallel[a]=!0,e.opt.track_repeat[a]=!0}},s.Attributes["@require"]=function(e,t){e.opt.use_context_condition=!0,this.strings.require=t},s.Attributes["@reject"]=function(e,t){e.opt.use_context_condition=!0,this.strings.reject=t},s.Attributes["@require-comma-on-symbol"]=function(e,t){e.opt.require_comma_on_symbol=t},s.Attributes["@gender"]=function(e,t){this.gender=t},s.Attributes["@cslid"]=function(e,t){this.cslid=parseInt(t,10)},s.Attributes["@capitalize-if-first"]=function(e,t){this.strings.capitalize_if_first_override=t},s.Attributes["@label-capitalize-if-first"]=function(e,t){this.strings.label_capitalize_if_first_override=t},s.Attributes["@label-form"]=function(e,t){this.strings.label_form_override=t},s.Attributes["@part-separator"]=function(e,t){this.strings["part-separator"]=t},s.Attributes["@leading-noise-words"]=function(e,t){this["leading-noise-words"]=t},s.Attributes["@name-never-short"]=function(e,t){this["name-never-short"]=t},s.Attributes["@class"]=function(e,t){e.opt.class=t},s.Attributes["@version"]=function(e,t){e.opt.version=t},s.Attributes["@value"]=function(e,t){this.strings.value=t},s.Attributes["@name"]=function(e,t){this.strings.name=t},s.Attributes["@form"]=function(e,t){this.strings.form=t},s.Attributes["@date-parts"]=function(e,t){this.strings["date-parts"]=t},s.Attributes["@range-delimiter"]=function(e,t){this.strings["range-delimiter"]=t},s.Attributes["@macro"]=function(e,t){this.postponed_macro=t},s.Attributes["@term"]=function(e,t){t==="sub verbo"?this.strings.term="sub-verbo":this.strings.term=t},s.Attributes["@xmlns"]=function(){},s.Attributes["@lang"]=function(e,t){t&&(e.build.lang=t)},s.Attributes["@lingo"]=function(){},s.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},s.Attributes["@suffix"]=function(e,t){this.strings.suffix=t},s.Attributes["@prefix"]=function(e,t){this.strings.prefix=t},s.Attributes["@delimiter"]=function(e,t){this.strings.delimiter=t},s.Attributes["@match"]=function(e,t){this.match=t},s.Attributes["@names-min"]=function(e,t){var i=parseInt(t,10);e[e.build.area].opt.max_number_of_names<i&&(e[e.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},s.Attributes["@names-use-first"]=function(e,t){this.strings["et-al-use-first"]=parseInt(t,10)},s.Attributes["@names-use-last"]=function(e,t){t==="true"?this.strings["et-al-use-last"]=!0:this.strings["et-al-use-last"]=!1},s.Attributes["@sort"]=function(e,t){t==="descending"&&(this.strings.sort_direction=s.DESCENDING)},s.Attributes["@plural"]=function(e,t){t==="always"||t==="true"?this.strings.plural=1:t==="never"||t==="false"?this.strings.plural=0:t==="contextual"&&(this.strings.plural=!1)},s.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},s.Attributes["@publisher-delimiter-precedes-last"]=function(e,t){this.strings["publisher-delimiter-precedes-last"]=t},s.Attributes["@publisher-delimiter"]=function(e,t){this.strings["publisher-delimiter"]=t},s.Attributes["@publisher-and"]=function(e,t){this.strings["publisher-and"]=t},s.Attributes["@givenname-disambiguation-rule"]=function(e,t){s.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(e.citation.opt["givenname-disambiguation-rule"]=t)},s.Attributes["@collapse"]=function(e,t){t&&(e[this.name].opt.collapse=t)},s.Attributes["@cite-group-delimiter"]=function(e,t){t&&(e[e.tmp.area].opt.cite_group_delimiter=t)},s.Attributes["@names-delimiter"]=function(e,t){e.setOpt(this,"names-delimiter",t)},s.Attributes["@name-form"]=function(e,t){e.setOpt(this,"name-form",t)},s.Attributes["@subgroup-delimiter"]=function(e,t){this.strings["subgroup-delimiter"]=t},s.Attributes["@subgroup-delimiter-precedes-last"]=function(e,t){this.strings["subgroup-delimiter-precedes-last"]=t},s.Attributes["@name-delimiter"]=function(e,t){e.setOpt(this,"name-delimiter",t)},s.Attributes["@et-al-min"]=function(e,t){var i=parseInt(t,10);e[e.build.area].opt.max_number_of_names<i&&(e[e.build.area].opt.max_number_of_names=i),e.setOpt(this,"et-al-min",i)},s.Attributes["@et-al-use-first"]=function(e,t){e.setOpt(this,"et-al-use-first",parseInt(t,10))},s.Attributes["@et-al-use-last"]=function(e,t){t==="true"?e.setOpt(this,"et-al-use-last",!0):e.setOpt(this,"et-al-use-last",!1)},s.Attributes["@et-al-subsequent-min"]=function(e,t){var i=parseInt(t,10);e[e.build.area].opt.max_number_of_names<i&&(e[e.build.area].opt.max_number_of_names=i),e.setOpt(this,"et-al-subsequent-min",i)},s.Attributes["@et-al-subsequent-use-first"]=function(e,t){e.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))},s.Attributes["@suppress-min"]=function(e,t){this.strings["suppress-min"]=parseInt(t,10)},s.Attributes["@suppress-max"]=function(e,t){this.strings["suppress-max"]=parseInt(t,10)},s.Attributes["@and"]=function(e,t){e.setOpt(this,"and",t)},s.Attributes["@delimiter-precedes-last"]=function(e,t){e.setOpt(this,"delimiter-precedes-last",t)},s.Attributes["@delimiter-precedes-et-al"]=function(e,t){e.setOpt(this,"delimiter-precedes-et-al",t)},s.Attributes["@initialize-with"]=function(e,t){e.setOpt(this,"initialize-with",t)},s.Attributes["@initialize"]=function(e,t){t==="false"&&e.setOpt(this,"initialize",!1)},s.Attributes["@name-as-reverse-order"]=function(e,t){this["name-as-reverse-order"]=t},s.Attributes["@name-as-sort-order"]=function(e,t){this.name==="style-options"?this["name-as-sort-order"]=t:e.setOpt(this,"name-as-sort-order",t)},s.Attributes["@sort-separator"]=function(e,t){e.setOpt(this,"sort-separator",t)},s.Attributes["@require-match"]=function(e,t){t==="true"&&(this.requireMatch=!0)},s.Attributes["@exclude-types"]=function(e,t){e.bibliography.opt.exclude_types=t.split(/\s+/)},s.Attributes["@exclude-with-fields"]=function(e,t){e.bibliography.opt.exclude_with_fields=t.split(/\s+/)},s.Attributes["@year-suffix-delimiter"]=function(e,t){e[this.name].opt["year-suffix-delimiter"]=t},s.Attributes["@after-collapse-delimiter"]=function(e,t){e[this.name].opt["after-collapse-delimiter"]=t},s.Attributes["@subsequent-author-substitute"]=function(e,t){e[this.name].opt["subsequent-author-substitute"]=t},s.Attributes["@subsequent-author-substitute-rule"]=function(e,t){e[this.name].opt["subsequent-author-substitute-rule"]=t},s.Attributes["@disambiguate-add-names"]=function(e,t){t==="true"&&(e.opt["disambiguate-add-names"]=!0)},s.Attributes["@disambiguate-add-givenname"]=function(e,t){t==="true"&&(e.opt["disambiguate-add-givenname"]=!0)},s.Attributes["@disambiguate-add-year-suffix"]=function(e,t){t==="true"&&e.opt.xclass!=="numeric"&&(e.opt["disambiguate-add-year-suffix"]=!0)},s.Attributes["@second-field-align"]=function(e,t){(t==="flush"||t==="margin")&&(e[this.name].opt["second-field-align"]=t)},s.Attributes["@hanging-indent"]=function(e,t){t==="true"&&(e.opt.development_extensions.hanging_indent_legacy_number?e[this.name].opt.hangingindent=2:e[this.name].opt.hangingindent=!0)},s.Attributes["@line-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["line-spacing"]=parseFloat(t,10))},s.Attributes["@entry-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["entry-spacing"]=parseFloat(t,10))},s.Attributes["@near-note-distance"]=function(e,t){e[this.name].opt["near-note-distance"]=parseInt(t,10)},s.Attributes["@substring"]=function(e,t){this.substring=parseInt(t,10)},s.Attributes["@text-case"]=function(e,t){var i=function(r,a){t==="normal"?this.text_case_normal=!0:(this.strings["text-case"]=t,t==="title"&&a.jurisdiction&&(this.strings["text-case"]="passthrough"))};this.execs.push(i)},s.Attributes["@page-range-format"]=function(e,t){e.opt["page-range-format"]=t},s.Attributes["@year-range-format"]=function(e,t){e.opt["year-range-format"]=t},s.Attributes["@default-locale"]=function(e,t){if(this.name==="style"){var i,r,a,o,n,o=t.match(/-x-(sort|translit|translat)-/g);if(o)for(a=0,r=o.length;a<r;a+=1)o[a]=o[a].replace(/^-x-/,"").replace(/-$/,"");for(i=t.split(/-x-(?:sort|translit|translat)-/),n=[i[0]],a=1,r=i.length;a<r;a+=1)n.push(o[a-1]),n.push(i[a]);for(i=n.slice(),r=i.length,a=1;a<r;a+=2)e.opt["locale-"+i[a]].push(i[a+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?e.opt["default-locale"]=i.slice(0,1):e.opt["default-locale"]=["en"]}else t==="true"&&(this.default_locale=!0)},s.Attributes["@default-locale-sort"]=function(e,t){e.opt["default-locale-sort"]=t},s.Attributes["@demote-non-dropping-particle"]=function(e,t){e.opt["demote-non-dropping-particle"]=t},s.Attributes["@initialize-with-hyphen"]=function(e,t){t==="false"&&(e.opt["initialize-with-hyphen"]=!1)},s.Attributes["@institution-parts"]=function(e,t){this.strings["institution-parts"]=t},s.Attributes["@if-short"]=function(e,t){t==="true"&&(this.strings["if-short"]=!0)},s.Attributes["@substitute-use-first"]=function(e,t){this.strings["substitute-use-first"]=parseInt(t,10)},s.Attributes["@use-first"]=function(e,t){this.strings["use-first"]=parseInt(t,10)},s.Attributes["@use-last"]=function(e,t){this.strings["use-last"]=parseInt(t,10)},s.Attributes["@stop-first"]=function(e,t){this.strings["stop-first"]=parseInt(t,10)},s.Attributes["@stop-last"]=function(e,t){this.strings["stop-last"]=parseInt(t,10)*-1},s.Attributes["@reverse-order"]=function(e,t){t==="true"&&(this.strings["reverse-order"]=!0)},s.Attributes["@display"]=function(e,t){e.bibliography.tokens.length===2&&(e.opt.using_display=!0),this.strings.cls=t},s.Stack=function(e,t){this.mystack=[],(t||e)&&this.mystack.push(e),this.tip=this.mystack[0]},s.Stack.prototype.push=function(e,t){t||e?this.mystack.push(e):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},s.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},s.Stack.prototype.replace=function(e,t){this.mystack.length===0&&s.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+e),t||e?this.mystack[this.mystack.length-1]=e:this.mystack[this.mystack.length-1]="",this.tip=this.mystack[this.mystack.length-1]},s.Stack.prototype.pop=function(){var e=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},e},s.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},s.Stack.prototype.length=function(){return this.mystack.length},s.Parallel=function(e){this.state=e},s.Parallel.prototype.StartCitation=function(e,t){if(this.state.tmp.suppress_repeats=[],!(e.length<2)){for(var i=0,r=!1,a=[],n=0,o=e.length-1;n<o;n++){var l=e[n][0],m=e[n+1][0],p=!1,f={};if(e[n][0].seeAlso&&e[n][0].seeAlso.length>0&&!r){p=!0,r=[e[n][0].id].concat(e[n][0].seeAlso);var h=r.slice(),u=e.slice(n);u[0][1].parallel="first";for(var d=0,v=u.length;d<v;d++){var c=u[d][0].id,S=h.indexOf(c);if(i=!1,S===-1?i=n+d-1:n+d===e.length-1&&(i=n+d),i){a.push([n,i]);break}else h=h.slice(0,S).concat(h.slice(S+1))}}n>0&&p&&(this.state.tmp.suppress_repeats[n-1].START=!0,p=!1);for(var g in this.state.opt.track_repeat)if(!l[g]||!m[g])f[g]=!1;else if(typeof m[g]=="string"||typeof m[g]=="number"){if(g==="title"&&l["title-short"]&&m["title-short"])var y=l["title-short"],x=m["title-short"];else var y=l[g],x=m[g];y==x?f[g]=!0:f[g]=!1}else if(typeof l[g].length=="undefined"){f[g]=!1;var b=l[g].year,A=m[g].year;b&&A&&b==A&&(f[g]=!0)}else{var y=JSON.stringify(l[g]),x=JSON.stringify(m[g]);y===x?f[g]=!0:f[g]=!1}r||(f.ORPHAN=!0),i===n&&(f.END=!0,r=!1),this.state.tmp.suppress_repeats.push(f)}for(var d=0,v=a.length;d<v;d++){var O=e[a[d][0]][0].id;this.state.registry.registry[O].master=!0,this.state.registry.registry[O].siblings=[];for(var I=a[d][0],T=a[d][1],k=I;k<T;k++){this.state.tmp.suppress_repeats[k].SIBLING=!0;var N=e[k+1][0].id;e[k+1][1].parallel="other",this.state.registry.registry[O].siblings.push(N)}}}},s.Parallel.prototype.checkRepeats=function(e){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(e.parallel_first&&Object.keys(e.parallel_first).length>0){var i=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var a in e.parallel_first)(!i[t][a]||i[t].START)&&(r=!1);return r}if(e.parallel_last&&Object.keys(e.parallel_last).length>0){var i=this.state.tmp.suppress_repeats.concat([{}]),r=Object.keys(e.parallel_last).length>0;for(var a in e.parallel_last)(!i[t][a]||i[t].END)&&(r=!1);return r}if(e.non_parallel&&Object.keys(e.non_parallel).length>0){var i=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var a in e.non_parallel)i[t][a]||(r=!1);return r}}return!1},s.Util={},s.Util.Match=function(){this.any=function(e,t,i){return function(r,a){for(var n=0,o=i.length;n<o;n+=1){var l=i[n](r,a);if(l)return!0}return!1}},this.none=function(e,t,i){return function(r,a){for(var n=0,o=i.length;n<o;n+=1){var l=i[n](r,a);if(l)return!1}return!0}},this.all=function(e,t,i){return function(r,a){for(var n=0,o=i.length;n<o;n+=1){var l=i[n](r,a);if(!l)return!1}return!0}},this[void 0]=this.all,this.nand=function(e,t,i){return function(r,a){for(var n=0,o=i.length;n<o;n+=1){var l=i[n](r,a);if(!l)return!0}return!1}}},s.Transform=function(e){this.abbrevs={},this.abbrevs.default=new e.sys.AbbreviationSegments;function t(f,h,u){var d="";return e.sys.getHumanForm&&(f==="country"?(d=e.sys.getHumanForm(h.toLowerCase(),!1,!0),d=d.split("|")[0]):f==="jurisdiction"&&(d=e.sys.getHumanForm(h.toLowerCase(),!1,!0),u?d="":d=d.split("|").slice(1).join(", "))),d}function i(f,h,u,d,v,c,S){var g="",y=s.FIELD_CATEGORY_REMAP[c],x;if(!y)return v;var b=c,A=v;f.sys.normalizeAbbrevsKey&&(A=f.sys.normalizeAbbrevsKey(c,v));var O=!1;if(b==="jurisdiction"&&A&&(O=A.indexOf(":")===-1),["jurisdiction","country"].indexOf(c)>-1&&v===v.toLowerCase()&&(A=v.toUpperCase()),f.sys.getAbbreviation){["jurisdiction","country","language-name","language-name-original"].indexOf(b)>-1?x="default":u.jurisdiction?x=u.jurisdiction:x="default";var I=f.transform.loadAbbreviation(x,y,A,u.language);if(f.transform.abbrevs[I][y]&&A){var T=f.transform.abbrevs[I][y][A];h.strings.form==="short"&&T?O?g="":g=T:g=t(b,A,O)}}return!g&&(!f.opt.development_extensions.require_explicit_legal_case_title_short||u.type!=="legal_case")&&d&&u[d]&&S&&(g=u[d]),!g&&!f.sys.getAbbreviation&&f.sys.getHumanForm&&(g=t(b,A,O)),!g&&!O&&(!f.sys.getHumanForm||b!=="jurisdiction")&&(g=v),f.opt.development_extensions.force_title_abbrev_fallback&&b==="title"&&g===v&&u["title-short"]&&(g=u["title-short"]),g}function r(f,h){var u=e.opt["default-locale"][0].slice(0,2),d;if(e.opt.development_extensions.strict_text_case_locales?d=new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):d=new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),f.language){var v=(""+f.language).match(d);v?u=v[1]:u="tlh"}return f.multi&&f.multi&&f.multi.main&&f.multi.main[h]&&(u=f.multi.main[h]),(!e.opt.development_extensions.strict_text_case_locales||e.opt.development_extensions.normalize_lang_keys_to_lowercase)&&(u=u.toLowerCase()),u}function a(f,h,u,d,v,c){var S,g,y,x,b=v,A=!1;if(!f[h])return{name:"",usedOrig:v,token:s.Util.cloneToken(this)};var O=!1;s.VARIABLES_WITH_SHORT_FORM.indexOf(h)>-1&&c&&(h=h+"-short",O=!0);var I=!1,T=null,k=[];h.slice(-6)==="-short"?(k.push(h),k.push(h.slice(0,-6))):k.push(h);for(var N=0,_=k.length;N<_;N++){var w=!1,h=k[N];y={name:"",usedOrig:v,locale:r(f,h)},x=e.opt[u]?e.opt[u].slice():[];var D=!1;if(u==="locale-orig"?(v||(y.name=f[h],y.usedOrig=!1),D=!0,A=!0):d&&(typeof x=="undefined"||x.length===0)&&(y.name=f[h],y.usedOrig=!0,D=!0,A=!0),!D){for(var E=0,C=x.length;E<C;E+=1)if(S=x[E],g=S.split(/[\-_]/)[0],S&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][S]){y.name=f.multi._keys[h][S],y.locale=S,D=!0,w=!0,A=!1;break}else if(g&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][g]){y.name=f.multi._keys[h][g],y.locale=g,D=!0,w=!0,A=!1;break}!y.name&&d&&(y={name:f[h],usedOrig:!0,locale:r(f,h)},A=!0)}if(y.token=s.Util.cloneToken(this),N===0?(w&&(y.found_variant_ok=!0),T=y,!O&&(typeof x=="undefined"||x.length===0)&&(I=!0),w&&(I=!0)):!O&&!w&&T?(y=T,h=k[0]):w&&(y.found_variant_ok=!0),["title","container-title"].indexOf(h)>-1&&!b&&(!y.token.strings["text-case"]||y.token.strings["text-case"]==="sentence"||y.token.strings["text-case"]==="normal")){var U=e.opt.lang,q;A?q=!1:q=y.locale;var z=h.slice(0,-5),j=y.token.strings["text-case"]==="sentence";y.name=s.titlecaseSentenceOrNormal(e,f,z,q,j),delete y.token.strings["text-case"]}if(I)break}return y}this.getTextSubField=a;function n(f,h,u,d){f||(f="default");var v=f.split(":")[0],c=s.getAbbrevsDomain(e,v,d);return c&&(f+="@"+c),u?(e.sys.getAbbreviation&&(f=e.sys.getAbbreviation(e.opt.styleID,e.transform.abbrevs,f,h,u),f||(f="default",c&&(f+="@"+c))),f):(e.transform.abbrevs[f]||(e.transform.abbrevs[f]=new e.sys.AbbreviationSegments),e.transform.abbrevs[f][h]||(e.transform.abbrevs[f][h]={}),f)}this.loadAbbreviation=n;function o(f,h,u,d){var v=f.variables[0];if(e.publisherOutput&&u){if(["publisher","publisher-place"].indexOf(v)===-1)return!1;e.publisherOutput[v+"-token"]=f,e.publisherOutput.varlist.push(v);var c=u.split(/;\s*/);c.length===e.publisherOutput[v+"-list"].length&&(e.publisherOutput[v+"-list"]=c);for(var S=0,g=c.length;S<g;S+=1)c[S]=i(e,f,h,!1,c[S],d,!0);return e.tmp[v+"-token"]=f,!0}return!1}function l(f,h){var u=h.match(/^#([0-9]+).*>>>/);u&&u[1]&&(f["cite-form"]=u[1])}function m(f,h){var u=h.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(u&&(h=h.slice(u[0].length),u[1]))for(var d=u[1].split(","),v=0,c=d.length;v<c;v+=1){var S=d[v],g=S.match(/^([-_a-z]+)(?:\:(.*))*$/),y=g[1],x=e.tmp.abbrev_trimmer;g[2]?x&&f&&(x[f]||(x[f]={}),x[f][y]=g[2]):e.tmp.done_vars.indexOf(y)===-1&&(x&&f&&(x.QUASHES[f]||(x.QUASHES[f]={}),x.QUASHES[f][y]=!0),e.tmp.done_vars.push(y))}return h}this.quashCheck=m;function p(f,h,u,d){var v,c=s.LangPrefsMap[f[0]];return c?v=e.opt["cite-lang-prefs"][c]:v=!1,function(S,g,y){var x,b,A,O,I,T,C;if(!f[0]||!g[f[0]]&&!g[d]||!S.tmp.just_looking&&y&&y["suppress-author"]&&!S.tmp.probably_rendered_something&&S.tmp.can_substitute.length()>1)return null;var k={primary:!1,secondary:!1,tertiary:!1};if(S.tmp.area.slice(-5)==="_sort")k.primary="locale-sort";else if(v&&v.length===1&&v[0]==="locale-orig")k.primary="locale-orig",v=!1;else if(v&&!S.tmp.multi_layout)for(var N=["primary","secondary","tertiary"],_=0,w=N.length;_<w&&!(v.length-1<_);_+=1)v[_]&&(k[N[_]]="locale-"+v[_]);else k.primary="locale-orig";if((f[0]==="title-short"||S.tmp.area!=="bibliography"&&!(S.tmp.area==="citation"&&S.opt.xclass==="note"&&y&&!y.position))&&(k.secondary=!1,k.tertiary=!1),S.tmp.multi_layout&&(k.secondary=!1,k.tertiary=!1),S.tmp["publisher-list"])return f[0]==="publisher"?S.tmp["publisher-token"]=this:f[0]==="publisher-place"&&(S.tmp["publisher-place-token"]=this),null;var D=S.tmp.lang_array.slice(),E=a.call(this,g,f[0],k.primary,!0,null,h);x=E.name,b=E.locale;var C=E.token,U=E.usedOrig;if(h&&!E.found_variant_ok&&(x=i(S,C,g,d,x,h,!0),x&&(l(g,x),S.tmp.just_looking||(x=m(g.jurisdiction,x)))),o(this,g,x,h))return S.tmp.lang_array=D,null;A=!1,I=!1;var q,z;k.secondary&&(E=a.call(this,g,f[0],k.secondary,!1,E.usedOrig,null,h),A=E.name,O=E.locale,q=E.token,h&&!E.found_variant_ok&&A&&(A=i(S,q,g,!1,A,h,!0))),k.tertiary&&(E=a.call(this,g,f[0],k.tertiary,!1,E.usedOrig,null,h),I=E.name,T=E.locale,z=E.token,h&&!E.found_variant_ok&&I&&(I=i(S,z,g,!1,I,h,!0)));var j;if(k.primary==="locale-translit"&&(j=S.opt.citeAffixes[c][k.primary].prefix),j==="<i>"&&f[0]==="title"&&!U){for(var M=!1,_=0,w=C.decorations.length;_<w;_+=1)C.decorations[_][0]==="@font-style"&&C.decorations[_][1]==="italic"&&(M=!0);M||C.decorations.push(["@font-style","italic"])}if(b!=="en"&&C.strings["text-case"]==="title"&&(C.strings["text-case"]="passthrough"),f[0]==="title"&&(x=s.demoteNoiseWords(S,x,this["leading-noise-words"])),A||I){if(S.output.openLevel("empty"),C.strings.suffix=C.strings.suffix.replace(/[ .,]+$/,""),b&&(S.tmp.lang_array=[b].concat(D)),s.UPDATE_GROUP_CONTEXT_CONDITION(S,null,null,C,C.strings.prefix+x),S.output.append(x,C),S.tmp.probably_rendered_something=!0,x===A&&(A=!1),A){q.strings.prefix=S.opt.citeAffixes[c][k.secondary].prefix,q.strings.suffix=S.opt.citeAffixes[c][k.secondary].suffix,q.strings.prefix||(q.strings.prefix=" ");for(var _=q.decorations.length-1;_>-1;_+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(q.decorations[_].join("/"))>-1&&(q.decorations=q.decorations.slice(0,_).concat(q.decorations.slice(_+1)));O!=="en"&&q.strings["text-case"]==="title"&&(q.strings["text-case"]="passthrough"),O&&(S.tmp.lang_array=[O].concat(D));var R=new s.Token;R.decorations.push(["@font-style","normal"]),R.decorations.push(["@font-weight","normal"]),S.output.openLevel(R),S.output.append(A,q),S.output.closeLevel();var L=S.output.current.value(),P=S.output.current.value().blobs.length-1}if(x===I&&(I=!1),I){z.strings.prefix=S.opt.citeAffixes[c][k.tertiary].prefix,z.strings.suffix=S.opt.citeAffixes[c][k.tertiary].suffix,z.strings.prefix||(z.strings.prefix=" ");for(var _=z.decorations.length-1;_>-1;_+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(z.decorations[_].join("/"))>-1&&(z.decorations=z.decorations.slice(0,_).concat(z.decorations.slice(_+1)));T!=="en"&&z.strings["text-case"]==="title"&&(z.strings["text-case"]="passthrough"),T&&(S.tmp.lang_array=[T].concat(D));var X=new s.Token;X.decorations.push(["@font-style","normal"]),X.decorations.push(["@font-weight","normal"]),S.output.openLevel(X),S.output.append(I,z),S.output.closeLevel();var L=S.output.current.value(),P=S.output.current.value().blobs.length-1}S.output.closeLevel()}else b&&(S.tmp.lang_array=[b].concat(D)),s.UPDATE_GROUP_CONTEXT_CONDITION(S,null,null,C,C.strings.prefix+x),S.output.append(x,C),S.tmp.probably_rendered_something=!0;return S.tmp.lang_array=D,S.tmp.can_block_substitute&&S.tmp.name_node.children.push(S.output.current.value()),null}}this.getOutputFunction=p},s.Token=function(e,t,i){this.name=e,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t},s.Util.cloneToken=function(e){var t,i,r,a;if(typeof e=="string")return e;t=new s.Token(e.name,e.tokentype);for(var i in e.strings)e.strings.hasOwnProperty(i)&&(t.strings[i]=e.strings[i]);if(e.decorations)for(t.decorations=[],r=0,a=e.decorations.length;r<a;r+=1)t.decorations.push(e.decorations[r].slice());return e.variables&&(t.variables=e.variables.slice()),e.execs&&(t.execs=e.execs.slice(),e.tests&&(t.tests=e.tests.slice())),t},s.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},s.Blob=function(e,t,i){var r,a,n;if(this.levelname=i,t){this.strings={prefix:"",suffix:""};for(var n in t.strings)t.strings.hasOwnProperty(n)&&(this.strings[n]=t.strings[n]);for(this.decorations=[],t.decorations===void 0?r=0:r=t.decorations.length,a=0;a<r;a+=1)this.decorations.push(t.decorations[a].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];typeof e=="string"?this.blobs=e:e?this.blobs=[e]:this.blobs=[],this.alldecor=[this.decorations]},s.Blob.prototype.push=function(e){typeof this.blobs=="string"?s.error("Attempt to push blob onto string object"):e!==!1&&(e.alldecor=e.alldecor.concat(this.alldecor),this.blobs.push(e))},s.NumericBlob=function(e,t,i,r,a){if(this.id=a,this.alldecor=[],this.num=i,this.particle=t,this.blobs=i.toString(),this.status=s.START,this.strings={},r){if(r.strings["text-case"]){var n=r.strings["text-case"];this.particle=s.Output.Formatters[n](e,this.particle),this.blobs=s.Output.Formatters[n](e,this.blobs)}this.gender=r.gender,this.decorations=r.decorations,this.strings.prefix=r.strings.prefix,this.strings.suffix=r.strings.suffix,this.strings["text-case"]=r.strings["text-case"],this.successor_prefix=r.successor_prefix,this.range_prefix=r.range_prefix,this.splice_prefix=r.splice_prefix,this.formatter=r.formatter,this.formatter||(this.formatter=new s.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new s.Output.DefaultFormatter},s.NumericBlob.prototype.setFormatter=function(e){this.formatter=e,this.type=this.formatter.format(1)},s.Output.DefaultFormatter=function(){},s.Output.DefaultFormatter.prototype.format=function(e){return e.toString()},s.NumericBlob.prototype.checkNext=function(e,t){t?(this.status=s.START,typeof e=="object"&&(e.num===this.num+1?e.status=s.SUCCESSOR:e.status=s.SEEN)):!e||!e.num||this.type!==e.type||e.num!==this.num+1?(this.status===s.SUCCESSOR_OF_SUCCESSOR&&(this.status=s.END),typeof e=="object"&&(e.status=s.SEEN)):this.status===s.START||this.status===s.SEEN?e.status=s.SUCCESSOR:(this.status===s.SUCCESSOR||this.status===s.SUCCESSOR_OF_SUCCESSOR)&&(this.range_prefix?(e.status=s.SUCCESSOR_OF_SUCCESSOR,this.status=s.SUPPRESS):e.status=s.SUCCESSOR)},s.NumericBlob.prototype.checkLast=function(e){return this.status===s.SEEN||e.num!==this.num-1&&this.status===s.SUCCESSOR?(this.status=s.SUCCESSOR,!0):!1},s.Util.fixDateNode=function(e,t,i){var r,a,n,o,l,m,p,f,h,u,d,v,c,g=this.cslXml.getAttributeValue(i,"lingo"),S=this.cslXml.getAttributeValue(i,"default-locale");this.build.date_key=!0,r=this.cslXml.getAttributeValue(i,"form");var g;if(S?g=this.opt["default-locale"][0]:g=this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(r,S))return e;var y=this.cslXml.getAttributeValue(i,"date-parts");a=this.cslXml.getAttributeValue(i,"variable"),f=this.cslXml.getAttributeValue(i,"prefix"),h=this.cslXml.getAttributeValue(i,"suffix"),v=this.cslXml.getAttributeValue(i,"display"),c=this.cslXml.getAttributeValue(i,"cslid"),n=this.cslXml.nodeCopy(this.getDate(r,S)),this.cslXml.setAttribute(n,"lingo",this.opt.lang),this.cslXml.setAttribute(n,"form",r),this.cslXml.setAttribute(n,"date-parts",y),this.cslXml.setAttribute(n,"cslid",c),this.cslXml.setAttribute(n,"variable",a),this.cslXml.setAttribute(n,"default-locale",S),f&&this.cslXml.setAttribute(n,"prefix",f),h&&this.cslXml.setAttribute(n,"suffix",h),v&&this.cslXml.setAttribute(n,"display",v),u=this.cslXml.children(n);for(var x in u)o=u[x],this.cslXml.nodename(o)==="date-part"&&(l=this.cslXml.getAttributeValue(o,"name"),S&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",l,"@default-locale","true"));u=this.cslXml.children(i);for(var x in u)if(o=u[x],this.cslXml.nodename(o)==="date-part"){l=this.cslXml.getAttributeValue(o,"name"),d=this.cslXml.attributes(o);for(m in d)m!=="@name"&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(m)>-1||(p=d[m],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",l,m,p)))}if(this.cslXml.getAttributeValue(i,"date-parts")==="year")this.cslXml.deleteNodeByNameAttribute(n,"month"),this.cslXml.deleteNodeByNameAttribute(n,"day");else if(this.cslXml.getAttributeValue(i,"date-parts")==="year-month")this.cslXml.deleteNodeByNameAttribute(n,"day");else if(this.cslXml.getAttributeValue(i,"date-parts")==="month-day"){for(var b=this.cslXml.children(n),A=1,O=this.cslXml.numberofnodes(b);A<O;A++)if(this.cslXml.getAttributeValue(b[A],"name")==="year"){this.cslXml.setAttribute(b[A-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(n,"year")}return this.cslXml.insertChildNodeAfter(e,i,t,n)},s.dateMacroAsSortKey=function(e,t){s.dateAsSortKey.call(this,e,t,!0)},s.dateAsSortKey=function(e,t,i){var r,a,n,o,l,m,p,f,h=this.variables[0],u="empty";if(i&&e.tmp.extension&&(u="macro-with-date"),r=t[h],typeof r=="undefined"&&(r={"date-parts":[[0]]}),typeof this.dateparts=="undefined"&&(this.dateparts=["year","month","day"]),r.raw?r=e.fun.dateparser.parseDateToArray(r.raw):r["date-parts"]&&(r=e.dateParseArray(r)),typeof r=="undefined"&&(r={}),r.year)for(p=0,f=s.DATE_PARTS_INTERNAL.length;p<f;p+=1)if(a=s.DATE_PARTS_INTERNAL[p],n=0,o=a,o.slice(-4)==="_end"&&(o=o.slice(0,-4)),r[a]&&this.dateparts.indexOf(o)>-1&&(n=r[a]),a.slice(0,4)==="year"){l=s.Util.Dates[o].numeric(e,n);var m="1";l[0]==="-"&&(m="0",l=l.slice(1),l=9999-parseInt(l,10)),e.output.append(s.Util.Dates[a.slice(0,4)].numeric(e,m+l),u)}else n=s.Util.Dates[o]["numeric-leading-zeros"](e,n),n||(n="00"),e.output.append(n,u)},s.Engine.prototype.dateParseArray=function(e){var t,i,r,a;t={};for(i in e)if(i==="date-parts"){r=e["date-parts"],r.length>1&&r[0].length!==r[1].length&&s.error("CSL data error: element mismatch in date range input."),a=["","_end"];for(var n=0,o=r.length;n<o;n+=1)for(var l=0,m=s.DATE_PARTS.length;l<m;l+=1)isNaN(parseInt(r[n][l],10))?t[s.DATE_PARTS[l]+a[n]]=void 0:t[s.DATE_PARTS[l]+a[n]]=parseInt(r[n][l],10)}else e.hasOwnProperty(i)&&(i==="literal"&&typeof e.literal=="object"&&typeof e.literal.part=="string"?(s.debug("Warning: fixing up weird literal date value"),t.literal=e.literal.part):t[i]=e[i]);return t},s.Util.Names={},s.Util.Names.compareNamesets=s.NameOutput.prototype._compareNamesets,s.Util.Names.unInitialize=function(e,t){var i,r,a,n,o;if(!t)return"";for(a=t.split(/(?:\-|\s+)/),n=t.match(/(\-|\s+)/g),o="",i=0,r=a.length;i<r;i+=1)o+=a[i],i<r-1&&(o+=n[i]);return o},s.Util.Names.initializeWith=function(e,t,i,r){var a,n,o,l,m;if(!t)return"";if(i||(i=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(s.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return t;e.opt["initialize-with-hyphen"]===!1&&(t=t.replace(/\-/g," ")),t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),t=t.replace(/-([a-z])/g,"\u2013$1");for(var a=t.length-2;a>-1;a+=-1)t.slice(a,a+1)==="."&&t.slice(a+1,a+2)!==" "&&(t=t.slice(0,a)+". "+t.slice(a+1));var p=s.Output.Formatters.nameDoppel.split(t),f=[];if(f=[p.strings[0]],p.tags.length===0){var h=f[0].match(/[^\.]+$/);h&&h[0].length===1&&h[0]!==h[0].toLowerCase()&&(f[0]+=".")}for(a=1,n=p.strings.length;a<n;a+=1)f.push(p.tags[a-1]),f.push(p.strings[a]);return r?m=this.doNormalize(e,f,i):m=this.doInitialize(e,f,i),m=m.replace(/\u2013([a-z])/g,"-$1"),m},s.Util.Names.notag=function(e){return e.replace(/^(?:<[^>]+>)*/,"")},s.Util.Names.mergetag=function(e,t,i){var r=t.match(/(?:-*<[^>]+>-*)/g);if(r)t=r.join("");else return i;return r=i.match(/^(.*[^\s])*(\s+)$/),r?(r[1]=r[1]?r[1]:"",i=r[1]+t+r[2]):i=i+t,i},s.Util.Names.tagonly=function(e,t){var i=t.match(/(?:<[^>]+>)+/);return i?i.join(""):t},s.Util.Names.doNormalize=function(e,t,i){var r,a;i=i||"";var n=[];for(r=0,a=t.length;r<a;r+=1)this.notag(t[r]).length>1&&this.notag(t[r]).slice(-1)==="."?(t[r]=t[r].replace(/^(.*)\.(.*)$/,"$1$2"),n.push(!0)):t[r].length===1&&t[r].toUpperCase()===t[r]?n.push(!0):n.push(!1);for(r=0,a=t.length;r<a;r+=2)n[r]&&(r<t.length-2&&(t[r+1]=this.tagonly(e,t[r+1]),n[r+2]||(t[r+1]=this.tagonly(e,t[r+1])+" "),t[r+2].length>1?t[r+1]=i.replace(/\ufeff$/,"")+t[r+1]:t[r+1]=this.mergetag(e,t[r+1],i)),r===t.length-1&&(t[r]=t[r]+i));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},s.Util.Names.doInitialize=function(e,t,i){var r,a,n,o,l,m,p;for(r=0,a=t.length;r<a;r+=2)if(p=t[r],!!p)if(n=p.match(s.NAME_INITIAL_REGEXP),!n&&!p.match(s.STARTSWITH_ROMANESQUE_REGEXP)&&p.length>1&&i.match("%s")&&(n=p.match(/(.)(.*)/)),n&&n[2]&&n[3]&&(n[1]=n[1]+n[2],n[2]=""),n&&n[1].slice(0,1)===n[1].slice(0,1).toUpperCase()){var f="";if(n[2]){var h="";for(m=n[2].split(""),o=0,l=m.length;o<l;o+=1){var u=m[o];if(u===u.toUpperCase())h+=u;else break}h.length<n[2].length&&(f=s.toLocaleLowerCase.call(e,h))}t[r]=n[1]+f,r<a-1?i.match("%s")?t[r]=i.replace("%s",t[r]):t[r+1].indexOf("-")>-1?t[r+1]=this.mergetag(e,t[r+1].replace("-",""),i)+"-":t[r+1]=this.mergetag(e,t[r+1],i):i.match("%s")?t[r]=i.replace("%s",t[r]):t.push(i)}else p.match(s.ROMANESQUE_REGEXP)&&(!n||!n[3])&&(t[r]=" "+p);var d=t.join("");return d=d.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," "),d},s.Util.Names.getRawName=function(e){var t=[];return e.literal?t.push(e.literal):(e.given&&t.push(e.given),e.family&&t.push(e.family)),t.join(" ")},s.Util.Dates={},s.Util.Dates.year={},s.Util.Dates.year.long=function(e,t){return t||(typeof t=="boolean"?t="":t=0),t.toString()},s.Util.Dates.year.imperial=function(e,t,i){var r="";t||(typeof t=="boolean"?t="":t=0),i=i?"_end":"";var a=e.tmp.date_object["month"+i];for(a=a?""+a:"1";a.length<2;)a="0"+a;var n=e.tmp.date_object["day"+i];for(n=n?""+n:"1";n.length<2;)n="0"+n;var o=parseInt(t+a+n,10),l,m;if(o>=18680908&&o<19120730?(l="\u660E\u6CBB",m=1867):o>=19120730&&o<19261225?(l="\u5927\u6B63",m=1911):o>=19261225&&o<19890108?(l="\u662D\u548C",m=1925):o>=19890108&&(l="\u5E73\u6210",m=1988),l&&m){var p=l;e.sys.normalizeAbbrevsKey&&(p=e.sys.normalizeAbbrevsKey("number",l)),e.transform.abbrevs.default.number[p]||e.transform.loadAbbreviation("default","number",p,null),e.transform.abbrevs.default.number[p]&&(l=e.transform.abbrevs.default.number[p]),r=l+(t-m)}return r},s.Util.Dates.year.short=function(e,t){if(t=t.toString(),t&&t.length===4)return t.substr(2)},s.Util.Dates.year.numeric=function(e,t){var r,i;t=""+t;var r=t.match(/([0-9]*)$/);for(r?(i=t.slice(0,r[1].length*-1),t=r[1]):(i=t,t="");t.length<4;)t="0"+t;return i+t},s.Util.Dates.normalizeMonth=function(e,t){var i;if(e||(e=0),e=""+e,e.match(/^[0-9]+$/)||(e=0),e=parseInt(e,10),t){var r={stub:"month-",num:e};if(r.num<1||r.num>24)r.num=0;else{for(;r.num>16;)r.num=r.num-4;r.num>12&&(r.stub="season-",r.num=r.num-12)}i=r}else(e<1||e>12)&&(e=0),i=e;return i},s.Util.Dates.month={},s.Util.Dates.month.numeric=function(e,i){var i=s.Util.Dates.normalizeMonth(i);return i||(i=""),i},s.Util.Dates.month["numeric-leading-zeros"]=function(e,i){var i=s.Util.Dates.normalizeMonth(i);if(!i)i="";else for(i=""+i;i.length<2;)i="0"+i;return i},s.Util.Dates.month.long=function(e,n,i,r){var a=s.Util.Dates.normalizeMonth(n,!0),n=a.num;if(!n)n="";else{for(n=""+n;n.length<2;)n="0"+n;n=e.getTerm(a.stub+n,"long",0,0,!1,r)}return n},s.Util.Dates.month.short=function(e,n,i,r){var a=s.Util.Dates.normalizeMonth(n,!0),n=a.num;if(!n)n="";else{for(n=""+n;n.length<2;)n="0"+n;n=e.getTerm(a.stub+n,"short",0,0,!1,r)}return n},s.Util.Dates.day={},s.Util.Dates.day.numeric=function(e,t){return t.toString()},s.Util.Dates.day.long=s.Util.Dates.day.numeric,s.Util.Dates.day["numeric-leading-zeros"]=function(e,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()},s.Util.Dates.day.ordinal=function(e,t,i){return e.fun.ordinalizer.format(t,i)},s.Util.Sort={},s.Util.Sort.strip_prepositions=function(e){var t;return typeof e=="string"&&(t=e.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(e=e.substr(t[1].length)),e},s.Util.substituteStart=function(e,t){var i,r,a,n,o,l,m;n=function(p,f,h){for(var u=0,d=this.decorations.length;u<d;u+=1)if(this.decorations[u][0]==="@strip-periods"&&this.decorations[u][1]==="true"){p.tmp.strip_periods+=1;break}},this.execs.push(n),this.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),m=["number","date","names"],(this.name==="text"&&!this.postponed_macro||m.indexOf(this.name)>-1)&&(i=function(p,f,h){p.tmp.element_trace.value()==="author"||this.name==="names"?(!p.tmp.just_looking&&h&&h["author-only"]&&p.tmp.area!=="intext"&&p.tmp.probably_rendered_something&&p.tmp.element_trace.push("suppress-me"),!p.tmp.just_looking&&h&&h["suppress-author"]&&(p.tmp.probably_rendered_something||p.tmp.element_trace.push("suppress-me"))):this.name==="date"?!p.tmp.just_looking&&h&&h["author-only"]&&p.tmp.area!=="intext"&&p.tmp.probably_rendered_something&&p.tmp.element_trace.push("suppress-me"):!p.tmp.just_looking&&h&&h["author-only"]&&p.tmp.area!=="intext"?!p.tmp.probably_rendered_something&&p.tmp.can_block_substitute||p.tmp.element_trace.push("suppress-me"):h&&h["suppress-author"]&&p.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(i)),r=this.strings.cls,this.strings.cls=!1,e.build.render_nesting_level===0&&(e.build.area==="bibliography"&&e.bibliography.opt["second-field-align"]?(a=new s.Token("group",s.START),a.decorations=[["@display","left-margin"]],n=function(p,f){p.tmp.render_seen||(a.strings.first_blob=f.id,p.output.startTag("bib_first",a))},a.execs.push(n),t.push(a)):s.DISPLAY_CLASSES.indexOf(r)>-1&&(a=new s.Token("group",s.START),a.decorations=[["@display",r]],n=function(p,f){a.strings.first_blob=f.id,p.output.startTag("bib_first",a)},a.execs.push(n),t.push(a)),e.build.cls=r),e.build.render_nesting_level+=1,e.build.substitute_level.value()===1&&(o=new s.Token("choose",s.START),s.Node.choose.build.call(o,e,t),l=new s.Token("if",s.START),n=function(){return!!e.tmp.can_substitute.value()},l.tests||(l.tests=[]),l.tests.push(n),l.test=e.fun.match.any(this,e,l.tests),t.push(l)),e.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(n=function(p,f,h){if(!p.tmp.just_looking&&!p.tmp.suppress_decorations){var u=new s.Token("text",s.START);u.decorations=[["@showid","true"]],p.output.startTag("variable_entry",u);var d=null;h&&(d=h.position),d||(d=0);var v=["first","container-subsequent","subsequent","ibid","ibid-with-locator"],c=0;h&&h.noteIndex&&(c=h.noteIndex);var S=0;h&&h["first-reference-note-number"]&&(S=h["first-reference-note-number"]);var g=0;h&&h["first-container-reference-note-number"]&&(g=h["first-container-reference-note-number"]);var y=0;h&&h["citation-number"]&&(y=h["citation-number"]);var x=0;h&&h.index&&(x=h.index);var b={itemData:f,variableNames:this.variables,context:p.tmp.area,xclass:p.opt.xclass,position:v[d],"note-number":c,"first-reference-note-number":S,"first-container-reference-note-number":g,"citation-number":y,index:x,mode:p.opt.mode};p.output.current.value().params=b}},this.execs.push(n))},s.Util.substituteEnd=function(e,t){var i,r,a,n,o,l,m;if(e.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(i=function(f){!f.tmp.just_looking&&!f.tmp.suppress_decorations&&f.output.endTag("variable_entry")},this.execs.push(i)),i=function(f){for(var h=0,u=this.decorations.length;h<u;h+=1)if(this.decorations[h][0]==="@strip-periods"&&this.decorations[h][1]==="true"){f.tmp.strip_periods+=-1;break}},this.execs.push(i),e.build.render_nesting_level+=-1,e.build.render_nesting_level===0&&(e.build.cls?(i=function(f){f.output.endTag("bib_first")},this.execs.push(i),e.build.cls=!1):e.build.area==="bibliography"&&e.bibliography.opt["second-field-align"]&&(r=new s.Token("group",s.END),i=function(f){f.tmp.render_seen||f.output.endTag("bib_first")},r.execs.push(i),t.push(r),a=new s.Token("group",s.START),a.decorations=[["@display","right-inline"]],i=function(f){f.tmp.render_seen||(f.tmp.render_seen=!0,f.output.startTag("bib_other",a))},a.execs.push(i),t.push(a))),e.build.substitute_level.value()===1&&(n=new s.Token("if",s.END),t.push(n),o=new s.Token("choose",s.END),s.Node.choose.build.call(o,e,t)),this.name==="names"||this.name==="text"&&this.variables_real!=="title"){l=new s.Token("text",s.SINGLETON);var p=this.name;i=function(f,h){if(f.tmp.area==="bibliography"&&typeof f.bibliography.opt["subsequent-author-substitute"]=="string"&&!(this.variables_real&&!h[this.variables_real])&&!(this.variables_real&&p==="names")){var u=f.bibliography.opt["subsequent-author-substitute-rule"],d,v,c=!f.tmp.suppress_decorations;if(c&&f.tmp.subsequent_author_substitute_ok&&f.tmp.rendered_name){if(u==="partial-each"||u==="partial-first"){var S=!0,g=[];for(d=0,v=f.tmp.name_node.children.length;d<v;d+=1){var y=f.tmp.rendered_name[d];S&&f.tmp.last_rendered_name&&f.tmp.last_rendered_name.length>d-1&&y&&!y.localeCompare(f.tmp.last_rendered_name[d])?(m=new s.Blob(f[f.tmp.area].opt["subsequent-author-substitute"]),f.tmp.name_node.children[d].blobs=[m],u==="partial-first"&&(S=!1)):S=!1,g.push(y)}f.tmp.last_rendered_name=g}else if(u==="complete-each"){var g=f.tmp.rendered_name.join(",");if(g){if(f.tmp.last_rendered_name&&!g.localeCompare(f.tmp.last_rendered_name))for(d=0,v=f.tmp.name_node.children.length;d<v;d+=1)m=new s.Blob(f[f.tmp.area].opt["subsequent-author-substitute"]),f.tmp.name_node.children[d].blobs=[m];f.tmp.last_rendered_name=g}}else{var g=f.tmp.rendered_name.join(",");g&&(f.tmp.last_rendered_name&&!g.localeCompare(f.tmp.last_rendered_name)&&(m=new s.Blob(f[f.tmp.area].opt["subsequent-author-substitute"]),f.tmp.label_blob?f.tmp.name_node.top.blobs=[m,f.tmp.label_blob]:f.tmp.name_node.top.blobs.length?f.tmp.name_node.top.blobs[0].blobs=[m]:f.tmp.name_node.top.blobs=[m],f.tmp.substituted_variable=p),f.tmp.last_rendered_name=g)}f.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(i)}(this.name==="text"&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(i=function(f,h){f.tmp.element_trace.mystack.length>1&&f.tmp.element_trace.pop()},this.execs.push(i))},s.Util.padding=function(e){var t=e.match(/\s*(-{0,1}[0-9]+)/);if(t)for(e=parseInt(t[1],10),e<0&&(e=1e20+e),e=""+e;e.length<20;)e="0"+e;return e},s.Util.LongOrdinalizer=function(){},s.Util.LongOrdinalizer.prototype.init=function(e){this.state=e},s.Util.LongOrdinalizer.prototype.format=function(e,t){e<10&&(e="0"+e);var i=s.Engine.getField(s.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+e,"long",0,t);return i||(i=this.state.fun.ordinalizer.format(e,t)),this.state.tmp.cite_renders_content=!0,i},s.Util.Ordinalizer=function(e){this.state=e,this.suffixes={}},s.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var e=0,t=3;e<t;e+=1){var i=[void 0,"masculine","feminine"][e];this.suffixes[this.state.opt.lang][i]=[];for(var r=1;r<5;r+=1){var a=this.state.getTerm("ordinal-0"+r,"long",!1,i);if(typeof a=="undefined"){delete this.suffixes[this.state.opt.lang][i];break}this.suffixes[this.state.opt.lang][i].push(a)}}}},s.Util.Ordinalizer.prototype.format=function(e,t){var i;e=parseInt(e,10),i=""+e;var r="",a=[];if(t&&a.push(t),a.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){r=this.state.getTerm("ordinal",!1,0,t);for(var n,o=0,l=a.length;o<l;o+=1){n=a[o];var m=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(m["whole-number"][i]&&m["whole-number"][i][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][n],!1,0,t):m["last-two-digits"][i.slice(i.length-2)]&&m["last-two-digits"][i.slice(i.length-2)][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][n],!1,0,t):m["last-digit"][i.slice(i.length-1)]&&m["last-digit"][i.slice(i.length-1)][n]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][n],!1,0,t)),r)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),e/10%10===1||e>10&&e<20?r=this.suffixes[this.state.opt.lang][t][3]:e%10===1&&e%100!==11?r=this.suffixes[this.state.opt.lang][t][0]:e%10===2&&e%100!==12?r=this.suffixes[this.state.opt.lang][t][1]:e%10===3&&e%100!==13?r=this.suffixes[this.state.opt.lang][t][2]:r=this.suffixes[this.state.opt.lang][t][3];return i=i+=r,i},s.Util.Romanizer=function(){},s.Util.Romanizer.prototype.format=function(e){var t,i,r,a,n;if(t="",e<6e3)for(a=e.toString().split(""),a.reverse(),i=0,r=0,n=a.length,i=0;i<n;i+=1)r=parseInt(a[i],10),t=s.ROMAN_NUMERALS[i][r]+t;return t},s.Util.Suffixator=function(e){e||(e=s.SUFFIX_CHARS),this.slist=e.split(",")},s.Util.Suffixator.prototype.format=function(e){var t;e+=1;var i="";do{t=e%26===0?26:e%26;var i=this.slist[t-1]+i;e=(e-t)/26}while(e!==0);return i},s.Engine.prototype.processNumber=function(e,t,i){var r,a=this,n=i;i=i==="page-first"?"page":i;var o=",\\s+and\\s+|\\s+and\\s+";this.opt.lang.slice(0,2)!=="en"&&(o+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var l="\\s*&\\s*",m=new RegExp("^"+l+"$"),p=new RegExp("("+l+"|"+o+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),f=new RegExp("(?:"+l+"|"+o+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),h=this.getTerm("and"),u=this.getTerm("and","symbol");h===u&&(u="&");function d(R){R=R.trim();var L=R.match(/^([^ ]+)/);if(L&&!s.STATUTE_SUBDIV_STRINGS[L[1]]){var P=null;["locator","locator-extra","page"].indexOf(i)>-1?t.label?P=s.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:P="p.":P=s.STATUTE_SUBDIV_STRINGS_REVERSE[i],P&&(R=P+" "+R)}return R}function v(R,L,P,X,B){X=X||"";var F={};if(!L&&!s.STATUTE_SUBDIV_STRINGS_REVERSE[i]&&(L="var:"+i),L){var G=L.match(/(\s*)([^\s]+)(\s*)/);n==="page"&&B===0&&["p.","pp."].indexOf(G[2])===-1?(F.gotosleepability=!0,F.labelVisibility=!0):F.labelVisibility=!1,F.label=G[2],F.origLabel=R,F.labelSuffix=G[3]?G[3]:"",F.plural=0}var G=P.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return G?(F.particle=G[1]?G[1]:"",F.value=G[2]):(F.particle="",F.value=P),F.joiningSuffix=X.replace(/\s*-\s*/,"-"),F}function c(R){for(var L=R.length-2;L>-1;L-=2)R[L]==="-"&&R[L-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&R[L+1].match(/^[,a-zA-Z]+$/)&&(R[L-1]=R.slice(L-1,L+2).join(""),R=R.slice(0,L).concat(R.slice(L+2)));return R}function S(R,L){L=L||"",R=d(R,L);var P,X,B;if(i==="page"&&R.indexOf("\u2013")>-1&&(R=R.replace(/\u2013/g,"-")),R.indexOf("\\-")>-1){P=new RegExp(p.source.replace("\\-","")),X=new RegExp(f.source.replace("\\-",""));for(var F=R.split("\\-"),G=0,V=F.length;G<V;G++)F[G]=F[G].replace(/\-/g,"\u2013");B=F.join("\\-"),B=B.replace(/\\/g,"")}else P=p,X=f,B=R;var $=[],Q=B.match(P);if(Q){for(var F=B.split(X),G=0,V=Q.length;G<V;G++)Q[G].match(m)&&(F[G].match(/[a-zA-Z]$/)&&F[G].match(/^[a-zA-Z]/)?Q[G]=u:Q[G]=" "+u+" ");var Y=!1;for(var G in F)if((""+F[G]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;if(Y)$=[B];else{for(var G=0,V=F.length-1;G<V;G++)$.push(F[G]),$.push(Q[G]);$.push(F[F.length-1]),$=c($)}}else var $=[B];for(var W=[],H=L,ee="",G=0,V=$.length;G<V;G+=2){var Q=$[G].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g);if(Q){for(var F=$[G].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/),J=F.length-1;J>0;J--)F[J-1]&&(!F[J].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||!F[J-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/))&&(F[J-1]=F[J-1]+Q[J-1]+F[J],F=F.slice(0,J).concat(F.slice(J+1)),Q=Q.slice(0,J-1).concat(Q.slice(J)));if(Q.length>0){var te=Q[0].trim(),se=!s.STATUTE_SUBDIV_STRINGS[te]||typeof a.getTerm(s.STATUTE_SUBDIV_STRINGS[te])=="undefined"||["locator","number","locator-extra","page"].indexOf(i)===-1&&s.STATUTE_SUBDIV_STRINGS[te]!==i;se?G===0&&(Q=Q.slice(1),F[0]=F[0]+" "+te+" "+F[1],F=F.slice(0,1).concat(F.slice(2))):ee=te}for(var J=0,K=F.length;J<K;J++)if(F[J]||J===F.length-1){var ie;H=Q[J-1]?Q[J-1]:H,ee===H.trim()?ie="":ie=ee,B=F[J]?F[J].trim():"",J===F.length-1?W.push(v(ie,H,B,$[G+1],G)):W.push(v(ie,H,B,null,G))}}else{var ie;ee===H.trim()?ie="":ie=ee,W.push(v(ie,H,$[G],$[G+1]))}}return W}function g(R){for(var L=0,P=R.length-1;L<P;L++)!R[L].joiningSuffix&&R[L+1].label&&(R[L].joiningSuffix=" ")}function y(R,L,P){var X=R[P.pos],B=R[L].value,F=X.joiningSuffix==="\\-";B.particle&&B.particle!==X.particle&&(P.collapsible=!1);var G=B.match(/^[0-9]+([-,:a-zA-Z]*)$/),V=X.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if((!B||!G||!V||F)&&(P.collapsible=!1,(!B||!V)&&(P.numeric=!1),F&&P.count--),(G&&G[1]||V&&V[1])&&(P.collapsible=!1),R[L].collapsible===void 0){for(var $=L,Q=L+P.count;$<Q;$++)isNaN(parseInt(R[$].value))&&!R[$].value.match(/^[ivxlcmIVXLCM]+$/)?R[$].collapsible=!1:R[$].collapsible=!0;P.collapsible=R[L].collapsible}for(var Y=P.collapsible,$=P.pos,Q=P.pos+P.count;$<Q;$++)P.count>1&&Y&&(R[$].plural=1),R[$].numeric=P.numeric,R[$].collapsible=P.collapsible}function x(R,L,P){P.label.slice(0,4)!=="var:"&&(P.pos===0?(["locator","number","locator-extra","page"].indexOf(i)>-1&&typeof a.getTerm(s.STATUTE_SUBDIV_STRINGS[P.label])=="undefined"&&(R[P.pos].labelVisibility=!0),["locator","number","locator-extra","page"].indexOf(i)===-1&&s.STATUTE_SUBDIV_STRINGS[P.label]!==i&&(R[0].labelVisibility=!0)):R[P.pos].labelVisibility=!0)}function b(R){if(R.length!==0){for(var L=0,P=1,X=1,B=R.length;X<B;X++){var F=R[X-1],G=R[X];if(F.label===G.label&&F.particle===F.particle)P++;else{var V=JSON.parse(JSON.stringify(R[L]));V.pos=L,V.count=P,V.numeric=!0,y(R,L,V),F.label!==G.label&&x(R,L,V),L=X,P=1}}var V=JSON.parse(JSON.stringify(R[L]));V.pos=L,V.count=P,V.numeric=!0,y(R,L,V),x(R,L,V),R.length&&R[0].numeric&&i.slice(0,10)==="number-of-"&&parseInt(t[n],10)>1&&(R[0].plural=1)}}function A(R){return R.replace("\\-","-")}function O(R){var L=s.Util.cloneToken(e),P=new s.Token;a.tmp.just_looking||(P.decorations=L.decorations,L.decorations=[],P.strings.prefix=L.strings.prefix,L.strings.prefix="",P.strings.suffix=L.strings.suffix,L.strings.suffix="");var X=R.length?R[0].label:null;if(R.length){for(var B=0,F=R.length;B<F;B++){var G=R[B],V=s.Util.cloneToken(L);V.gender=e.gender,X===G.label&&(V.formatter=e.formatter),G.numeric&&(V.successor_prefix=G.successor_prefix),V.strings.suffix=V.strings.suffix+A(G.joiningSuffix),G.styling=V}a.tmp.just_looking||R[0].value.slice(0,1)==='"'&&R[R.length-1].value.slice(-1)==='"'&&(R[0].value=R[0].value.slice(1),R[R.length-1].value=R[R.length-1].value.slice(0,-1),P.decorations.push(["@quotes",!0]))}return P}function I(R,L){var P=!0;if(["locator","locator-extra","page"].indexOf(R)>-1){var X;L.origLabel?X=L.origLabel:X=L.label,P=!!a.getTerm(s.STATUTE_SUBDIV_STRINGS[X])}return P}function T(R,L){return R==="page"||["locator","locator-extra"].indexOf(R)>-1&&(["p."].indexOf(L.label)>-1||["p."].indexOf(L.origLabel)>-1)}function k(R,L,P,X){var B=T(R,L),F=I(R,L);return F&&P==="-"&&X&&((B||["locator","locator-extra","issue","volume","edition","number"].indexOf(R)>-1)&&(P=a.getTerm("page-range-delimiter"),P||(P="\u2013")),R==="collection-number"&&(P=a.getTerm("year-range-delimiter"),P||(P="\u2013"))),P}function N(R,L,P){if(!(L<1)&&P.count===2&&R[L-1].particle===R[L].particle){if(R[L-1].joiningSuffix!=="-"){P.count=1;return}if(!a.opt["page-range-format"]&&parseInt(R[L-1].value,10)>parseInt(R[L].value,10)){R[L-1].joiningSuffix=k(i,R[L],R[L-1].joiningSuffix,!0);return}var X=R[L],B=T(i,X),F;B&&!isNaN(parseInt(R[L-1].value))&&!isNaN(parseInt(R[L].value))?(F=R[L-1].particle+R[L-1].value+" - "+R[L].particle+R[L].value,F=a.fun.page_mangler(F)):((""+R[L-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+R[L].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(R[L-1].joiningSuffix=a.getTerm("page-range-delimiter")),F=R[L-1].value+A(R[L-1].joiningSuffix)+R[L].value);var G=F.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(G){var V=G[3];V=k(i,X,V,R[L].numeric),R[L-1].particle=G[1],R[L-1].value=G[2],R[L-1].joiningSuffix=V,R[L].particle=G[4],R[L].value=G[5]}P.count=0}}function _(R){if(e&&["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(i)!==-1){for(var L={count:0,label:null,lastHadRangeDelimiter:!1},P=0,X=R.length;P<X;P++){var B=R[P];if(B.collapsible)L.label===B.label&&B.joiningSuffix==="-"?L.count=1:L.label===B.label&&B.joiningSuffix!=="-"?(L.count++,L.count===2&&N(R,P,L)):L.label!==B.label?(L.label=B.label,L.count=1):(L.count=1,L.label=B.label);else{L.count=0,L.label=null;var F=B.numeric;B.joiningSuffix=k(i,B,B.joiningSuffix,F)}}L.count===2&&N(R,R.length-1,L)}}function w(R,L,P){var X=R[L];P.length&&(X.numeric=P[0].numeric,X.collapsible=P[0].collapsible,X.plural=P[0].plural,X.label=s.STATUTE_SUBDIV_STRINGS[P[0].label],i==="number"&&X.label==="issue"&&a.getTerm("number")&&(X.label="number"))}if(e&&this.tmp.shadow_numbers[n]&&this.tmp.shadow_numbers[n].values.length){var D=this.tmp.shadow_numbers[n].values;_(D),this.tmp.shadow_numbers[n].masterStyling=O(D);return}if(this.tmp.shadow_numbers[n]||(this.tmp.shadow_numbers[n]={values:[]}),!!t){var E=s.LangPrefsMap[i];if(E){var C=this.opt["cite-lang-prefs"][E][0];r=this.transform.getTextSubField(t,n,"locale-"+C,!0),r=r.name}else r=t[n];if(r&&n==="number"&&t.type==="legal_case"&&(r=r.replace(/[\\]*-/g,"\\-")),r&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var U=this.sys.normalizeAbbrevsKey(n,r);else var U=r;var q=this.transform.loadAbbreviation(t.jurisdiction,"number",U,t.language);this.transform.abbrevs[q].number&&(this.transform.abbrevs[q].number[U]?r=this.transform.abbrevs[q].number[U]:typeof this.transform.abbrevs[q].number[U]!="undefined"&&delete this.transform.abbrevs[q].number[U])}if(typeof r!="undefined"&&(typeof r=="string"||typeof r=="number")){typeof r=="number"&&(r=""+r);var z=s.STATUTE_SUBDIV_STRINGS_REVERSE[i];if(this.tmp.shadow_numbers[n].values.length===0){var D=S(r,z);g(D),b(D);for(var j of D)j.numeric||(j.plural=0);this.tmp.shadow_numbers[n].values=D,e&&(_(D),this.tmp.shadow_numbers[n].masterStyling=O(D)),w(this.tmp.shadow_numbers,n,D)}var M=this.tmp.shadow_numbers[n];i==="number"&&M.values.length===1&&M.values[0].value.indexOf("|")>-1&&(M.values[0].value=M.values[0].value.replace(/\|/g,", "),M.values[0].numeric=!0,M.values[0].plural=1,M.values[0].collapsible=!1,M.numeric=!0,M.plural=1,M.collapsible=!1),M.values.length===1&&M.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(M.values[0].numeric=!0,M.values[0].plural=0,M.values[0].collapsible=!1,M.numeric=!0,M.plural=0,M.collapsible=!1),i==="page"&&M.values.length>0&&M.values[0].gotosleepability&&(M.labelForm="short")}}},s.Util.outputNumericField=function(e,t,i){e.output.openLevel(e.tmp.shadow_numbers[t].masterStyling);var r=e.tmp.shadow_numbers[t].masterStyling,a=e.tmp.shadow_numbers[t].values,n=a.length?a[0].label:null,o=e.tmp.shadow_numbers[t].labelForm,l=e.tmp.group_context.tip.label_static,m;o?m=o:m="short";for(var p=e.tmp.shadow_numbers[t].labelCapitalizeIfFirst,f=e.tmp.shadow_numbers[t].labelDecorations,h=null,u=0,d=a.length;u<d;u++){var v=a[u],c="",S;v.label&&(v.label.slice(0,4)==="var:"?S=v.label.slice(4):S=s.STATUTE_SUBDIV_STRINGS[v.label],S&&(v.label===n?(l&&(c=e.getTerm(S,"static",v.plural),c.indexOf("%s")===-1&&(c="")),c||(c=e.getTerm(S,o,v.plural))):(l&&(c=e.getTerm(S,"static",v.plural),c.indexOf("%s")===-1&&(c="")),c||(c=e.getTerm(S,m,v.plural))),p&&(c=s.Output.Formatters["capitalize-first"](e,c))));var g=-1;c&&(g=c.indexOf("%s"));var y=s.Util.cloneToken(v.styling);if(y.formatter=v.styling.formatter,y.type=v.styling.type,y.num=v.styling.num,y.gender=v.styling.gender,g>0&&g<c.length-2)y.strings.prefix+=c.slice(0,g),y.strings.suffix=c.slice(g+2)+y.strings.suffix;else if(v.labelVisibility)if(c||(c=v.label,S=v.label),g>0){var x=new s.Token;x.decorations=f,e.output.append(c.slice(0,g),x)}else(g===c.length-2||g===-1)&&e.output.append(c+v.labelSuffix,"empty");if(s.UPDATE_GROUP_CONTEXT_CONDITION(e,r.strings.prefix,null,r,`${v.particle}${v.value}`),v.collapsible){var b;v.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(v.value,10))?b=new s.NumericBlob(e,v.particle,parseInt(v.value,10),y,i):b=new s.NumericBlob(e,v.particle,v.value,y,i),typeof b.gender=="undefined"&&(b.gender=e.locale[e.opt.lang]["noun-genders"][t]),e.output.append(b,"literal")}else e.output.append(v.particle+v.value,y);if(g===0&&g<c.length-2&&(h===null&&(h=S),S!==h||u===a.length-1)){var A=new s.Token;A.decorations=f,e.output.append(c.slice(g+2),A)}h=S,e.tmp.term_predecessor=!0}e.output.closeLevel()},s.Util.PageRangeMangler={},s.Util.PageRangeMangler.getFunction=function(e,t){var i,r,a,n,o,l,m,p,f,h,u,d,v,c,S,g,y,x,b=e.getTerm(t+"-range-delimiter");i=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,n=function(O){for(a=O.length,r=1;r<a;r+=2)typeof O[r]=="object"&&(O[r]=O[r].join(""));var I=O.join("");return I=I.replace(/([^\\])\-/g,"$1"+e.getTerm(t+"-range-delimiter")),I},o=function(O){var I,T,k,N="\\s+\\-\\s+",_=b==="-"?"":b,w=new RegExp("([^\\\\])[-"+_+"\\u2013]","g");O=O.replace(w,"$1 - ").replace(/\s+-\s+/g," - ");var D=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+N+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),E=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+N+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(I=O.match(D),T=O.split(E),T.length===0)k=I;else for(k=[T[0]],r=1,a=T.length;r<a;r+=1)k.push(I[r-1].replace(/\s*\-\s*/g,"-")),k.push(T[r]);return k},l=function(O){for(O=""+O,u=o(O),a=u.length,r=1;r<a;r+=2)d=u[r].match(i),d&&(!d[3]||d[1]===d[3])&&(d[4].length<d[2].length&&(d[4]=d[2].slice(0,d[2].length-d[4].length)+d[4]),parseInt(d[2],10)<parseInt(d[4],10)&&(d[3]=b+(d[1]?d[1]:""),u[r]=d.slice(1))),typeof u[r]=="string"&&(u[r]=u[r].replace(/\-/g,b));return u},m=function(O,I,T){a=O.length;for(var k=1,N=O.length;k<N;k+=2)typeof O[k]=="object"&&(O[k][3]=p(O[k][1],O[k][3],I,T),O[k][2].slice(1)===O[k][0]&&(O[k][2]=b));return n(O)},p=function(O,I,T,k){if(T||(T=0),v=(""+O).split(""),c=(""+I).split(""),S=c.slice(),S.reverse(),v.length===c.length)for(var N=0,_=v.length;N<_;N+=1)if(v[N]===c[N]&&S.length>T)S.pop();else{if(T&&k&&S.length===3){var w=v.slice(0,N);w.reverse(),S=S.concat(w)}break}return S.reverse(),S.join("")},f=function(O){for(a=O.length,r=1;r<a;r+=2)typeof O[r]=="object"&&(d=O[r],g=parseInt(d[1],10),y=parseInt(d[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(y/100,10)?d[3]=""+y%100:g>=1e4&&(d[3]=""+y%1e3)),d[2].slice(1)===d[0]&&(d[2]=b);return n(O)},h=function(O){for(a=O.length,r=1;r<a;r+=2){if(typeof O[r]=="object"&&(d=O[r],g=parseInt(d[1],10),y=parseInt(d[3],10),c=""+y,g>100&&g%100))for(var I=2;I<c.length;I++){var T=Math.pow(10,I);if(Math.floor(g/T)===Math.floor(y/T)){d[3]=""+y%T;break}}d[2].slice(1)===d[0]&&(d[2]=b)}return n(O)};var A=function(O,I,T,k){var _;O=""+O;var N=l(O),_=I(N,T,k);return _};return e.opt[t+"-range-format"]?e.opt[t+"-range-format"]==="expanded"?x=function(O){return A(O,n)}:e.opt[t+"-range-format"]==="minimal"?x=function(O){return A(O,m)}:e.opt[t+"-range-format"]==="minimal-two"?x=function(O,I){return A(O,m,2,I)}:e.opt[t+"-range-format"]==="chicago"?x=function(O){return A(O,f)}:e.opt[t+"-range-format"]==="chicago-15"?x=function(O){return A(O,f)}:e.opt[t+"-range-format"]==="chicago-16"&&(x=function(O){return A(O,h)}):x=function(O){return A(O,n)},x},s.Util.FlipFlopper=function(e){var t=[],i={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};i['("']=i[' "'],i["('"]=i[" '"];var r=e.getTerm("open-quote"),a=e.getTerm("close-quote"),n=e.getTerm("open-inner-quote"),o=e.getTerm("close-inner-quote");r&&a&&[' "'," '",'"',"'"].indexOf(r)===-1&&(i[r]=JSON.parse(JSON.stringify(i[' "'])),i[r].opener=r,i[r].closer=a),n&&o&&[' "'," '",'"',"'"].indexOf(n)===-1&&(i[n]=JSON.parse(JSON.stringify(i[" '"])),i[n].opener=n,i[n].closer=o);function l(y){var x={" '":' "',' "':" '",'("':"('","('":'("'};i[y].outer="true",i[x[y]].outer="inner"}function m(y){for(var x=[],b=Object.keys(i),A=0,O=b.length;A<O;A++){var I=b[A];(i[y].type!=="quote"||!i[y])&&x.push(I)}var T=i[y];return T.opener=new RegExp("^(?:"+x.map(function(k){return k.replace("(","\\(")}).join("|")+")"),T}var p=function(){for(var y={},x=Object.keys(i),b=0,A=x.length;b<A;b++){var O=x[b];y[O]=m(O)}return y}(),f=function(){var y=[],x=[],b={};for(var A in p)y.push(A),b[p[A].closer]=!0;for(var O=Object.keys(b),I=0,T=O.length;I<T;I++){var k=O[I];x.push(k)}var N=y.concat(x).map(function(_){return _.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+N+"))","g"),splitAll:new RegExp("(?:"+N+")","g"),open:new RegExp("(^(?:"+y.map(function(_){return _.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+x.join("|")+")$)")}}();function h(y,x){var b=t[t.length-1];return!b||y.match(b.opener)?(t.push({type:p[y].type,opener:p[y].opener,closer:p[y].closer,pos:x}),!1):(t.pop(),t.push({type:p[y].type,opener:p[y].opener,closer:p[y].closer,pos:x}),{fixtag:b.pos})}function u(y,x){var b=t[t.length-1];return b&&y===b.closer?(t.pop(),b.type==="nocase"?{nocase:{open:b.pos,close:x}}:!1):b?{fixtag:b.pos}:{fixtag:x}}function d(y,x){return y.match(f.open)?h(y,x):u(y,x)}function v(y){var x=[];y=y.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4'),y=y.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3");var b=y.match(f.matchAll);if(!b)return{tags:[],strings:[y],forcedSpaces:[]};for(var A=y.split(f.splitAll),O=0,I=b.length-1;O<I;O++)i[b[O]]&&(A[O+1]===""&&['"',"'"].indexOf(b[O+1])>-1?(b[O+1]=" "+b[O+1],x.push(!0)):x.push(!1));return{tags:b,strings:A,forcedSpaces:x}}var c=function(y){var x=[];this.set=function(b){for(var A=i[b].attr,O=null,I=x.length-1;I>-1;I--){var T=x[I];if(T[0]===A){O=T;break}}if(!O){var k=[e[e.tmp.area].opt.layout_decorations].concat(y.alldecor);e:for(var I=k.length-1;I>-1;I--){var N=k[I];if(N)for(var _=N.length-1;_>-1;_--){var T=N[_];if(T[0]===A){O=T;break e}}}}O?O=[A,i[b].flipflop[O[1]]]:O=[A,i[b].outer],x.push(O)},this.pair=function(){return x[x.length-1]},this.pop=function(){x.pop()}};function S(y,x){if(y==="'"){if(x&&x.match(/^[^\,\.\?\:\;\ ]/))return"\u2019"}else if(y===" '"&&x&&x.match(/^[\ ]/))return" \u2019";return!1}function g(y,x,b){var A=!0,O=new c(y);y.blobs=[];function I(D){this.stack=[D],this.latest=D,this.addStyling=function(E,C){if(A&&(E.slice(0,1)===" "&&(E=E.slice(1)),E.slice(0,1)===" "&&(E=E.slice(1)),A=!1),this.latest=this.stack[this.stack.length-1],C){if(typeof this.latest.blobs=="string"){var U=new s.Blob;U.blobs=this.latest.blobs,U.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[U]}var q=new s.Token,z=new s.Blob(null,q);if(z.alldecor=this.latest.alldecor.slice(),C[0]==="@class"&&C[1]==="nodecor"){for(var j=[],M={},R=[e[e.tmp.area].opt.layout_decorations].concat(z.alldecor),L=R.length-1;L>-1;L--){var P=R[L];if(P)for(var X=P.length-1;X>-1;X--){var B=P[X];["@font-weight","@font-style","@font-variant"].indexOf(B[0])>-1&&!M[B[0]]&&(C[1]!=="normal"&&(z.decorations.push([B[0],"normal"]),j.push([B[0],"normal"])),M[B[0]]=!0)}}z.alldecor.push(j)}else z.decorations.push(C),z.alldecor.push([C]);if(this.latest.blobs.push(z),this.stack.push(z),this.latest=z,E){var q=new s.Token,z=new s.Blob(null,q);z.blobs=E,z.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(z)}}else if(E){var U=new s.Blob;U.blobs=E,U.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(U)}},this.popStyling=function(){this.stack.pop()}}var T=new I(y);if(x.strings.length){var k=x.strings[0];b&&(k=" "+k),T.addStyling(k)}for(var N=0,_=x.tags.length;N<_;N++){var w=x.tags[N],k=x.strings[N+1];w.match(f.open)?(O.set(w),T.addStyling(k,O.pair())):(O.pop(),T.popStyling(),T.addStyling(k))}}this.processTags=function(y){var A=y.blobs,x=!1;A.slice(0,1)===" "&&!A.match(/^\s+[\'\"]/)&&(x=!0);var b=new RegExp("("+s.ROMANESQUE_REGEXP.source+")\u2019("+s.ROMANESQUE_REGEXP.source+")","g"),A=" "+A.replace(b,"$1'$2"),O=v(A);if(O.tags.length!==0){for(var I=!1,T=0,k=O.tags.length;T<k;T++){var N=O.tags[T],A=O.strings[T+1],_=S(N,A);if(_)O.strings[T+1]=_+O.strings[T+1],O.tags[T]="";else{for(var w;w=d(N,T),w;)if(Object.keys(w).indexOf("fixtag")>-1){if(N.match(f.close)&&N==="'")O.strings[T+1]="\u2019"+O.strings[T+1],O.tags[T]="";else{var D=O.tags[w.fixtag];O.forcedSpaces[w.fixtag-1]&&(D=D.slice(1)),O.strings[w.fixtag+1]=D+O.strings[w.fixtag+1],O.tags[w.fixtag]=""}if(t.length>0)if(N!=="'")t.pop();else break;else break}else if(w.nocase){O.tags[w.nocase.open]="",O.tags[w.nocase.close]="";break}else break;w&&(w.fixtag||w.fixtag===0)&&(O.strings[T+1]=O.tags[T]+O.strings[T+1],O.tags[T]="")}}for(var T=t.length-1;T>-1;T--){var E=t[T].pos,N=O.tags[E];N===" '"||N==="'"?O.strings[E+1]=" \u2019"+O.strings[E+1]:O.strings[E+1]=O.tags[E]+O.strings[E+1],O.tags[E]="",t.pop()}for(var T=O.tags.length-1;T>-1;T--)O.tags[T]||(O.tags=O.tags.slice(0,T).concat(O.tags.slice(T+1)),O.strings[T]=O.strings[T]+O.strings[T+1],O.strings=O.strings.slice(0,T+1).concat(O.strings.slice(T+2)));for(var T=0,k=O.tags.length;T<k;T++){var N=O.tags[T],C=O.forcedSpaces[T-1];[' "'," '",'("',"('"].indexOf(N)>-1&&(I||(l(N),I=!0),C||(O.strings[T]+=N.slice(0,1)))}g(y,O,x)}}},s.Output.Formatters=function(){var e=`(?:\u2018|\u2019|\u201C|\u201D| "| '|"|'|[-\u2013\u2014/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)`,t=new s.Doppeler(e,function(c){return c.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),i='(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)',r=new s.Doppeler(i),a=new s.Doppeler("(?:[\xA0 \xA0\u2000-\u200B\u205F\u3000]+)"),n={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function o(c){var S=c.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return S&&!(S[2].match(/^[\u0370-\u03FF]$/)&&!S[3])?S[1]+s.toLocaleUpperCase.call(this,S[2])+S[3]:c}function l(c,S){if(!S)return"";c.doppel=t.split(S);var g={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"\u2018":{opener:"\u2018",closer:"\u2019"},"\u201C":{opener:"\u201C",closer:"\u201D"}};function y(E,C){if(c.quoteState.length===0||E===c.quoteState[c.quoteState.length-1].opener)return c.quoteState.push({opener:g[E].opener,closer:g[E].closer,pos:C}),!1;var U=c.quoteState[c.quoteState.length-1].pos;return c.quoteState.pop(),c.quoteState.push({opener:g[E].opener,closer:g[E].closer,positions:C}),U}function x(E,C){if(c.quoteState.length>0&&E===c.quoteState[c.quoteState.length-1].closer)c.quoteState.pop();else return C}function b(E,C){var U=["\u201C","\u2018",' "'," '"].indexOf(E)>-1;return U?y(E,C):x(E,C)}function A(E,C){var U=E.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(U)return b(U[1],C)}c.doppel.strings.length&&c.doppel.strings[0].trim()&&(c.doppel.strings[0]=c.capitaliseWords(c.doppel.strings[0],0,c.doppel.tags[0]));for(var O=0,I=c.doppel.tags.length;O<I;O++){var T=c.doppel.tags[O],k=c.doppel.strings[O+1];if(c.tagState!==null&&(n[T]?c.tagState.push(n[T]):c.tagState.length&&T===c.tagState[c.tagState.length-1]&&c.tagState.pop()),c.afterPunct!==null&&T.match(/[\!\?\:]$/)&&(c.afterPunct=!0),c.tagState.length===0?c.doppel.strings[O+1]=c.capitaliseWords(k,O+1,c.doppel,c.doppel.tags[O+1]):c.doppel.strings[O+1].trim()&&(c.lastWordPos=null),c.quoteState!==null){var N=A(T,O);if(N||N===0){var _=c.doppel.origStrings[N+1].slice(0,1);c.doppel.strings[N+1]=_+c.doppel.strings[N+1].slice(1),c.lastWordPos=null}}c.isFirst&&k.trim()&&(c.isFirst=!1),c.afterPunct&&k.trim()&&(c.afterPunct=!1)}if(c.quoteState)for(var O=0,I=c.quoteState.length;O<I;O++){var N=c.quoteState[O].pos;if(typeof N!="undefined"){var _=c.doppel.origStrings[N+1].slice(0,1);c.doppel.strings[N+1]=_+c.doppel.strings[N+1].slice(1)}}if(c.lastWordPos){var w=a.split(c.doppel.strings[c.lastWordPos.strings]),D=w.strings[c.lastWordPos.words];D.length>1&&s.toLocaleLowerCase.call(this,D).match(c.skipWordsRex)&&(D=o.call(this,D),w.strings[c.lastWordPos.words]=D),c.doppel.strings[c.lastWordPos.strings]=a.join(w)}return t.join(c.doppel)}function m(c,S){return S}function p(c,S){var g={quoteState:null,capitaliseWords:function(y){for(var x=y.split(" "),b=0,A=x.length;b<A;b++){var O=x[b];O&&(x[b]=s.toLocaleLowerCase.call(c,O))}return x.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return l.call(c,g,S)}function f(c,S){var g={quoteState:null,capitaliseWords:function(y){for(var x=y.split(" "),b=0,A=x.length;b<A;b++){var O=x[b];O&&(x[b]=s.toLocaleUpperCase.call(c,O))}return x.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return l.call(c,g,S)}function h(c,S){var g={quoteState:[],capitaliseWords:function(y){for(var x=y.split(" "),b=0,A=x.length;b<A;b++){var O=x[b];O&&(g.isFirst?(x[b]=o.call(c,O),g.isFirst=!1):x[b]=s.toLocaleLowerCase.call(c,O))}return x.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return l.call(c,g,S)}function u(c,S){var g={quoteState:[],capitaliseWords:function(y,x,b){if(y.trim()){for(var A=a.split(y),O=A.strings,I=0,T=O.length;I<T;I++){var k=O[I];if(!k)continue;let N=s.toLocaleLowerCase.call(c,k),_=!1;(k.length>1&&!N.match(g.skipWordsRex)||I===O.length-1&&b==="-"||g.isFirst||g.afterPunct)&&(_=!0),_&&k===N&&(O[I]=o.call(c,k)),g.afterPunct=!1,g.isFirst=!1,g.lastWordPos={strings:x,words:I}}y=a.join(A)}return y},skipWordsRex:c.locale[c.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return l.call(c,g,S)}function d(c,S){var g={quoteState:[],capitaliseWords:function(y){for(var x=a.split(y),b=x.strings,A=0,O=b.length;A<O;A++){var I=b[A];if(I&&g.isFirst){I===s.toLocaleLowerCase.call(c,I)&&(b[A]=o.call(c,I)),g.isFirst=!1;break}}return a.join(x)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return l.call(c,g,S)}function v(c,S){var g={quoteState:[],capitaliseWords:function(y){for(var x=a.split(y),b=x.strings,A=0,O=b.length;A<O;A++){var I=b[A];I&&I===s.toLocaleLowerCase.call(c,I)&&(b[A]=o.call(c,I))}return a.join(x)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return l.call(c,g,S)}return{nameDoppel:r,passthrough:m,lowercase:p,uppercase:f,sentence:h,title:u,"capitalize-first":d,"capitalize-all":v}}(),s.Output.Formats=function(){},s.Output.Formats.prototype.html={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"\xA0 ").replace(s.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+s.SUPERSCRIPTS[t]+"</sup>"})},bibstart:`<div class="csl-bib-body">
`,bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":s.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":s.Output.Formatters.passthrough,"@strip-periods/false":s.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t=="undefined"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t=="undefined"?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var i="";return e.sys.embedBibliographyEntry&&(i=e.sys.embedBibliographyEntry(this.item_id)+`
`),'  <div class="csl-entry">'+t+`</div>
`+i},"@display/block":function(e,t){return`

    <div class="csl-block">`+t+`</div>
`},"@display/left-margin":function(e,t){return`
    <div class="csl-left-margin">`+t+"</div>"},"@display/right-inline":function(e,t){return'<div class="csl-right-inline">'+t+`</div>
  `},"@display/indent":function(e,t){return'<div class="csl-indent">'+t+`</div>
  `},"@showid/true":function(e,t,i){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){if(i)return'<span class="'+e.opt.nodenames[i]+'" cslid="'+i+'">'+t+"</span>";if(this.params&&typeof t=="string"){var r="";if(t){var a=t.match(s.VARIABLE_WRAPPER_PREPUNCT_REX);r=a[1],t=a[2]}var n="";return t&&s.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,n)}else return t}else return t},"@URL/true":function(e,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(e,t){var i=t;return t.match(/^https?:\/\//)||(i="https://doi.org/"+t),'<a href="'+i+'">'+t+"</a>"}},s.Output.Formats.prototype.text={text_escape:function(e){return e||(e=""),e},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":s.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":s.Output.Formatters.passthrough,"@strip-periods/false":s.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t=="undefined"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t=="undefined"?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+`
`},"@display/block":function(e,t){return`
`+t},"@display/left-margin":function(e,t){return t+" "},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return`
    `+t},"@showid/true":function(e,t){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},s.Output.Formats.prototype.rtf={text_escape:function(e){return e||(e=""),e.replace(/([\\{}])/g,"\\$1").replace(s.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+s.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("	").join("\\tab{}")},"@passthrough/true":s.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":s.Output.Formatters.passthrough,"@strip-periods/false":s.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t=="undefined"?s.Output.Formats.rtf.text_escape(e.getTerm("open-quote")):s.Output.Formats.rtf.text_escape(e.getTerm("open-quote"))+t+s.Output.Formats.rtf.text_escape(e.getTerm("close-quote"))},"@quotes/inner":function(e,t){return typeof t=="undefined"?s.Output.Formats.rtf.text_escape("\u2019"):s.Output.Formats.rtf.text_escape(e.getTerm("open-inner-quote"))+t+s.Output.Formats.rtf.text_escape(e.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":`\\line{}%%STRING%%\\line\r
`,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t},"@display/left-margin":function(e,t){return t+"\\tab "},"@display/right-inline":function(e,t){return t+`\r
`},"@display/indent":function(e,t){return`
\\tab `+t+`\\line\r
`},"@showid/true":function(e,t){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){var i="";if(t){var r=t.match(s.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],t=r[2]}var a="";return t&&s.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,a)}else return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},s.Output.Formats.prototype.asciidoc={text_escape:function(e){return e||(e=""),e.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(s.SUPERSCRIPTS_REGEXP,function(t){return"^"+s.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":s.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":s.Output.Formatters.passthrough,"@strip-periods/false":s.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t=="undefined"?"``":"``"+t+"''"},"@quotes/inner":function(e,t){return typeof t=="undefined"?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+`
`},"@display/block":function(e,t){return t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return" "+t},"@display/indent":function(e,t){return" "+t},"@showid/true":function(e,t){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations&&this.params&&typeof t=="string"){var i="";if(t){var r=t.match(s.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],t=r[2]}var a="";return t&&s.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,a)}else return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){var i=t;return t.match(/^https?:\/\//)||(i="https://doi.org/"+t),i+"["+t+"]"}},s.Output.Formats.prototype.fo={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(s.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+s.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":s.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":s.Output.Formatters.passthrough,"@strip-periods/false":s.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t=="undefined"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t=="undefined"?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var i="";if(e.bibliography&&e.bibliography.opt&&e.bibliography.opt.hangingindent){var r=e.bibliography.opt.hangingindent;i=' start-indent="'+r+'em" text-indent="-'+r+'em"'}var a="";return e.sys.embedBibliographyEntry&&(a=e.sys.embedBibliographyEntry(this.item_id)+`
`),'<fo:block id="'+this.system_id+'"'+i+">"+t+`</fo:block>
`+a},"@display/block":function(e,t){return`
  <fo:block>`+t+`</fo:block>
`},"@display/left-margin":function(e,t){return`
  <fo:table table-layout="fixed" width="100%">
    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>
    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>
    <fo:table-body>
      <fo:table-row>
        <fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
        `},"@display/right-inline":function(e,t){return`<fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
      </fo:table-row>
    </fo:table-body>
  </fo:table>
`},"@display/indent":function(e,t){return'<fo:block margin-left="2em">'+t+`</fo:block>
`},"@showid/true":function(e,t){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations&&this.params&&typeof t=="string"){var i="";if(t){var r=t.match(s.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],t=r[2]}var a="";return t&&s.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,a)}else return t},"@URL/true":function(e,t){return`<fo:basic-link external-destination="url('`+t+`')">`+t+"</fo:basic-link>"},"@DOI/true":function(e,t){var i=t;return t.match(/^https?:\/\//)||(i="https://doi.org/"+t),`<fo:basic-link external-destination="url('`+i+`')">`+t+"</fo:basic-link>"}},s.Output.Formats.prototype.latex={text_escape:function(e){return e||(e=""),e},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":s.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":s.Output.Formatters.passthrough,"@strip-periods/false":s.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t=="undefined"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t=="undefined"?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return"\\bibitem{"+e.sys.embedBibliographyEntry(this.item_id)+`}
`},"@display/block":function(e,t){return`
`+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return`
    `+t},"@showid/true":function(e,t,i){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},s.Output.Formats=new s.Output.Formats,s.Registry=function(e){this.debug=!1,this.state=e,this.registry={},this.reflist=[],this.refhash={},this.namereg=new s.Registry.NameReg(e),this.citationreg=new s.Registry.CitationReg(e),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new s.Registry.Comparifier(e,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],i=0,r=this.reflist.length;i<r;i+=1)t.push(""+this.reflist[i].id);return t},this.getSortedRegistryItems=function(){for(var t=[],i=0,r=this.reflist.length;i<r;i+=1)t.push(this.reflist[i]);return t}},s.Registry.prototype.init=function(e,t){var i,r;if(this.oldseq={},t){this.uncited={};for(var i=0,r=e.length;i<r;i+=1)this.myhash[e[i]]||this.mylist.push(""+e[i]),this.uncited[e[i]]=!0,this.myhash[e[i]]=!0}else{for(var a in this.uncited)e.push(a);var n={};for(i=e.length-1;i>-1;i+=-1)n[e[i]]?e=e.slice(0,i).concat(e.slice(i+1)):n[e[i]]=!0;this.mylist=e,this.myhash=n}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},s.Registry.prototype.dopurge=function(e){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(!this.citationreg.citationsByItemId||!this.citationreg.citationsByItemId[this.mylist[t]])&&!e[this.mylist[t]]&&(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1)));this.dodeletes(this.myhash)},s.Registry.prototype.dodeletes=function(e){var t,i,r,a,n,o,l,m,p;if(typeof e=="string"){var i=e;e={},e[i]=!0}for(var i in this.registry)if(!e[i]){if(this.uncited[i])continue;t=this.namereg.delitems(i);for(l in t)this.refreshes[l]=!0;for(r=this.registry[i].ambig,m=this.ambigcites[r].indexOf(i),m>-1&&(o=this.ambigcites[r].slice(),this.ambigcites[r]=o.slice(0,m).concat(o.slice(m+1,o.length)),this.ambigresets[r]=this.ambigcites[r].length),n=this.ambigcites[r].length,a=0;a<n;a+=1)p=""+this.ambigcites[r][a],this.refreshes[p]=!0;if(this.registry[i].siblings){if(this.registry[i].siblings.length==1){var f=this.registry[i].siblings[0];this.registry[f].siblings&&(this.registry[f].siblings.pop(),this.registry[f].master=!0)}else if(this.registry[i].siblings.length>1){var h=[i];if(this.registry[i].master){var u=this.registry[i].siblings[0],d=this.registry[u];d.master=!0,h.push(u)}for(var v=[],c=this.registry[i].siblings.length-1;c>-1;c+=-1){var S=this.registry[i].siblings.pop();h.indexOf(S)===-1&&v.push(S)}for(var c=v.length-1;c>-1;c+=-1)this.registry[i].siblings.push(v[c])}}for(var g=this.reflist.length-1;g>-1;g--)this.reflist[g].id===i&&(this.reflist=this.reflist.slice(0,g).concat(this.reflist.slice(g+1)));delete this.registry[i],delete this.refhash[i],this.return_data.bibchange=!0}},s.Registry.prototype.doinserts=function(e){var t,i,r,a,n,o,l;typeof e=="string"&&(e=[e]);for(var o=0,l=e.length;o<l;o+=1)t=e[o],this.registry[t]||(i=this.state.retrieveItem(t),r=s.getAmbiguousCite.call(this.state,i),this.ambigsTouched[r]=!0,i.legislation_id||(this.akeys[r]=!0),a={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i,newItem:!0},this.registry[t]=a,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),n=s.getAmbigConfig.call(this.state),this.registerAmbigToken(r,t,n),this.touched[t]=!0,this.return_data.bibchange=!0)},s.Registry.prototype.rebuildlist=function(e){var t,i,r,a;if(e)for(this.reflist=[],t=this.mylist.length,i=0;i<t;i+=1)r=this.mylist[i],a=this.registry[r],this.reflist.push(a),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1;else for(this.reflist_inserts=[],t=this.mylist.length,i=0;i<t;i+=1)r=this.mylist[i],a=this.registry[r],a.newItem&&this.reflist_inserts.push(a),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1},s.Registry.prototype.dorefreshes=function(){var e,t,i,r,a;for(var e in this.refreshes)if(t=this.registry[e],!!t){t.sortkeys=void 0,i=this.state.refetchItem(e);var r=t.ambig;typeof r=="undefined"&&(this.state.tmp.disambig_settings=!1,r=s.getAmbiguousCite.call(this.state,i),a=s.getAmbigConfig.call(this.state),this.registerAmbigToken(r,e,a));for(var n in this.ambigresets)if(this.ambigresets[n]===1){var o=this.ambigcites[r][0],i=this.state.refetchItem(o);this.registry[o].disambig=new s.AmbigConfig,this.state.tmp.disambig_settings=!1;var r=s.getAmbiguousCite.call(this.state,i),a=s.getAmbigConfig.call(this.state);this.registerAmbigToken(r,o,a)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[r]=!0,i.legislation_id||(this.akeys[r]=!0),this.touched[e]=!0}},s.Registry.prototype.setdisambigs=function(){for(var e in this.ambigsTouched)this.state.disambiguate.run(e);this.ambigsTouched={},this.akeys={}},s.Registry.prototype.renumber=function(){var e,t,i;for(this.state.bibliography_sort.opt.citation_number_sort_direction===s.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),e=this.reflist.length,t=0;t<e;t+=1)i=this.reflist[t],i.seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===s.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[i.seq]=this.reflist.length-i.seq+1),this.state.opt.update_mode===s.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0)},s.Registry.prototype.setsortkeys=function(){for(var e,t=0,i=this.mylist.length;t<i;t+=1){var e=this.mylist[t];(this.touched[e]||this.state.tmp.taintedItemIDs[e]||!this.registry[e].sortkeys)&&(this.registry[e].sortkeys=s.getSortKeys.call(this.state,this.state.retrieveItem(e),"bibliography_sort"))}},s.Registry.prototype._insertItem=function(e,t){return t.splice(this._locationOf(e,t)+1,0,e),t},s.Registry.prototype._locationOf=function(e,t,i,r){if(t.length===0)return-1;i=i||0,r=r||t.length;var a=i+r>>1,n=this.sorter.compareKeys(e,t[a]);if(r-i<=1)return n==-1?a-1:a;switch(n){case-1:return this._locationOf(e,t,i,a);case 0:return a;case 1:return this._locationOf(e,t,a,r)}},s.Registry.prototype.sorttokens=function(e){var t,i,r,a;if(!e){for(this.reflist_inserts=[],t=this.mylist.length,a=0;a<t;a+=1)i=this.mylist[a],r=this.registry[i],r.newItem&&this.reflist_inserts.push(r);for(var n in this.state.tmp.taintedItemIDs)if(this.registry[n]&&!this.registry[n].newItem)for(var o=this.reflist.length-1;o>-1;o--)this.reflist[o].id===n&&(this.reflist_inserts.push(this.reflist[o]),this.reflist=this.reflist.slice(0,o).concat(this.reflist.slice(o+1)));for(var o=0,l=this.reflist_inserts.length;o<l;o++){var r=this.reflist_inserts[o];delete r.newItem,this.reflist=this._insertItem(r,this.reflist)}for(a=0;a<t;a+=1)i=this.mylist[a],r=this.registry[i],this.registry[i].seq=a+1}},s.Registry.Comparifier=function(e,t){var i,r,a,n,o=s.getSortCompare.call(e,e.opt["default-locale-sort"]);i=e[t].opt.sort_directions,this.compareKeys=function(l,m){for(r=l.sortkeys?l.sortkeys.length:0,a=0;a<r;a+=1){var p=0;if(l.sortkeys[a]===m.sortkeys[a]?p=0:typeof l.sortkeys[a]=="undefined"?p=i[a][1]:typeof m.sortkeys[a]=="undefined"?p=i[a][0]:p=o(l.sortkeys[a],m.sortkeys[a]),0<p)return i[a][1];if(0>p)return i[a][0]}return l.seq>m.seq?1:l.seq<m.seq?-1:0},n=this.compareKeys,this.compareCompositeKeys=function(l,m){return n(l[1],m[1])}},s.Registry.prototype.compareRegistryTokens=function(e,t){return e.seq>t.seq?1:e.seq<t.seq?-1:0},s.Registry.prototype.registerAmbigToken=function(e,t,i){if(this.registry[t]||s.debug("Warning: unregistered item: itemID=("+t+"), akey=("+e+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var r=0,a=i.names.length;r<a;r+=1){var n=i.names[r],o=this.registry[t].disambig.names[r];if(n!==o)this.state.tmp.taintedItemIDs[t]=!0;else if(i.givens[r])for(var l=0,m=i.givens[r].length;l<m;l+=1){var p=i.givens[r][l],f=this.registry[t].disambig.givens[r][l];p!==f&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[e]||(this.ambigcites[e]=[]),this.ambigcites[e].indexOf(""+t)===-1&&this.ambigcites[e].push(""+t),this.registry[t].ambig=e,this.registry[t].disambig=s.cloneAmbigConfig(i)},s.getSortKeys=function(e,t){var i,r,a,n,o,l;for(i=this.tmp.area,r=this.tmp.root,a=this.tmp.extension,n=s.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,s.getCite.call(this,e),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,o=this[t].keys.length,l=0;l<o;l+=1)this[t].keys[l]=n(this[t].keys[l]);return this.tmp.area=i,this.tmp.root=r,this.tmp.extension=a,this[t].keys},s.Registry.NameReg=function(e){var t,i,r,a,n,o,l,m,p,f,h,u;this.state=e,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},l=function(d){return d||(d=""),d.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},m=function(d,v,c){t=l(c.family),d.opt["demote-non-dropping-particle"]==="never"&&c["non-dropping-particle"]&&c.family&&(t=`${t} ${c["non-dropping-particle"]}`),r=l(c.given);var S=r.match(/[,\!]* ([^,]+)$/);S&&S[1]===S[1].toLowerCase()&&(r=r.replace(/[,\!]* [^,]+$/,"")),i=s.Util.Names.initializeWith(d,r,"%s"),d.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(t=""+v+t)},p=function(d,v,c,S,g,y){var x;if(e.tmp.area.slice(0,12)==="bibliography"&&!g)return typeof y=="string"?1:2;var b=e.nameOutput.getName(v,"locale-translit",!0);v=b.name,m(this.state,""+d,v),x=2,a=e.opt["disambiguate-add-givenname"],n=e.citation.opt["givenname-disambiguation-rule"];var A=n;if(n==="by-cite"&&(n="all-names"),g==="short"?x=0:typeof y=="string"&&(x=1),typeof this.namereg[t]=="undefined"||typeof this.namereg[t].ikey[i]=="undefined")return x;if(A==="by-cite"&&x<=S)return S;if(!a||typeof n=="string"&&n.slice(0,12)==="primary-name"&&c>0||(!n||n==="all-names"||n==="primary-name"?(this.namereg[t].count>1&&(x=1),(this.namereg[t].ikey&&this.namereg[t].ikey[i].count>1||this.namereg[t].count>1&&typeof y!="string")&&(x=2)):(n==="all-names-with-initials"||n==="primary-name-with-initials")&&(this.namereg[t].count>1?x=1:x=0),e.registry.registry[d]))return x;if(g=="short")return 0;if(typeof y=="string")return 1},f=function(d){var v,c,S,g,y;(typeof d=="string"||typeof d=="number")&&(d=[""+d]);var x={};for(c=d.length,v=0;v<c;v+=1)if(g=""+d[v],!!this.nameind[g]){for(y in this.nameind[g])if(this.nameind[g].hasOwnProperty(y)){var b=y.split("::");if(t=b[0],i=b[1],r=b[2],typeof this.namereg[t]=="undefined")continue;if(o=this.namereg[t].items,r&&this.namereg[t].ikey[i]&&this.namereg[t].ikey[i].skey[r]&&(u=this.namereg[t].ikey[i].skey[r].items,S=u.indexOf(""+g),S>-1&&(this.namereg[t].ikey[i].skey[r].items=u.slice(0,S).concat(u.slice([S+1]))),this.namereg[t].ikey[i].skey[r].items.length===0&&(delete this.namereg[t].ikey[i].skey[r],this.namereg[t].ikey[i].count+=-1,this.namereg[t].ikey[i].count<2)))for(var A=0,O=this.namereg[t].ikey[i].items.length;A<O;A+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[i].items[A]]=!0;if(i&&this.namereg[t].ikey[i]&&(S=this.namereg[t].ikey[i].items.indexOf(""+g),S>-1&&(o=this.namereg[t].ikey[i].items.slice(),this.namereg[t].ikey[i].items=o.slice(0,S).concat(o.slice([S+1]))),this.namereg[t].ikey[i].items.length===0&&(delete this.namereg[t].ikey[i],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(var A=0,O=this.namereg[t].items.length;A<O;A+=1)e.tmp.taintedItemIDs[this.namereg[t].items[A]]=!0;t&&(S=this.namereg[t].items.indexOf(""+g),S>-1&&(o=this.namereg[t].items.slice(),this.namereg[t].items=o.slice(0,S).concat(o.slice([S+1],o.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[g][y]}delete this.nameind[g],delete this.nameindpkeys[g]}return x},h=function(d,v,c){var S,g,y=e.nameOutput.getName(v,"locale-translit",!0);if(v=y.name,!(e.citation.opt["givenname-disambiguation-rule"]&&e.citation.opt["givenname-disambiguation-rule"].slice(0,8)==="primary-"&&c!==0)){if(m(this.state,""+d,v),t&&(typeof this.namereg[t]=="undefined"?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[d]):this.namereg[t].items.indexOf(d)===-1&&this.namereg[t].items.push(d)),t&&i)if(typeof this.namereg[t].ikey[i]=="undefined"){if(this.namereg[t].ikey[i]={},this.namereg[t].ikey[i].count=0,this.namereg[t].ikey[i].skey={},this.namereg[t].ikey[i].items=[d],this.namereg[t].count+=1,this.namereg[t].count===2)for(var S=0,g=this.namereg[t].items.length;S<g;S+=1)e.tmp.taintedItemIDs[this.namereg[t].items[S]]=!0}else this.namereg[t].ikey[i].items.indexOf(d)===-1&&this.namereg[t].ikey[i].items.push(d);if(t&&i&&r)if(typeof this.namereg[t].ikey[i].skey[r]=="undefined"){if(this.namereg[t].ikey[i].skey[r]={},this.namereg[t].ikey[i].skey[r].items=[d],this.namereg[t].ikey[i].count+=1,this.namereg[t].ikey[i].count===2)for(var S=0,g=this.namereg[t].ikey[i].items.length;S<g;S+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[i].items[S]]=!0}else this.namereg[t].ikey[i].skey[r].items.indexOf(d)===-1&&this.namereg[t].ikey[i].skey[r].items.push(d);typeof this.nameind[d]=="undefined"&&(this.nameind[d]={},this.nameindpkeys[d]={}),t&&(this.nameind[d][t+"::"+i+"::"+r]=!0,this.nameindpkeys[d][t]=this.namereg[t])}},this.addname=h,this.delitems=f,this.evalname=p},s.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},s.Disambiguation=function(e){this.state=e,this.sys=this.state.sys,this.registry=e.registry.registry,this.ambigcites=e.registry.ambigcites,this.configModes(),this.debug=!1},s.Disambiguation.prototype.run=function(e){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=e,this.initVars(e)&&this.runDisambig())},s.Disambiguation.prototype.runDisambig=function(){var e;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),e=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(e);this.lists=this.lists.slice(1)}},s.Disambiguation.prototype.scanItems=function(e){var t,i,r;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=e[1][0],this.ItemCite=s.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=e[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var a=0,t=1,i=e[1].length;t<i;t+=1){r=e[1][t];var n=s.getAmbiguousCite.call(this.state,r,this.base,!0);this.debug&&t>1&&this.state.sys.print("  -----------"),this.ItemCite===n?(this.debug&&(this.state.sys.print("  [CLASH]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+r.id+": "+n)),a+=1,this.partners.push(r)):(this.debug&&(this.state.sys.print("  [clear]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+r.id+": "+n)),this.nonpartners.push(r))}this.clashes[0]=this.clashes[1],this.clashes[1]=a},s.Disambiguation.prototype.evalScan=function(e){this[this.modes[this.modeindex]](e),e&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},s.Disambiguation.prototype.disNames=function(e){var t,i;if(this.debug&&this.state.sys.print("[3] == disNames() =="),this.clashes[1]===0&&this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(this.clashes[1]===0)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),e&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,i=this.partners.length;t<i;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},s.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var e=!1;if(this.clashes[1]===0&&this.nonpartners.length<2&&(e=!0),!e&&(!this.base.disambiguate||this.state.tmp.disambiguate_count!==this.state.tmp.disambiguate_maxMax))if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var t=0,i=this.lists[this.listpos][1].length;t<i;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0}else if(e||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(e||this.modeindex===this.modes.length-1){for(var r=this.lists[this.listpos][0],t=0,i=this.lists[this.listpos][1].length;t<i;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,r);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;var r=this.lists[this.listpos][0];r.disambiguate=!0;for(var t=0,i=this.lists[this.listpos][1].length;t<i;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,r)}},s.Disambiguation.prototype.disYears=function(){var e,t,i,r;this.debug&&this.state.sys.print("[3] === disYears =="),i=[];var a=this.lists[this.listpos][0];if(this.clashes[1])for(var n=0,o=this.state.registry.mylist.length;n<o;n+=1)for(var l=this.state.registry.mylist[n],m=0,p=this.lists[this.listpos][1].length;m<p;m+=1){var r=this.lists[this.listpos][1][m];if(r.id==l){i.push(this.registry[r.id]);break}}i.sort(this.state.registry.sorter.compareKeys);for(var e=0,t=i.length;e<t;e+=1){a.year_suffix=""+e;var f=this.state.registry.registry[i[e].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+i[e].id,a),s.ambigConfigDiff(f,a)&&(this.state.tmp.taintedItemIDs[i[e].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},s.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print(`
[1] === incrementDisambig() ===`),this.initGivens)return this.initGivens=!1,!1;var e=!1,t=!0;if(this.modes[this.modeindex]==="disNames"){t=!1,typeof this.givensMax!="number"&&(t=!0);var i=!1;typeof this.namesMax!="number"&&(i=!0),typeof this.givensMax=="number"&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),typeof this.namesMax=="number"&&t&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),typeof this.namesetsMax=="number"&&i&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),(typeof this.namesetsMax!="number"||this.namesetsMax===-1||this.gnameset===this.namesetsMax)&&(!this.state.opt["disambiguate-add-names"]||typeof this.namesMax!="number"||this.gname===this.namesMax)&&(typeof this.givensMax!="number"||typeof this.base.givens[this.gnameset]=="undefined"||typeof this.base.givens[this.gnameset][this.gname]=="undefined"||this.base.givens[this.gnameset][this.gname]===this.givensMax)&&(e=!0,this.debug&&this.state.sys.print("    MAXED"))}else this.modes[this.modeindex]==="disExtraText"&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return e},s.Disambiguation.prototype.initVars=function(e){var t,i,r,a,n;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=e,this.maxNamesByItemId={},a=[],r=this.ambigcites[e],!r||!r.length)return!1;var o=this.state.refetchItem(""+r[0]);if(this.getCiteData(o),this.base=s.getAmbigConfig.call(this.state),r&&r.length>1){a.push([this.maxNamesByItemId[o.id],o]);for(var t=1,i=r.length;t<i;t+=1)o=this.state.refetchItem(""+r[t]),this.getCiteData(o,this.base),a.push([this.maxNamesByItemId[o.id],o]);a.sort(function(m,p){return m[0]>p[0]?1:m[0]<p[0]?-1:m[1].id>p[1].id?1:m[1].id<p[1].id?-1:0}),n=[];for(var t=0,i=a.length;t<i;t+=1)n.push(a[t][1]);this.lists.push([this.base,n]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+r[0]);if(this.modeindex=0,this.state.citation.opt["disambiguate-add-names"]||!0)this.namesMax=this.maxNamesByItemId[this.Item.id][0];else var t,i,l;return this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},s.Disambiguation.prototype.padBase=function(e){for(var t=0,i=e.names.length;t<i;t+=1){e.givens[t]||(e.givens[t]=[]);for(var r=0,a=e.names[t];r<a;r+=1)e.givens[t][r]||(e.givens[t][r]=0)}},s.Disambiguation.prototype.configModes=function(){var e,t;this.modes=[],e=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||e&&t==="by-cite")&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},s.Disambiguation.prototype.getCiteData=function(e,t){if(!this.maxNamesByItemId[e.id]){s.getAmbiguousCite.call(this.state,e,t),t=s.getAmbigConfig.call(this.state),this.maxNamesByItemId[e.id]=s.getMaxVals.call(this.state),this.state.registry.registry[e.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,r=this.state.registry.registry[e.id].disambig.givens.length;i<r;i+=1)this.state.registry.registry[e.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[e.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=s.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(var i=0,r=t.names.length;i<r;i+=1)t.names[i]>this.base.names[i]&&(this.base.givens[i]=t.givens[i].slice(),this.base.names[i]=t.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var a=0,n=this.base.givens.length;a<n;a+=1)this.betterbase.givens[a]=this.base.givens[a].slice()}},s.Disambiguation.prototype.captureStepToBase=function(){this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.base.givens&&this.base.givens.length&&typeof this.base.givens[this.gnameset][this.gname]!="undefined"&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},s.Engine.prototype.getJurisdictionList=function(e){for(var t=[],i=e.split(":"),r=i.length;r>0;r--){var a=i.slice(0,r).join(":");if(t.push(a),this.opt.jurisdiction_fallbacks[a]){var n=this.opt.jurisdiction_fallbacks[a];t.push(n)}}return t.indexOf("us")===-1&&t.push("us"),t},s.Engine.prototype.loadStyleModule=function(e,t,i){var r=null,a=0;this.juris[e]={};var n=s.setupXml(t);n.addMissingNameNodes(n.dataObj),n.addInstitutionNodes(n.dataObj),n.insertPublisherAndPlace(n.dataObj),n.flagDateMacros(n.dataObj);for(var u=n.getNodesByName(n.dataObj,"law-module"),o=0,l=u.length;o<l;o++){var m=n.getAttributeValue(u[o],"types");if(m){this.juris[e].types={},m=m.split(/\s+/);for(var p=0,f=m.length;p<f;p++)this.juris[e].types[m[p]]=!0}i||(r=n.getAttributeValue(u[o],"fallback"),r&&e!=="us"&&(this.opt.jurisdiction_fallbacks[e]=r))}var h=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];s.SET_COURT_CLASSES(this,h,n,n.dataObj),this.juris[e].types||(this.juris[e].types=s.MODULE_TYPES);for(var u=n.getNodesByName(n.dataObj,"macro"),o=0,l=u.length;o<l;o++){var d=n.getAttributeValue(u[o],"name");if(!s.MODULE_MACROS[d]){s.debug('CSL: skipping non-modular macro name "'+d+'" in module context');continue}a++,this.juris[e][d]=[],this.buildTokenLists(u[o],this.juris[e][d]),this.configureTokenList(this.juris[e][d])}return r},s.Engine.prototype.retrieveAllStyleModules=function(e){var t={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"];i=i||[],i=[""].concat(i);for(var r=i.length-1;r>-1;r--)for(var a=i[r],n=0,o=e.length;n<o;n++){var l=e[n];if(!this.opt.jurisdictions_seen[l]){var m=this.sys.retrieveStyleModule(l,a);(!m&&!a||m)&&(this.opt.jurisdictions_seen[l]=!0),m&&(t[l]=m)}}return t},s.ParticleList=function(){var e=[[[0,1],null]],t=[[[0,3],null]],i=[[null,[0,1]]],r=[[null,[0,2]]],a=[[null,[0,3]]],n=[[null,[0,1]],[[0,1],null]],o=[[null,[0,2]],[[0,2],null]],l=[[[0,1],null],[null,[0,1]]],m=[[[0,2],null],[null,[0,2]]],p=[[[0,3],null],[null,[0,3]]],f=[[null,[0,2]],[[0,1],[1,2]]],h=[["'s",i],["'s-",i],["'t",i],["a",i],["aan 't",r],["aan de",r],["aan den",r],["aan der",r],["aan het",r],["aan t",r],["aan",i],["ad-",n],["adh-",n],["af",n],["al",n],["al-",n],["am de",r],["am",i],["an-",n],["ar-",n],["as-",n],["ash-",n],["at-",n],["ath-",n],["auf dem",m],["auf den",m],["auf der",m],["auf ter",r],["auf",l],["aus 'm",m],["aus dem",m],["aus den",m],["aus der",m],["aus m",m],["aus",l],["aus'm",m],["az-",n],["a\u0161-",n],["a\u1E0D-",n],["a\u1E0F-",n],["a\u1E63-",n],["a\u1E6D-",n],["a\u1E6F-",n],["a\u1E93-",n],["ben",i],["bij 't",r],["bij de",r],["bij den",r],["bij het",r],["bij t",r],["bij",i],["bin",i],["boven d",r],["boven d'",r],["d",i],["d'",n],["da",n],["dal",i],["dal'",i],["dall'",i],["dalla",i],["das",n],["de die le",a],["de die",r],["de l",r],["de l'",r],["de la",f],["de las",f],["de le",r],["de li",o],["de van der",a],["de",n],["de'",n],["deca",i],["degli",n],["dei",n],["del",n],["dela",e],["dell'",n],["della",n],["delle",n],["dello",n],["den",n],["der",n],["des",n],["di",n],["die le",r],["do",i],["don",i],["dos",n],["du",n],["ed-",n],["edh-",n],["el",n],["el-",n],["en-",n],["er-",n],["es-",n],["esh-",n],["et-",n],["eth-",n],["ez-",n],["e\u0161-",n],["e\u1E0D-",n],["e\u1E0F-",n],["e\u1E63-",n],["e\u1E6D-",n],["e\u1E6F-",n],["e\u1E93-",n],["het",i],["i",i],["il",e],["im",i],["in 't",r],["in de",r],["in den",r],["in der",o],["in het",r],["in t",r],["in",i],["l",i],["l'",i],["la",i],["las",i],["le",i],["les",n],["lo",n],["los",i],["lou",i],["of",i],["onder 't",r],["onder de",r],["onder den",r],["onder het",r],["onder t",r],["onder",i],["op 't",r],["op de",o],["op den",r],["op der",r],["op gen",r],["op het",r],["op t",r],["op ten",r],["op",i],["over 't",r],["over de",r],["over den",r],["over het",r],["over t",r],["over",i],["s",i],["s'",i],["sen",e],["t",i],["te",i],["ten",i],["ter",i],["tho",i],["thoe",i],["thor",i],["to",i],["toe",i],["tot",i],["uijt 't",r],["uijt de",r],["uijt den",r],["uijt te de",a],["uijt ten",r],["uijt",i],["uit 't",r],["uit de",r],["uit den",r],["uit het",r],["uit t",r],["uit te de",a],["uit ten",r],["uit",i],["unter",i],["v",i],["v.",i],["v.d.",i],["van 't",r],["van de l",a],["van de l'",a],["van de",r],["van de",r],["van den",r],["van der",r],["van gen",r],["van het",r],["van la",r],["van t",r],["van ter",r],["van van de",a],["van",n],["vander",i],["vd",i],["ver",i],["vom und zum",t],["vom",n],["von 't",r],["von dem",m],["von den",m],["von der",m],["von t",r],["von und zu",p],["von zu",m],["von",l],["voor 't",r],["voor de",r],["voor den",r],["voor in 't",a],["voor in t",a],["voor",i],["vor der",m],["vor",l],["z",e],["ze",e],["zu",l],["zum",n],["zur",n]];return h}(),s.parseParticles=function(){function e(r,a,n){var o=r;r=n?r.toLowerCase():r;var l=[],m,p;a?(r=r.split("").reverse().join(""),m=s.PARTICLE_GIVEN_REGEXP):m=s.PARTICLE_FAMILY_REGEXP;for(var f=r.match(m);f;){var h=a?f[1].split("").reverse().join(""):f[1],u=f?h:!1,u=u?h.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"):!1;if(p=u?u.toUpperCase()!==u:!1,!p)break;a?(l.push(o.slice(h.length*-1)),o=o.slice(0,h.length*-1)):(l.push(o.slice(0,h.length)),o=o.slice(h.length)),r=f[2],f=r.match(m)}if(a){r=r.split("").reverse().join(""),l.reverse();for(var d=1,v=l.length;d<v;d++)l[d].slice(0,1)==" "&&(l[d-1]+=" ");for(var d=0,v=l.length;d<v;d++)l[d].slice(0,1)==" "&&(l[d]=l[d].slice(1));r=o.slice(0,r.length)}else r=o.slice(r.length*-1);return[p,r,l]}function t(r){var a=r.slice(-1);return r=r.trim(),a===" "&&["'","\u2019"].indexOf(r.slice(-1))>-1&&(r+=" "),r}function i(r){if(!r.suffix&&r.given){var a=r.given.match(/(\s*,!*\s*)/);if(a){var n=r.given.indexOf(a[1]),o=r.given.slice(n+a[1].length),l=r.given.slice(n,n+a[1].length).replace(/\s*/g,"");o.replace(/\./g,"")==="et al"&&!r["dropping-particle"]?(r["dropping-particle"]=o,r["comma-dropping-particle"]=","):(l.length===2&&(r["comma-suffix"]=!0),r.suffix=o),r.given=r.given.slice(0,n)}}}return function(r){var l=e(r.family),a=l[1],n=l[2];r.family=a;var o=t(n.join(""));o&&(r["non-dropping-particle"]=o),i(r);var l=e(r.given,!0),m=l[1],p=l[2];r.given=m;var f=p.join("").trim();f&&(r["dropping-particle"]=f)}}(),Te.exports=s}}]);
